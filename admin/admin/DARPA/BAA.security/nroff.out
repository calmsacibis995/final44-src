










                            PPrrooppoossaall ffoorr RReesseeaarrcchh oonn

                      SSeeccuurriittyy aanndd CCoonnffoorrmmaannccee ooff NNeettwwoorrkkeedd

                              BBeerrkkeelleeyy UUNNIIXX SSyysstteemmss


                       Submitted in response to BAA #89-05










              ____________________             ____________________
              Susan L. Graham                  Domenico Ferrari
              Principal Investigator           Principal Investigator
              (415) 642-2059                   (415) 642-3806




              ____________________             ____________________
              W. G. Oldham, Director           Nancy J. Caputo, Manager
              Electronics Research Laboratory  Sponsord Projects Office
              (415) 642-2301                   (415) 642-0120





                   The Regents of the University of California
                             College of Engineering
                         Electronics Research Laboratory
                            University of California
                               Berkeley, CA 94720
                                February 23, 1989











                                 March 17, 1989













                            PPrrooppoossaall ffoorr RReesseeaarrcchh oonn

                      SSeeccuurriittyy aanndd CCoonnffoorrmmaannccee ooff NNeettwwoorrkkeedd

                              BBeerrkkeelleeyy UUNNIIXX SSyysstteemmss





                                February 23, 1989




            PPrriinncciippaall IInnvveessttiiggaattoorr

            Susan L. Graham                           (415)-642-2059
	    graham@renoir.berkeley.edu

            CCoo--PPrriinncciippaall IInnvveessttiiggaattoorr

            Domenico Ferrari                          (415)-642-3806
	    ferrari@ernie.berkeley.edu




            BBuussiinneessss MMaannaaggeerr

            Diane Leite                               (415)-642-8882
	    dianel@willow.berkeley.edu




            RReesseeaarrcchheerrss

            Marshall K. McKusick                      (415)-642-4948
	    mckusick@okeeffe.berkeley.edu

            Michael J. Karels                         (415)-642-4948
	    karels@okeeffe.berkeley.edu









                                 March 17, 1989







                                      - 2 -




            The mailing address for all personnel above is:
                                Computer Science Division
                                571 Evans Hall
                                University of California
                                Berkeley, CA 94720
















































                                 March 17, 1989







                                      - 3 -




            BB.. SSuummmmaarryy ooff IInnnnoovvaattiioonn

                 This is a proposal for DARPA  support  of  operating
            system  and networking research in the UNIX project at UC
            Berkeley.  The goal of the project is to use leading edge
            research  ideas  in  a stable and reliable implementation
            that  solves  current  problems  in   operating   systems
            research.   The  resulting system is widely used by other
            researchers in operating systems  and  network  protocols
            and implementations.

                 The network and authentication  subsystems  are  the
            bases  for the TCP/IP and login authentication systems of
            most networked UNIX systems.  This project  will  augment
            the  current  weak authentication scheme with a true net-
            work authentication services.  Remote login, process exe-
            cution and local network services will be modified to use
            this service in such a way that the user  interface  will
            remain as it is, allowing use of network services without
            entering passwords at each use.  User's passwords will no
            longer  be  passed through the network, even in encrypted
            form.  The improvements that this project  will  make  in
            those  subsystems will be applicable to most research and
            commercial versions of UNIX.





























                                 March 17, 1989







                                      - 4 -




            CC.. DDeelliivveerraabblleess

                 We are planning to implement prototypes for each  of
            these outlined areas of work over the period of this pro-
            posal.

            1.  We will do an informal  (``alpha'')  release  of  the
            system  to  interested developers after the first quarter
            of the proposal  period.   In  particular,  the  informal
            release  will  be  made available to the group at Mt Xinu
            that is producing a commercially supported MACH  release,
            as  well  as  to collaborators on the OSI networking pro-
            ject.  The alpha release will include

               o+ a  shadow  password  facility  that  makes  password
                 guessing much more difficult

               o+ a network authentication system integrated into  the
                 standard system login and network servers

               o+ network protocols and applications that  conform  to
                 the  forthcoming Internet Host Requirements specifi-
                 cation

            2.  In addition to the informal tape-based release,  much
            of  the networking software can be made publically avail-
            able via the Internet.  The shadow password facility  and
            the  revised  network  protocols and servers will be made
            available in this way as they are completed.

            3.  After incorporating feedback and refinements from the
            testers,  another release will be made to interested par-
            ties at the end of the  proposal  period.   This  release
            will  be  a  stable  system  that  may  be  used by other
            researchers, although it may be known as  a  ``beta''  or
            intermediate  release.   Any  problems  identified in the
            first release will be corrected in  the  second  release.
            Ancillary  network servers such as the printing and mail-
            ing systems will be converted to use the new  authentica-
            tion scheme for the second release.

            4.  We will submit a technical report describing the work
            done under this proposal.










                                 March 17, 1989







                                      - 5 -




            DD.. MMiilleessttoonneess

                 The security work described above has  already  been
            started informally, and will be conducted more thoroughly
            at the start of the period covered by this proposal.

               o+ When the  Internet  Host  Requirements  standard  is
                 finalized, the necessary changes will be implemented
                 and incorporated  into  the  system.   The  security
                 audit  will  proceed  in parallel.  The Telnet, FTP,
                 SMTP and name servers will be completed within three
                 months of finalization of the standard.

               o+ The security  audit  of  the  login,  remote  login,
                 remote  process and printer servers will commence at
                 the beginning of the project.   We  will  distribute
                 the  changes  to both sets of servers electronically
                 as they are completed, with  immediate  distribution
                 of fixes for serious problems.

               o+ Network- and transport-level changes must be made in
                 the kernel protocol implementations.  In particular,
                 support for IP type-of-service options  and  routing
                 needs  to be added, and recent proposals for gateway
                 monitoring should be implemented and  tested.   This
                 work will be done in the third quarter.

               o+ We will  also  incorporate  all  secuirty  and  Host
                 Requirement  changes  into the following releases as
                 described in section C.

               o+ Once an authentication mechanism  has  been  identi-
                 fied,  it  will  be  integrated  into the system and
                 incorporated into the final release.



















                                 March 17, 1989







                                      - 6 -




            EE.. PPrroopprriieettaarryy CCllaaiimmss ttoo RReessuullttss,, PPrroottoottyyppeess,, oorr SSyysstteemmss

                 Our experimental software will be built  using  some
            operating  systems, compilers, and other software systems
            available to us and to others only under licensing agree-
            ments.   Most  of  our software distribution is available
            only to sites with an  AT&T  UNIX  source  license.   The
            remainder of our software is available without license.













































                                 March 17, 1989







                                      - 7 -




            FF.. SSttaatteemmeenntt ooff WWoorrkk

                 The University of California at Berkeley, during the
            proposed one-year period, shall do work involving several
            parallel but related threads:

            o+    Audit of the system utilities to check for and elim-
                 inate unintended system access mechanisms.

            o+    Identification, evaluation, and incorporation of  an
                 authentication mechanism into the system.

            o+    Complete conformance with the Internet Host Require-
                 ments RFC when that standard is released.







































                                 March 17, 1989







                                      - 8 -




            GG.. PPrrooppoosseedd RReesseeaarrcchh

                 The recent invasion  of  the  DARPA  Internet  by  a
            quickly  reproducing  worm  highlighted  the  need  for a
            thorough review of the access safeguards built  into  the
            system.   We  will conduct a complete audit of the system
            utilities, especially network servers, to check  for  and
            eliminate unintended system access mechanisms.

                 The current security model of 4.3BSD is based on the
            model  of  privileged  ports.   The  model assumes that a
            reserved range of port identifiers can only be  allocated
            by trusted processes.  As workstations have replaced cen-
            tral timesharing computers, it has become easy for  users
            to attain an authorization that allows them to improperly
            obtain a privileged port.  Once they obtain a  privileged
            port,  they  can  impersonate other users on the network.
            To eliminate the impersonation of other users on the net-
            work,  the proposal includes the addition and integration
            of a real authentication mechanism for utilities such  as
            telnet, login, remote shell, and other network based ser-
            vices.

                 A group within the Internet Engineering  Task  Force
            has been drafting a Host Requirements standard for Inter-
            net hosts.  We reviewed this draft  recently  and  joined
            the  working  group.   For  the  most  part, the existing
            Berkeley TCP/IP and networking application software  con-
            forms  with  the  draft.  We will review conformance with
            the Host Requirements standard at the same time  that  we
            review the robustness of the network software.  We expect
            that some additions will have to be made  to  the  kernel
            network protocols to make them compliant.




















                                 March 17, 1989







                                      - 9 -




            HH.. TTeecchhnniiccaall RRaattiioonnaallee

                 The following sections provide an expanded  descrip-
            tion  of each of these projects described in the previous
            section.


            HH..11 SSyysstteemm SSeeccuurriittyy

                 The recent invasion of  the  ARPANET  by  a  quickly
            reproducing  worm  highlighted  the  need  for a thorough
            review of the access safeguards built  into  the  system.
            Until  now  we  have  taken a passive approach to dealing
            with weaknesses in the system access  mechanisms,  rather
            than actively searching for possible weaknesses.  When we
            are notified of a problem or loophole in a system utility
            by one of our users, we have a well defined procedure for
            fixing the problem and  expeditiously  disseminating  the
            fix  to  the BSD mailing list.  This procedure has proven
            itself to be effective in solving known problems as  they
            arise  (witness its success in handling the recent worm).
            However, we feel that it would be useful to take  a  more
            active  role  in  identifying  problems  before  they are
            reported (or exploited).  We will make a  complete  audit
            of the system utilities and network servers to find unin-
            tended system access  mechanisms.   Once  identified,  we
            expect  that  they  can be corrected through the existing
            mechanism.

                 As a part of the work to make the system more resis-
            tant  to  attack  from local users or via the network, it
            will be necessary to produce additional documentation  on
            the  configuration  and  operation  of  the system.  This
            documentation will cover such topics as file  and  direc-
            tory  ownership and access, network and server configura-
            tion, and control of privileged operations such  as  file
            system backups.

                 In addition, we have been discussing with DARPA pos-
            sible  plans  for  response  to  emergencies  such as the
            recent worm attack.  We believe that a plan such  as  the
            proposed  Computer  Emergency  Response  Team  (CERT) can
            respond  to  such  attacks  effectively,  and  intend  to
            cooperate  with such a plan.  We can provide at least two









                                 March 17, 1989







                                     - 10 -




            members for a response team and can serve as the  primary
            coordinators for problems involving BSD UNIX and network-
            ing software.


            HH..22 UUsseerr AAuutthheennttiiccaattiioonn

                 A major shortcoming of the present  system  is  that
            authentication  over  the  network is based solely on the
            privileged port  mechanism  between  trusting  hosts  and
            users.   Although privileged ports can only be created by
            processes running as root, such processes are easy for  a
            workstation  user  to  obtain;  they  simply reboot their
            workstation in single user mode.  Thus, a real  authenti-
            cation  mechanism is needed.  At present, we believe that
            the MIT Kerberos authentication server provides the  best
            solution to this problem.  We propose to investigate Ker-
            beros further as well as other authentication  mechanisms
            and  then  to  integrate the best one into Berkeley UNIX.
            Part of this integration would be  the  addition  of  the
            authentication  mechanism  into utilities such as telnet,
            login, remote shell, etc.  MIT currently supports the use
            of  Kerberos  for  authentication of rlogin, rsh, certain
            other servers used at MIT, and the  NFS  mount  protocol.
            If  we  choose  Kerberos,  we will add support for telnet
            (eventually replacing rlogin), the X window  system,  and
            the  mail  system within an authentication domain (a Ker-
            beros _r_e_a_l_m).  We would also  need  to  add  support  for
            transparent  third-party  operations.  (The existing Ker-
            beros software allows a user to connect to  a  server  on
            another system without supplying a password, but does not
            allow processes started on the server to access the  net-
            work  without sending another password over the network.)
            We hope to replace the existing  password  authentication
            on each host with the network authentication system.

                 Another subject of active work,  at  MIT  and  else-
            where,  is  the interaction between servers for different
            authentication realms.  Currently, the  servers  for  two
            Kerberos  realms  may  be  mutually authenticated only by
            realm administrators with a manual exchange of keys.   We
            would like to add a mechanism for a user in two realms to
            request that a equivalence  be  established  between  his
            identities  in  the  two  realms.   Such a facility could









                                 March 17, 1989







                                     - 11 -




            greatly reduce the need  to  transmit  passwords  in  the
            clear over wide-area networks.


            HH..33 HHoosstt RReeqquuiirreemmeennttss

                 A group within the Internet Engineering  Task  Force
            has been drafting a Host Requirements standard for Inter-
            net hosts.  We reviewed this draft  recently  and  joined
            the  working  group.   For  the  most  part, the existing
            Berkeley TCP/IP and networking application software  con-
            forms  with  the  draft.  We will review conformance with
            the Host Requirements standard at the same time  that  we
            review the robustness of the network software.  We expect
            that some additions will have to be made  to  the  kernel
            network protocols to make them compliant.  In particular,
            support for IP type-of-service options and routing  needs
            to  be added, and recent proposals for gateway monitoring
            should be implemented and tested.


































                                 March 17, 1989







                                     - 12 -




            II.. AAccccoommpplliisshhmmeennttss ooff tthhee BBeerrkkeelleeyy UUNNIIXX PPrroojjeecctt

                 The last major release of Berkeley  UNIX,  in  June,
            1986,  was  4.3BSD  [CSRG86].   The  release of 4.3BSD in
            April of 1986 addressed many of the performance  problems
            and  unfinished  interfaces present in 4.2BSD [Leffler84]
            [McKusick85].  Projects completed since  that  time  have
            been made available in a July, 1988 test release known as
            the 4.3BSD Tahoe release, named for the  CCI  Power  6/32
            processor for which support was added.


            II..11 44..33BBSSDD

                 This section summarizes the work  done  at  Berkeley
            between  the  September  1983 4.2BSD distribution of UNIX
            for the VAX|- and the March 1986 4.3BSD release.  Most  of
            the  changes  between  4.2BSD and 4.3BSD fall into one of
            several categories.  These are:

                 o+  new facilities,

                 o+  new protocol and hardware support,

                 o+  completion of skeletal facilities,

                 o+  generalizations of the framework  to  accommodate
                    new  hardware  and software systems, or to remove
                    hardware- or protocol-specific code  from  common
                    facilities,

                 o+  bug fixes, and

                 o+  performance improvements.

            The major changes to the kernel are:

                 o+  the use of caching to decrease  the  overhead  of
                    file system name translation,

            _________________________
            |- DEC, VAX, PDP, MASSBUS, UNIBUS, Q-bus and ULTRIX  are
            trademarks of Digital Equipment Corporation.










                                 March 17, 1989







                                     - 13 -




                 o+  a new interface to the _n_a_m_e_i name lookup function
                    that  encapsulates the arguments, return informa-
                    tion and side effects of this call,

                 o+  removal of most of the Internet dependencies from
                    common   parts   of   the  network,  and  greater
                    allowance for the use of multiple  address  fami-
                    lies on the same network hardware,

                 o+  support for the Xerox NS network protocols,

                 o+  support for the  VAX  8600  and  8650  processors
                    (with  UNIBUS  and  MASSBUS  peripherals, but not
                    with CI bus or HSC50 disk controllers),

                 o+  new drivers for the DHU11 and DMZ32 terminal mul-
                    tiplexors,  the TU81 and other TMSCP tape drives,
                    the VS100 display, the DEUNA,  Excelan  204,  and
                    Interlan NP100 Ethernet|= interfaces, and the  ACC
                    HDH and DDN X.25 IMP interfaces, and

                 o+  full support for the MS780-E memory controller on
                    the  VAX  11/780  and  11/785, using 64K and 256K
                    memory chips.


                 The performance of the system has been  improved  to
            be  at  least  as  good  as  that  of 4.1BSD, and in many
            instances is better.  The system is much  better  adapted
            to the larger physical memories of current computers.  In
            addition to improving the performance  of  kernel  opera-
            tions,  heavily  used  utilities  were optimized and many
            user level programs were improved by rewriting C  library
            routines for efficiency.

            o+    A new internet name domain server has been added  to
                 allow  sites  to administer their name space locally
                 and export it to the rest of  the  Internet.   Sites
                 not  using  the  name  server  may use a static host
                 table with a hashed lookup mechanism.

            _________________________
            |= Ethernet is a trademark of Xerox Corporation.










                                 March 17, 1989







                                     - 14 -




            o+    A new time synchronization server has been added  to
                 allow  a set of machines to keep their clocks within
                 tens of milliseconds of each other.

            o+    The system now supports  the  Xerox  Network  System
                 network   communication   protocols.   Most  of  the
                 remaining Internet  dependencies  in  shared  common
                 code have been removed or generalized.

            o+    The math library has been completely rewritten by  a
                 group  of  numerical  analysts  to  improve both its
                 speed and accuracy.

            o+    The symbolic debugger, _d_b_x,  has  been  dramatically
                 improved.   _D_b_x  works  on  C, Pascal and Fortran 77
                 programs and allows users to set  break  points  and
                 trace  execution by source code line numbers, refer-
                 ences to memory  locations,  procedure  entry,  etc.
                 _D_b_x  allows  users to reference structured and local
                 variables using the program's  programming  language
                 syntax.

            o+    Many programs were rewritten to do  I/O  in  optimal
                 blocks  for the file system.  Most of these programs
                 were doing their own I/O and not using the  standard
                 I/O library.

            o+    The signal mechanism  has  been  extended  to  allow
                 selected signals to interrupt pending system calls.

            o+    The C and Fortran 77 compilers have been modified so
                 that  they  can  generate  single precision floating
                 point operations.

            o+    The Fortran 77 compiler and associated  I/O  library
                 have  undergone  extensive changes to improve relia-
                 bility and performance.   Compilation  may,  option-
                 ally,  include  optimization  phases to improve code
                 density and decrease  execution  time.   Many  minor
                 bugs in the C compiler have been fixed.

            o+    Password lookup functions now use a hashed  database
                 rather than linear search of the password file.










                                 March 17, 1989







                                     - 15 -




            o+    C library string routines and several  standard  I/O
                 functions  were recoded in VAX assembler for greater
                 speed.  The C versions are available  for  portabil-
                 ity.  Standard error is now buffered within a single
                 call to do output.


            II..22 WWoorrkk ssiinnccee tthhee rreelleeaassee ooff 44..33BBSSDD

                 There have been several changes in the  system  that
            were included in the recent 4.3BSD Tahoe release.

                 The largest change has  been  the  incorporation  of
            support  for  the  first non-VAX processor, the CCI Power
            6/32 and 6/32SX.  (This addition also supports the Harris
            HCX-7  and  HCX-9,  as well as the Sperry 7000/40 and ICL
            machines.) The Power 6 version of 4.3BSD is largely based
            on the compilers and device drivers done for CCI's 4.2BSD
            UNIX, and is otherwise similar  to  the  VAX  release  of
            4.3BSD.  The entire source tree, including all kernel and
            user-level sources, has been  merged  using  a  structure
            that  will  easily accommodate the addition of other pro-
            cessor families.  A MIPS M1000 has been  donated  to  us,
            making  the  MIPS  architecture  a  likely  candidate for
            inclusion into a future BSD release.

                 Support has been added for the  DEC  VAX  8600/8650,
            VAX 8200/8250, MicroVAXII and MicroVAX 3200/3500/3600.

                 During the work on the CCI machine, it became  obvi-
            ous  that disk geometry and filesystem layout information
            must be stored on each disk in a pack label.  Disk labels
            were  implemented for the CCI disks and for the most com-
            mon types of disk controllers on the VAX.  A utility  was
            written  to create and maintain the disk information, and
            other user-level programs that use such  information  now
            obtain  it from the disk label.  The use of this facility
            has allowed improvements in the file  system's  knowledge
            of irregular disk geometries such as track-to-track skew.

                 The Internet and the Berkeley collection  of  local-
            area  networks  have both grown at high rates in the last
            year.  The Bay Area Regional Research  Network  (BARRNet)
            connecting  several  UC  campuses, Stanford and NASA-Ames









                                 March 17, 1989







                                     - 16 -




            has recently become operational, increasing the  complex-
            ity of the network connectivity.  Both Internet and local
            routing algorithms are showing the  strain  of  continued
            growth.   We have made several changes in the local rout-
            ing algorithm to keep accommodating the current topology,
            and  are  participating in the development of new routing
            algorithms and protocols.

                 A new general purpose kernel  memory  allocator  has
            been added to replace many special purpose memory alloca-
            tors.  The 4.3BSD UNIX kernel used  10  different  memory
            allocation  mechanisms,  each designed for the particular
            needs of the utilizing subsystem.  These mechanisms  have
            been replaced by a general purpose dynamic memory alloca-
            tor that can be used by all  of  the  kernel  subsystems.
            The  design  of  this  allocator takes advantage of known
            memory usage patterns in the UNIX  kernel  and  a  hybrid
            strategy that is time-efficient for small allocations and
            space-efficient for large  allocations.   This  allocator
            replaces the multiple memory allocation interfaces with a
            single easy-to-program interface, results in  more  effi-
            cient use of global memory by eliminating partitioned and
            specialized memory pools, and is quick  enough  (approxi-
            mately  15  VAX instructions) that no performance loss is
            observed  relative  to   the   current   implementations.
            [McKusick88].

                 The 4.2  fast  file  system  [McKusick84]  contained
            several  statically  sized structures, imposing limits on
            the number of cylinders per cylinder  group,  inodes  per
            cylinder  group,  and  number of distinguished rotational
            positions.  The new ``fat'' filesystem allows these  lim-
            its  to  be set at filesystem creation time.  Old kernels
            will treat the new filesystems as read-only, and new ker-
            nels will accommodate both formats.  The filesystem check
            facility, _f_s_c_k, has also been modified  to  check  either
            type.


            II..33 PPeerrssoonnnneell

                 The investigators and researchers in  this  proposal
            have  been involved in the Berkeley UNIX project for many
            years.  Professor Susan  L.  Graham   has  experience  as









                                 March 17, 1989







                                     - 17 -




            Project  Director for the DARPA tasking contract for _P_r_o_-
            _d_u_c_t_i_v_i_t_y _E_n_g_i_n_e_e_r_i_n_g _i_n _t_h_e _U_N_I_X _E_n_v_i_r_o_n_m_e_n_t, which  has
            provided  research  and/or infrastructure support to most
            members of  the  Computer  Science  Division  at  various
            times.  Professor Domenico Ferrari is a former departmen-
            tal Associate Chair for Computer Science.   Dr.  Marshall
            Kirk  McKusick  has  been the Research Computer Scientist
            associated with the project since 1984.   Michael  Karels
            has  been  the  Principal  Programmer associated with the
            project since 1983.  Diane Leite has been on the staff of
            the  Electronics  Research Laboratory for seven years and
            is familiar with the various campus and  government  pro-
            cedures.








































                                 March 17, 1989







                                     - 18 -




            JJ.. RReeffeerreenncceess


            Accetta86         Accetta, M., R. Baron, W.  Bolosky,  R.
                              Rashid,  A. Tevanian, M. Young, ``MACH:
                              A New Foundation for UNIX Development''
                              Computer  Science Department, Carnegie-
                              Mellon University, Pittsburg, PA 15213,
                              April 1986.


            Babaoglu79        Babaoglu, O., W. Joy, ``Data Structures
                              Added  in  the  Berkeley Virtual Memory
                              Extensions to the UNIX  Operating  Sys-
                              tem''  Computer Systems Research Group,
                              Dept of EECS, University of California,
                              Berkeley, CA 94720, USA, November 1979.


            Brownbridge82     Brownbridge, D.R.,  L.F.  Marshall,  B.
                              Randell, ``The Newcastle Connection, or
                              UNIXes of the World Unite!,'' _S_o_f_t_w_a_r_e-
                              _P_r_a_c_t_i_c_e  _a_n_d  _E_x_p_e_r_i_e_n_c_e, Vol. 12, pp.
                              1147-1162, 1982.


            Chandler86        Chandler, D., ``The Monthly Report - Up
                              the  Streams Without a Standard'', _U_N_I_X
                              _R_e_v_i_e_w, Vol. 4, No. 9, pp.  6-14,  Sep-
                              tember 1986.


            Clark85           D. Clark, ``The Structuring of  Systems
                              Using  Upcalls,''  _P_r_o_c_e_e_d_i_n_g_s  _o_f  _t_h_e
                              _T_e_n_t_h _A_C_M _S_y_m_p_o_s_i_u_m _o_n  _O_p_e_r_a_t_i_n_g  _S_y_s_-
                              _t_e_m_s  _P_r_i_n_c_i_p_l_e_s,  Association for Com-
                              puting Machinery, Baltimore, MD, 1985.


            Cole85            Cole, C.T.,  P.B.  Flinn,  A.B.  Atlas,
                              ``An Implementation of an Extended File
                              System for  UNIX,''  _U_s_e_n_i_x  _C_o_n_f_e_r_e_n_c_e
                              _P_r_o_c_e_e_d_i_n_g_s, pp. 131-150, June, 1985.










                                 March 17, 1989







                                     - 19 -




            CSRG86            CSRG,  _U_N_I_X  _P_r_o_g_r_a_m_m_e_r'_s  _M_a_n_u_a_l,  _4._3
                              _B_e_r_k_e_l_e_y _S_o_f_t_w_a_r_e _D_i_s_t_r_i_b_u_t_i_o_n, _V_i_r_t_u_a_l
                              _V_A_X-_1_1 _V_e_r_s_i_o_n, University of  Califor-
                              nia  Computer  Systems  Research Group,
                              Berkeley, CA, 1986.


            Hedrick88         C. Hedrick, ``Routing Information  Pro-
                              tocol,'' RFC-1058, SRI Network Informa-
                              tion Center, Menlo Park, CA, 1988.


            Karels86          Karels, M., M.  McKusick,  ``Towards  a
                              Compatible   File  System  Interface,''
                              _P_r_o_c_e_e_d_i_n_g_s _o_f _t_h_e _E_u_r_o_p_e_a_n _U_N_I_X  _U_s_e_r_s
                              _G_r_o_u_p _M_e_e_t_i_n_g, Manchester, England, pp.
                              481-496, September 1986.


            Kleiman86         Kleiman, S., ``Vnodes: An  Architecture
                              for  Multiple  File System Types in Sun
                              UNIX,'' _U_s_e_n_i_x _C_o_n_f_e_r_e_n_c_e  _P_r_o_c_e_e_d_i_n_g_s,
                              pp. 238-247, June, 1986.


            Leffler84         Leffler, S., M.K. McKusick, M.  Karels,
                              ``Measuring  and  Improving the Perfor-
                              mance of  4.2BSD,''  _U_s_e_n_i_x  _C_o_n_f_e_r_e_n_c_e
                              _P_r_o_c_e_e_d_i_n_g_s, pp. 237-252, June, 1984.


            Lepp88            M. Lepp and M. Karels, ``Exterior Gate-
                              way  Protocol, Version 3, Revisions and
                              Extensions to EGP,'' IDEA009,  Internet
                              Engineering  Task  Force  working docu-
                              ment, 1988.


            McKusick84        M. McKusick, W.  Joy,  S.  Leffler,  R.
                              Fabry, ``A Fast File System for UNIX'',
                              _A_C_M _T_r_a_n_s_a_c_t_i_o_n_s _o_n _C_o_m_p_u_t_e_r _S_y_s_t_e_m_s _2,
                              3.  pp 181-197, August 1984.











                                 March 17, 1989







                                     - 20 -




            McKusick85        McKusick, M.K., M. Karels, S.  Leffler,
                              ``Performance  Improvements  and  Func-
                              tional Enhancements in 4.3BSD,'' _U_s_e_n_i_x
                              _C_o_n_f_e_r_e_n_c_e  _P_r_o_c_e_e_d_i_n_g_s,  pp.  519-531,
                              June, 1985.


            McKusick86        McKusick, M., Karels, M., ``A New  Vir-
                              tual Memory Implementation for Berkeley
                              UNIX,''  _P_r_o_c_e_e_d_i_n_g_s  _o_f  _t_h_e  _E_u_r_o_p_e_a_n
                              _U_N_I_X  _U_s_e_r_s  _G_r_o_u_p _M_e_e_t_i_n_g, Manchester,
                              England, pp. 451-460, September 1986.


            McKusick88        McKusick, M., Karels, M., ``Design of a
                              General  Purpose  Memory  Allocator for
                              the 4.3BSD UNIX  Kernel'',  _P_r_o_c_e_e_d_i_n_g_s
                              _o_f _t_h_e _S_a_n _F_r_a_n_c_i_s_c_o _U_s_e_n_i_x _C_o_n_f_e_r_e_n_c_e,
                              pp 295-304, June 1988.


            Rifkin86          Rifkin, A.P., M.P. Forbes, R.L.  Hamil-
                              ton, M. Sabrio, S. Shah, K. Yueh, ``RFS
                              Architectural    Overview,''     _U_s_e_n_i_x
                              _C_o_n_f_e_r_e_n_c_e  _P_r_o_c_e_e_d_i_n_g_s,  pp.  248-259,
                              June, 1986.


            Ritchie74         Ritchie, D.M., K. Thompson, ``The  Unix
                              Time-Sharing  System,''  _C_o_m_m_u_n_i_c_a_t_i_o_n_s
                              _o_f _t_h_e _A_C_M, Vol. 17, pp. 365-375, July,
                              1974.


            Rodriguez86       Rodriguez, R.,  M.  Koehler,  R.  Hyde,
                              ``The  Generic  File  System,''  _U_s_e_n_i_x
                              _C_o_n_f_e_r_e_n_c_e  _P_r_o_c_e_e_d_i_n_g_s,  pp.  260-269,
                              June, 1986.


            Rose88            Marshall T. Rose,  UNI  network  inter-
                              face, IEEE P1003.8 subcommittee working
                              document.










                                 March 17, 1989







                                     - 21 -




            Sandberg85        Sandberg, R., D. Goldberg, S.  Kleiman,
                              D.  Walsh, B. Lyon, ``Design and Imple-
                              mentation of the Sun Network File  Sys-
                              tem,''  _U_s_e_n_i_x  _C_o_n_f_e_r_e_n_c_e _P_r_o_c_e_e_d_i_n_g_s,
                              pp. 119-130, June, 1985.


            Satyanarayanan85  Satyanarayanan, M., _e_t _a_l.,  ``The  ITC
                              Distributed File System: Principles and
                              Design,''  _P_r_o_c.  _1_0_t_h   _S_y_m_p_o_s_i_u_m   _o_n
                              _O_p_e_r_a_t_i_n_g  _S_y_s_t_e_m_s  _P_r_i_n_c_i_p_l_e_s, pp. 35-
                              50, ACM, December, 1985.


            Someren84         Someren, J. van, ``Paging  in  Berkeley
                              UNIX,''  Laboratorium voor schakeltech-
                              niek   en   techneik   v.d.    informa-
                              tieverwerkende   machines,   Codenummer
                              051560-44(1984)01, February 1984.


            Walker85          Walker,  B.J.  and  S.H.  Kiser,  ``The
                              LOCUS  Distributed  File  System,'' _T_h_e
                              _L_O_C_U_S _D_i_s_t_r_i_b_u_t_e_d _S_y_s_t_e_m  _A_r_c_h_i_t_e_c_t_u_r_e,
                              G.J.  Popek  and  B.J. Walker, ed., The
                              MIT Press, Cambridge, MA, 1985.


            Weinberger84      Weinberger, P.J., ``The Version 8  Net-
                              work  File  System,'' _U_s_e_n_i_x _C_o_n_f_e_r_e_n_c_e
                              _p_r_e_s_e_n_t_a_t_i_o_n, June, 1984.































                            PPrrooppoossaall ffoorr RReesseeaarrcchh oonn

                      SSeeccuurriittyy aanndd CCoonnffoorrmmaannccee ooff NNeettwwoorrkkeedd

                              BBeerrkkeelleeyy UUNNIIXX SSyysstteemmss









                                    Volume 2


































                                 March 17, 1989







                                     - 22 -




            AA.. PPrroojjeecctt MMaannaaggeemmeenntt

                 Professor Susan L. Graham will serve as the  Project
            Director.  She  will  supervise  the business manager and
            oversee the administrative aspects of the  project.   She
            has  experience as Project Director for the DARPA tasking
            contract  for  _P_r_o_d_u_c_t_i_v_i_t_y  _E_n_g_i_n_e_e_r_i_n_g  _i_n   _t_h_e   _U_N_I_X
            _E_n_v_i_r_o_n_m_e_n_t,  which  has provided research and/or infras-
            tructure support to most members of the Computer  Science
            Division at various times.

                 Professor Domenico Ferrari will  supervise  graduate
            students that are working on software projects related to
            the project.  He and  Professor  Graham  will  act  as  a
            liaisons  to  the Computer Science Department.  Professor
            Ferrari is a former departmental Associate Chair for Com-
            puter Science.

                 The staff for the proposed project will  consist  of
            two  technical  people,  a business manager, and a secre-
            tary.  The technical people, whose salaries will be  paid
            directly  by  this  contract, will consist of two profes-
            sional programmers.

                 Dr. Marshall Kirk McKusick together with Michael  J.
            Karels  will  be  responsible  for  setting  the research
            directions of the project and  managing  the  programmers
            associated  with  the project.  Dr. McKusick has been the
            Research Computer Scientist associated with  the  project
            since 1984.  Mr. Karels has been the Principal Programmer
            associated with the project since 1983.

                 The business manager will be Ms.  Diane  Leite,  who
            currently  has  the  same responsibility for other DARPA-
            funded projects.  She  has  worked  for  the  Electronics
            Research  Laboratory  in  various  capacities  for  seven
            years.
















                                 March 17, 1989







                                     - 23 -




            BB.. BBuuddggeett

                         April 1, 1989 - March 31, 1990



            A. SALARIES AND WAGES

                 1. Technical (Programmer II @ 100% & Programmer III @ 100%)   $ 85,361
                 2. Clerical Assistance (Assistant III @ 10%, Secretary @ 50%) $ 14,769
                 3. Administrative Services                                    $ 10,227

                 TOTAL SALARIES AND WAGES                                     $ 110,357

            B. EMPLOYEE BENEFITS                                               $ 33,383

                 TOTAL SALARIES AND EMPLOYEE BENEFITS                         $ 143,740

            C. EQUIPMENT

                 1. 2 ea. DEC/Sun 8MB Workstations                             $ 19,390
                 2. 3 ea. SMD Disk Drives                                      $ 33,000
                 3. 4 ea. Ethernet Interfaces                                  $ 12,000
                 4. 4 ea. 9600 Baud Telebit Modems                              $ 6,400
                 5. 3 ea. 4 Mb Upgrades for Sun Workstations                    $ 9,000
                 6. 3 ea. 16 Mb Upgrades for VAX                               $ 24,000
                 7. 1 ea. SCSI Disks                                             $3,200
                 8. 3 ea. Interphase 4400 Disk Controllers                     $ 15,000
                 9. 4 ea. High-speed Network Interfaces                        $ 30,000
                10. 1 ea. X.25 Network Interfaces                               $ 5,000
                11. 2 ea. Exabyte 8mm Tape Backup Systems                      $ 15,000
                12. 1 ea. MicroVAX Gateway                                     $ 15,000

                 TOTAL EQUIPMENT                                              $ 186,990

            D. TRAVEL

                 1. 10 R/Ts to the East Coast @ $700/trip
                 2. 2 R/Ts to Europe (IEEE 1003 - POSIX) @ $1,760/trip

                 TOTAL TRAVEL                                                  $ 10,520

            E. SUPPLIES AND EXPENSES










                                 March 17, 1989







                                     - 24 -




                 1. Computer Maintenance                                       $ 42,908
                 2. Network Access                                              $ 1,080
                 3. Mailing, Telephone, Xeroxing & Expendable Supplies          $ 5,370

                 TOTAL SUPPLIES AND EXPENSES                                   $ 49,358

            F. TOTAL DIRECT COSTS                                             $ 390,690

            G. INDIRECT COSTS (48.5% of $203,619 Modified Total Direct Costs)  $ 98,755

            H.  TOTAL COST OF PROJECT                                         $ 489,364










































                                 March 17, 1989


