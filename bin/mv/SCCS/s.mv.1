h64041
s 00002/00002/00101
d D 8.1 93/05/31 14:47:48 bostic 15 14
c 4.4BSD snapshot (revision 8.1); add 1993 to copyright
e
s 00002/00002/00101
d D 6.11 92/07/27 13:45:16 bostic 14 13
c on second thought, make it symlink(7)
e
s 00001/00000/00102
d D 6.10 92/07/27 13:41:07 bostic 13 12
c add symlin(1)
e
s 00013/00014/00089
d D 6.9 91/07/27 22:05:50 cael 12 11
c mdoc version three
e
s 00003/00001/00100
d D 6.8 91/06/27 17:20:20 bostic 11 10
c add POSIX/IEEE contribution notice
e
s 00003/00001/00098
d D 6.7 91/03/14 00:09:41 cael 10 8
c add .Vx so tmac.andoc will call tmac.mdoc-old
e
s 00001/00000/00099
d R 6.7 91/03/13 20:29:26 cael 9 8
c add .Vx so tmac.andoc will call tmac.mdoc-old
e
s 00002/00002/00097
d D 6.6 90/09/05 08:54:35 bostic 8 7
c typo, can't put a space after .Xr name
e
s 00001/00000/00098
d D 6.5 90/07/24 22:49:13 cael 7 6
c .Xr botch fix
e
s 00053/00052/00045
d D 6.4 90/06/11 05:57:38 cael 6 5
c converted man page
e
s 00001/00011/00096
d D 6.3 90/05/31 20:35:33 bostic 5 4
c new copyright notice
e
s 00090/00072/00017
d D 6.2 89/10/01 17:07:55 bostic 4 3
c new version of mv from Ken Smith (kensmith@cs.Buffalo.EDU)
c use cp and rm to copy anything not a regular file across partitions.
c expect to be POSIX .2 compliant
e
s 00001/00001/00088
d D 6.1 85/04/29 14:38:50 mckusick 3 2
c 4.3BSD beta release manual page
e
s 00010/00022/00079
d D 5.1 85/04/29 14:38:42 mckusick 2 1
c manual page distributed with 4.2BSD
e
s 00101/00000/00000
d D 4.1 85/04/29 14:38:34 mckusick 1 0
c manual page distributed with 4.1BSD
e
u
U
t
T
I 1
D 4
.\" Copyright (c) 1980 Regents of the University of California.
.\" All rights reserved.  The Berkeley software License Agreement
.\" specifies the terms and conditions for redistribution.
E 4
I 4
D 6
.\" Copyright (c) 1989 The Regents of the University of California.
E 6
I 6
D 15
.\" Copyright (c) 1989, 1990 The Regents of the University of California.
E 6
.\" All rights reserved.
E 15
I 15
.\" Copyright (c) 1989, 1990, 1993
.\"	The Regents of the University of California.  All rights reserved.
E 15
E 4
.\"
I 11
.\" This code is derived from software contributed to Berkeley by
.\" the Institute of Electrical and Electronics Engineers, Inc.
.\"
E 11
I 4
D 5
.\" Redistribution and use in source and binary forms are permitted
.\" provided that the above copyright notice and this paragraph are
.\" duplicated in all such forms and that any documentation,
.\" advertising materials, and other materials related to such
.\" distribution and use acknowledge that the software was developed
.\" by the University of California, Berkeley.  The name of the
.\" University may not be used to endorse or promote products derived
.\" from this software without specific prior written permission.
.\" THIS SOFTWARE IS PROVIDED ``AS IS'' AND WITHOUT ANY EXPRESS OR
.\" IMPLIED WARRANTIES, INCLUDING, WITHOUT LIMITATION, THE IMPLIED
.\" WARRANTIES OF MERCHANTABILITY AND FITNESS FOR A PARTICULAR PURPOSE.
E 5
I 5
D 12
.\" %sccs.include.redist.man%
E 12
I 12
.\" %sccs.include.redist.roff%
E 12
E 5
.\"
E 4
D 6
.\"	%W% (Berkeley) %G%
E 6
I 6
D 12
.\"     %W% (Berkeley) %G%
E 12
I 12
.\"	%W% (Berkeley) %G%
E 12
E 6
.\"
I 10
D 11
.Vx
E 11
D 12
.Vx
E 12
E 10
D 2
.TH MV 1 4/1/81
E 2
I 2
D 3
.TH MV 1 "1 April 1981"
E 3
I 3
D 6
.TH MV 1 "%Q%"
E 3
E 2
D 4
.UC 4
E 4
I 4
.UC 7
E 4
.SH NAME
D 4
mv \- move or rename files
E 4
I 4
mv \- move files
E 4
.SH SYNOPSIS
D 4
.B mv
[
.B \-i
] [
.B \-f
] [
.B \-
] file1 file2
.PP
.B mv
[
.B \-i
] [
.B \-f
] [
.B \-
] file ... directory
E 4
I 4
.nf
mv  [ \-f | \-i ] source target
mv  [ \-f | \-i ] source ... source directory
.fi
E 4
.SH DESCRIPTION
D 4
.I Mv
moves (changes the name of)
.I file1
to
.IR file2 .
E 4
.PP
E 6
I 6
.Dd %Q%
.Dt MV 1
D 10
.Os BSD 4.4
E 10
I 10
.Os
E 10
.Sh NAME
.Nm mv
.Nd move files
.Sh SYNOPSIS
.Nm mv
D 12
.Op Fl f Li \&| Fl i
E 12
I 12
.Op Fl f | Fl i
E 12
.Ar source target
.Nm mv
D 12
.Op  Fl f Li \&| Fl i
E 12
I 12
.Op  Fl f | Fl i
E 12
.Ar source ... source directory
D 12
.De
E 12
.Sh DESCRIPTION
.Pp
E 6
D 4
If
.I file2
D 2
already exists,
it is removed before
E 2
I 2
already exists, it is removed before
E 2
.I file1
D 2
is moved.
If
E 2
I 2
is moved.  If
E 2
.I file2
has a mode which forbids writing,
E 4
I 4
In its first form, the
E 4
D 6
.I mv
E 6
I 6
.Nm mv
E 6
D 4
prints the mode (see
.IR chmod (2))
D 2
and
reads the standard input to obtain a line;
if the line begins with
E 2
I 2
and reads the standard input to obtain a line; if the line begins with
E 2
.B y,
D 2
the move takes place;
if not,
E 2
I 2
the move takes place; if not,
E 2
.I mv
exits.
E 4
I 4
utility renames the file named by the
D 6
.I source
E 6
I 6
.Ar source
E 6
operand to the destination path named by the
D 6
.I target
E 6
I 6
.Ar target
E 6
operand.
This form is assumed when the last operand does not name an already
existing directory.
E 4
D 6
.PP
E 6
I 6
.Pp
E 6
D 2
In the second form,
one or more
E 2
I 2
D 4
In the second form, one or more
E 2
.I files
D 2
are moved to the
E 2
I 2
(plain files or directories) are moved to the
E 4
I 4
In its second form,
D 6
.I mv
E 6
I 6
.Nm mv
E 6
moves each file named by a
D 6
.I source
E 6
I 6
.Ar source
E 6
operand to a destination file in the existing directory named by the
E 4
E 2
D 6
.I directory
E 6
I 6
.Ar directory
E 6
D 2
with their original
file-names.
E 2
I 2
D 4
with their original file-names.
E 4
I 4
operand.
The destination path for each operand is the pathname produced by the
concatenation of the last operand, a slash, and the final pathname
component of the named file.
E 4
E 2
D 6
.PP
E 6
I 6
.Pp
E 6
D 4
.I Mv
refuses to move a file onto itself.
.PP
Options:
E 4
I 4
The following options are available:
E 4
D 6
.TP
D 4
.B \-i
stands for interactive mode. Whenever a move is to supercede an
existing file, the user is prompted by the name of the file
followed by a question mark. If he answers with a line starting
with 'y', the move continues. Any other reply prevents the move from
occurring.
E 4
I 4
\-f
E 6
I 6
D 12
.Tw Ds
.Tp Fl f
E 12
I 12
.Bl -tag -width flag
.It Fl f
E 12
E 6
Do not prompt for confirmation before overwriting the destination
path.
(The
D 6
.I \-i
E 6
I 6
.Fl i
E 6
option is ignored if the
D 6
.I \-f
E 6
I 6
.Fl f
E 6
option is specified.)
E 4
D 6
.TP
D 4
.B \-f
stands for force. This option overrides any mode restrictions or the
\-i switch.
.TP
.B \-
means interpret all the following arguments to 
E 4
I 4
\-i
E 6
I 6
D 12
.Tp Fl i
E 12
I 12
.It Fl i
E 12
E 6
Causes
E 4
D 6
.I mv
E 6
I 6
.Nm mv
E 6
D 4
as file names.  This allows file names starting with minus.
.SH "SEE ALSO"
cp(1), ln(1)
.SH BUGS
If
.I file1
E 4
I 4
to write a prompt to standard error before moving a file that would
overwrite an existing file.
If the response from the standard input begins with the character ``y'',
the move is attempted.
D 6
.PP
E 6
I 6
D 12
.Tp
E 12
I 12
.El
E 12
.Pp
E 6
It is an error for either the
D 6
.I source
E 6
I 6
.Ar source
E 6
operand or the destination path to specify a directory unless both do.
D 6
.PP
E 6
I 6
.Pp
E 6
If the destination path does not have a mode which permits writing,
D 6
.I mv
E 6
I 6
.Nm mv
E 6
prompts the user for confirmation as specified for the
D 6
.I \-i
E 6
I 6
.Fl i
E 6
option.
D 6
.PP
E 6
I 6
.Pp
E 6
As the
D 6
.IR rename (2)
E 6
I 6
.Xr rename  2
E 6
call does not work across file systems,
D 6
.I mv
E 6
I 6
.Nm mv
E 6
uses
D 6
.IR cp (1)
E 6
I 6
D 8
.Xr cp  1
E 8
I 8
.Xr cp 1
E 8
E 6
E 4
and
D 4
.I file2
lie on different file systems,
E 4
I 4
D 6
.IR rm (1)
E 6
I 6
D 8
.Xr rm  1
E 8
I 8
.Xr rm 1
E 8
E 6
to accomplish the move.
The effect is equivalent to:
D 6
.sp
.nf
.ti +5
E 6
I 6
D 12
.Pp
.Ds I
E 12
I 12
.Bd -literal -offset indent
E 12
E 6
rm -f destination_path && \e
D 6
.ti +8
cp -pr source_file destination && \e
.ti +8
rm -rf source_file
.fi
.PP
E 6
I 6
\tcp -pr source_file destination && \e
\trm -rf source_file
D 12
.De
E 12
I 12
.Ed
E 12
.Pp
E 6
The
E 4
D 6
.I mv
E 6
I 6
.Nm mv
E 6
D 4
must copy the file and delete the original.
D 2
In this case the owner name becomes
that of the copying process and any
linking relationship with other files
is lost.
.PP
Directories may only be moved within the same parent
directory.
E 2
I 2
In this case the owner name becomes that of the copying process and any
linking relationship with other files is lost.
E 4
I 4
utility exits 0 on success, and >0 if an error occurs.
D 6
.SH ENVIRONMENT
.SH "SEE ALSO"
.SH STANDARDS
E 6
I 6
.Sh SEE ALSO
I 7
D 14
.Xr cp 1
I 13
.Xr symlink 1
E 14
I 14
.Xr cp 1 ,
.Xr symlink 7
E 14
E 13
E 7
.Sh STANDARDS
E 6
The
D 6
.I mv
E 6
I 6
.Nm mv
E 6
D 12
function is expected to be POSIX 1003.2 compatible.
E 12
I 12
utility is expected to be
.St -p1003.2
compatible.
E 12
E 4
E 2
E 1
