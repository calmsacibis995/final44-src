h61745
s 00002/00002/00131
d D 8.1 93/05/31 15:08:11 bostic 21 20
c 4.4BSD snapshot (revision 8.1); add 1993 to copyright
e
s 00013/00013/00120
d D 6.16 92/06/20 12:27:00 bostic 20 19
c put options in alphabetical order
e
s 00006/00003/00127
d D 6.15 92/06/20 12:25:03 bostic 19 17
c add -K option to turn off Kerberos authentication
e
s 00002/00013/00117
d D 6.14.1.1 91/08/20 16:38:08 mckusick 18 17
c delete data-stream encryption for the foreign sites (Network, Release 2)
e
s 00026/00016/00104
d D 6.14 91/07/27 20:16:28 cael 17 16
c mdoc version three
e
s 00002/00000/00118
d D 6.13 91/03/14 00:10:04 cael 16 14
c add .Vx so tmac.andoc will call tmac.mdoc-old
e
s 00001/00000/00118
d R 6.13 91/03/13 20:29:34 cael 15 14
c add .Vx so tmac.andoc will call tmac.mdoc-old
e
s 00009/00002/00109
d D 6.12 90/10/21 21:17:12 mckusick 14 13
c document the -x flag
e
s 00001/00001/00110
d D 6.11 90/07/24 22:50:41 cael 13 12
c .Xr botch fix
e
s 00000/00000/00111
d D 6.10 90/06/11 06:00:03 cael 12 11
c converted man page
e
s 00074/00067/00037
d D 6.9 90/06/11 05:59:57 cael 11 10
c converted man page
e
s 00001/00011/00103
d D 6.8 90/05/31 20:38:23 bostic 10 9
c new copyright notice
e
s 00024/00011/00090
d D 6.7 89/08/30 20:27:20 kfall 9 8
c add some Kerberos detail
e
s 00017/00006/00084
d D 6.6 88/09/20 16:31:53 bostic 8 7
c Berkeley specific copyright
e
s 00006/00005/00084
d D 6.5 87/09/16 11:40:38 bostic 7 6
c move 4.2BSD syntax to BUGS
e
s 00001/00001/00088
d D 6.4 86/05/12 08:57:26 anne 6 5
c grammar
e
s 00008/00002/00081
d D 6.3 85/09/23 18:52:39 bloom 5 3
c document change in specifying remote user name
e
s 00008/00002/00081
d R 6.3 85/09/23 18:41:50 bloom 4 3
c document change of how to specify remote user name
e
s 00020/00003/00063
d D 6.2 85/06/08 02:34:07 lepreau 3 2
c add -p flag and correct sutf concerning umask
e
s 00001/00001/00065
d D 6.1 85/04/29 21:14:16 mckusick 2 1
c 4.3BSD beta release manual page
e
s 00066/00000/00000
d D 5.1 85/04/29 21:14:08 mckusick 1 0
c manual page first distributed with 4.2BSD
e
u
U
f b 
t
T
I 1
D 8
.\" Copyright (c) 1983 Regents of the University of California.
.\" All rights reserved.  The Berkeley software License Agreement
.\" specifies the terms and conditions for redistribution.
E 8
I 8
D 11
.\" Copyright (c) 1983 The Regents of the University of California.
E 11
I 11
D 21
.\" Copyright (c) 1983, 1990 The Regents of the University of California.
E 11
.\" All rights reserved.
E 21
I 21
.\" Copyright (c) 1983, 1990, 1993
.\"	The Regents of the University of California.  All rights reserved.
E 21
E 8
.\"
I 8
D 10
.\" Redistribution and use in source and binary forms are permitted
.\" provided that the above copyright notice and this paragraph are
.\" duplicated in all such forms and that any documentation,
.\" advertising materials, and other materials related to such
.\" distribution and use acknowledge that the software was developed
.\" by the University of California, Berkeley.  The name of the
.\" University may not be used to endorse or promote products derived
.\" from this software without specific prior written permission.
.\" THIS SOFTWARE IS PROVIDED ``AS IS'' AND WITHOUT ANY EXPRESS OR
.\" IMPLIED WARRANTIES, INCLUDING, WITHOUT LIMITATION, THE IMPLIED
.\" WARRANTIES OF MERCHANTIBILITY AND FITNESS FOR A PARTICULAR PURPOSE.
E 10
I 10
D 17
.\" %sccs.include.redist.man%
E 17
I 17
.\" %sccs.include.redist.roff%
E 17
E 10
.\"
E 8
D 11
.\"	%W% (Berkeley) %G%
E 11
I 11
D 17
.\"     %W% (Berkeley) %G%
E 17
I 17
.\"	%W% (Berkeley) %G%
E 17
E 11
.\"
I 16
D 17
.Vx
.Vx
E 17
E 16
D 2
.TH RCP 1C "17 March 1982"
E 2
I 2
D 8
.TH RCP 1C "%Q%"
E 8
I 8
D 11
.TH RCP 1 "%Q%"
E 8
E 2
.UC 5
.SH NAME
rcp \- remote file copy
.SH SYNOPSIS
.B rcp
D 3
file1 file2
E 3
I 3
[
.B \-p
I 9
] [
.B \-k realm
E 9
] file1 file2
E 3
.br
.B rcp
[
D 3
.B \-r
E 3
I 3
D 5
.B \-rp
E 5
I 5
.B \-p
] [
.B \-r
I 9
] [
.B \-k realm
E 9
E 5
E 3
] file ... directory
.SH DESCRIPTION
.I Rcp
E 11
I 11
.Dd %Q%
.Dt RCP 1
D 17
.Os BSD 4.2
E 17
I 17
.Os BSD 4.3r
E 17
.Sh NAME
.Nm rcp
.Nd remote file copy
.Sh SYNOPSIS
.Nm rcp
D 14
.Op Fl p
E 14
I 14
D 18
D 19
.Op Fl px
E 19
I 19
.Op Fl Kpx
E 19
E 18
I 18
.Op Fl p
E 18
E 14
.Op Fl k Ar realm
.Ar file1 file2
.Nm rcp
D 14
.Op Fl p
E 14
I 14
D 18
D 19
.Op Fl px
E 18
I 18
.Op Fl p
E 18
E 14
.Op Fl r
E 19
I 19
.Op Fl Kprx
E 19
.Op Fl k Ar realm
.Ar file ...
.Ar directory
.Sh DESCRIPTION
.Nm Rcp
E 11
copies files between machines.  Each
D 11
.I file
E 11
I 11
.Ar file
E 11
or
D 11
.I directory
E 11
I 11
.Ar directory
E 11
argument is either a remote file name of the
D 9
form ``rhost:path'', or a local file name (containing no `:' characters,
E 9
I 9
form ``rname@rhost:path'', or a local file name (containing no `:' characters,
E 9
D 6
or a `/' before any `:'s.)
E 6
I 6
or a `/' before any `:'s).
E 6
D 11
.PP
If the
.B \-r
I 3
option
E 3
is specified and any of the source files are directories,
.I rcp
E 11
I 11
.Pp
D 17
.Tp Fl r
E 17
I 17
.Bl -tag -width flag
I 19
.It Fl K
The
.Fl K
option turns off all Kerberos authentication.
E 19
D 20
.It Fl r
E 17
If any of the source files are directories,
E 20
I 20
.It Fl k
The
.Fl k
option requests
E 20
.Nm rcp
E 11
D 20
copies each subtree rooted at that name; in this case
the destination must be a directory.
E 20
I 20
to obtain tickets
for the remote host in realm
.Ar realm
instead of the remote host's realm as determined by
.Xr krb_realmofhost  3  .
E 20
D 11
.PP
E 11
I 11
D 17
.Tp Fl p
E 17
I 17
.It Fl p
E 17
The
.Fl p
option causes
.Nm rcp
to attempt to preserve (duplicate) in its copies the modification
times and modes of the source files, ignoring the
.Ar umask  .
E 11
I 3
By default, the mode and owner of
D 11
.I file2
E 11
I 11
.Ar file2
E 11
are preserved if it already existed; otherwise the mode of the source file
modified by the
D 11
.IR umask (2)
E 11
I 11
.Xr umask  2
E 11
on the destination host is used.
I 11
D 17
.Tp Fl k
E 17
I 17
D 20
.It Fl k
E 17
E 11
The
D 11
.B \-p
option causes
.I rcp
to attempt to preserve (duplicate) in its copies the modification
times and modes of the source files, ignoring the
.IR umask .
.PP
I 9
The
.B \-k
E 11
I 11
.Fl k
E 11
option requests
E 20
I 20
.It Fl r
If any of the source files are directories,
E 20
D 11
.I rcp
E 11
I 11
.Nm rcp
E 11
D 20
to obtain tickets
for the remote host in realm
D 11
.I realm
E 11
I 11
.Ar realm
E 11
instead of the remote host's realm as determined by
D 11
.IR krb_realmofhost (3).
.PP
E 11
I 11
.Xr krb_realmofhost  3  .
E 20
I 20
copies each subtree rooted at that name; in this case
the destination must be a directory.
E 20
I 14
D 17
.Tp Fl x
E 17
I 17
D 18
.It Fl x
E 17
The
.Fl x
D 17
option turns on DES encryption for all data passed by
E 17
I 17
option turns on
.Tn DES
encryption for all data passed by
E 17
.Nm rcp .
D 17
This may impact response time and CPU utilization, but provides
E 17
I 17
This may impact response time and
.Tn CPU
utilization, but provides
E 17
increased security.
E 18
E 14
D 17
.Tp
E 17
I 17
.El
E 17
.Pp
E 11
E 9
E 3
If
D 11
.I path
E 11
I 11
.Ar path
E 11
is not a full path name, it is interpreted relative to
D 9
your login directory on 
.IR rhost .
E 9
I 9
the login directory of the specified user
D 11
.I ruser
on 
.IR rhost ,
E 11
I 11
.Ar ruser
on
.Ar rhost  ,
E 11
or your current user name if no other remote user name is specified.
E 9
D 11
A 
.I path
E 11
I 11
A
.Ar path
E 11
on a remote host may be quoted (using \e, ", or \(aa)
so that the metacharacters are interpreted remotely.
D 11
.PP
.I Rcp
E 11
I 11
.Pp
.Nm Rcp
E 11
D 9
does not prompt for passwords; your current local user name
must exist on
.I rhost
and allow remote command execution via
D 8
.IR rsh (1C).
E 8
I 8
.IR rsh (1).
E 9
I 9
does not prompt for passwords; it performs remote execution
via
D 11
.IR rsh (1),
E 11
I 11
.Xr rsh  1  ,
E 11
and requires the same authorization.
E 9
E 8
D 11
.PP
.I Rcp
E 11
I 11
.Pp
.Nm Rcp
E 11
handles third party copies, where neither source nor target files
are on the current machine.
D 5
Hostnames may also take the form ``rhost.rname'' to use
E 5
I 5
D 9
Hostnames may also take the form ``rname@rhost'' to use
E 5
.I rname
rather than the current user name on the remote host.
E 9
I 5
D 7
The destination hostname may also take the form ``rhost.rname'' to
support destination machines that are running 4.2BSD
versions of
.I rcp.
E 7
E 5
D 11
.SH SEE ALSO
D 3
ftp(1C), rsh(1C), rlogin(1C)
E 3
I 3
D 8
cp(1), ftp(1C), rsh(1C), rlogin(1C)
E 8
I 8
cp(1), ftp(1), rsh(1), rlogin(1)
E 8
E 3
.SH BUGS
E 11
I 11
.Sh SEE ALSO
.Xr cp 1 ,
.Xr ftp 1 ,
.Xr rsh 1 ,
.Xr rlogin 1
.Sh HISTORY
D 17
.Nm Rcp
appeared in 4.2 BSD.  The version of rcp described here
D 13
is new with 4.4BSD and is part of Kerberos.
E 13
I 13
has been reimplemented with Kerberos in 4.3+Reno BSD.
E 17
I 17
The
.Nm rcp
command appeared in
.Bx 4.2 .
The version of
.Nm rcp
described here
has been reimplemented with Kerberos in
.Bx 4.3 Reno .
E 17
E 13
.Sh BUGS
E 11
Doesn't detect all cases where the target of a copy might
be a file in cases where only a directory should be legal.
D 7
.br
E 7
I 7
D 11
.PP
E 11
I 11
.Pp
E 11
E 7
Is confused by any output generated by commands in a
D 11
\&.login, \&.profile, or \&.cshrc file on the remote host.
I 7
.PP
E 11
I 11
.Pa \&.login ,
.Pa \&.profile ,
or
.Pa \&.cshrc
file on the remote host.
.Pp
E 11
The destination user and hostname may have to be specified as
D 17
``rhost.rname'' when the destination machine is running the 4.2BSD
E 17
I 17
``rhost.rname'' when the destination machine is running the
.Bx 4.2
E 17
D 11
version of \fIrcp\fP.

E 11
I 11
version of
.Nm rcp  .
E 11
E 7
E 1
