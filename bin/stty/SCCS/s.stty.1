h22450
s 00005/00000/00554
d D 8.5 94/06/01 21:19:08 ah 27 26
c page breaks for 4.4BSD manuals
e
s 00002/00002/00552
d D 8.4 94/04/18 21:12:16 bostic 26 25
c spelling
e
s 00007/00005/00547
d D 8.3 94/04/18 07:03:00 bostic 25 24
c typo
e
s 00001/00001/00551
d D 8.2 93/12/30 15:39:20 mckusick 24 23
c copyediting for Usenix manuals
e
s 00002/00002/00550
d D 8.1 93/05/31 15:47:51 bostic 23 22
c 4.4BSD snapshot (revision 8.1); add 1993 to copyright
e
s 00001/00001/00551
d D 6.19 92/12/16 17:45:45 mckusick 22 21
c spelling of IIASA
e
s 00027/00017/00525
d D 6.18 92/12/05 12:28:21 cael 21 20
c rewrote history of local modes as per sklower, sam and eric
e
s 00273/00022/00269
d D 6.17 92/07/10 11:13:01 marc 20 19
c new macros
e
s 00002/00002/00289
d D 6.16 91/11/08 15:14:26 cael 19 18
c lets try that again too...
e
s 00013/00007/00278
d D 6.15 91/11/08 15:07:05 cael 18 17
c fix usage stmt, make clear flags and f are bsd extensions to posix
e
s 00001/00001/00284
d D 6.14 91/11/05 22:04:16 cael 17 16
c escape two character sequence - this man page still needs preening
e
s 00003/00000/00282
d D 6.13 91/06/27 17:24:24 bostic 16 15
c add POSIX/IEEE contribution notice
e
s 00000/00001/00282
d D 6.12 91/05/06 14:37:36 cael 15 14
c remove extraneous .El
e
s 00007/00054/00276
d D 6.11 91/05/02 17:09:44 bostic 14 13
c minor wordsmithing, don't document the flags twice, don't document
c the output format if we're not locked into it.
e
s 00164/00218/00166
d D 6.10 91/05/02 15:06:24 bostic 13 12
c mdoc version three plus some changes by bostic (cael)
e
s 00003/00001/00381
d D 6.9 91/03/14 00:10:49 cael 12 10
c add .Vx so tmac.andoc will call tmac.mdoc-old
e
s 00001/00000/00382
d R 6.9 91/03/13 20:29:58 cael 11 10
c add .Vx so tmac.andoc will call tmac.mdoc-old
e
s 00028/00017/00354
d D 6.8 91/02/06 18:34:12 karels 10 9
c add "tty" argument, get rid of some standardese
e
s 00004/00000/00367
d D 6.7 90/07/24 22:51:57 cael 9 8
c .Xr botch fix
e
s 00000/00000/00367
d D 6.6 90/06/24 19:21:34 cael 8 7
c converted man page
e
s 00365/00486/00002
d D 6.5 90/06/24 19:18:22 cael 7 6
c converted man page
e
s 00005/00000/00483
d D 6.4 86/05/05 15:54:48 bloom 6 5
c add cols and fix format error
e
s 00025/00003/00458
d D 6.3 86/01/09 20:25:08 karels 5 4
c add rows, columns and size options
e
s 00005/00007/00456
d D 6.2 85/08/13 05:27:03 lepreau 4 3
c add PASS8: pass all 8 bits of input
e
s 00001/00001/00462
d D 6.1 85/04/29 15:03:10 mckusick 3 2
c 4.3BSD beta release manual page
e
s 00009/00013/00454
d D 5.1 85/04/29 15:02:41 mckusick 2 1
c manual page distributed with 4.2BSD
e
s 00467/00000/00000
d D 4.1 85/04/29 15:02:21 mckusick 1 0
c manual page distributed with 4.1BSD
e
u
U
t
T
I 1
D 4
.\" Copyright (c) 1980 Regents of the University of California.
E 4
I 4
D 7
.\" Copyright (c) 1983 Regents of the University of California.
E 4
.\" All rights reserved.  The Berkeley software License Agreement
.\" specifies the terms and conditions for redistribution.
E 7
I 7
D 23
.\" Copyright (c) 1990 The Regents of the University of California.
.\" All rights reserved.
E 23
I 23
D 25
.\" Copyright (c) 1990, 1993
E 25
I 25
.\" Copyright (c) 1990, 1993, 1994
E 25
.\"	The Regents of the University of California.  All rights reserved.
E 23
E 7
.\"
I 16
.\" This code is derived from software contributed to Berkeley by
.\" the Institute of Electrical and Electronics Engineers, Inc.
.\"
E 16
D 7
.\"	%W% (Berkeley) %G%
E 7
I 7
.\" %sccs.include.redist.man%
E 7
.\"
D 2
.TH STTY 1 5/11/81
E 2
I 2
D 3
.TH STTY 1 "11 May 1981"
E 3
I 3
D 7
.TH STTY 1 "%Q%"
E 3
E 2
.UC 4
.SH NAME
stty \- set terminal options
.SH SYNOPSIS
.B stty
[ option ... ]
.SH DESCRIPTION
.I Stty
sets certain I/O options on the current output terminal,
placing its output on the diagnostic output.
With no argument, it reports the speed of the terminal and the
settings of the options which are different from their defaults.
D 5
With the argument ``all'', all normally used option settings are reported.
With the argument ``everything'', everything
E 5
I 5
Use of one of the following options modifies the output as described:
.TP 10
.B all
All normally used option settings are reported.
.TP 10
.B everything
Everything
E 5
.I stty
knows about is printed.
I 5
.TP 10
.B speed
The terminal speed alone is printed on the standard output.
.TP 10
.B size
The terminal (window) sizes are printed on the standard output,
first rows and then columns.
.sp
E 5
The option strings are
selected from the following set:
.TP  10
.B even 
allow even parity input
.br
.ns
.TP 10
.B \-even 
disallow even parity input
.br
.ns
.TP 10
.B odd 
allow odd parity input
.br
.ns
.TP 10
.B \-odd 
disallow odd parity input
.br
.ns
.TP 10
.B raw 
raw mode input
(\fBno\fR input processing (erase, kill, interrupt, ...); parity bit passed back)
.br
.ns
.TP 10
.B \-raw 
negate raw mode
.br
.ns
.TP 10
.B cooked 
same as `\-raw'
.br
.ns
.TP 10
.B cbreak
make each character available to
.IR read (2)
as received; no erase and kill processing,
but all other processing (interrupt, suspend, ...) is performed
.br
.ns
.TP 10
.B \-cbreak
make characters available to 
.I read
only when newline is received
.br
.ns
.TP 10
.B \-nl 
allow carriage return for new-line,
and output CR-LF for carriage return or new-line
.br
.ns
.TP 10
.B nl 
accept only new-line to end lines
.br
.ns
.TP 10
.B echo 
echo back every character typed
.br
.ns
.TP 10
.B \-echo 
do not echo characters
.br
.ns
.TP 10
.B lcase 
map upper case to lower case
.br
.ns
.TP 10
.B \-lcase 
do not map case
.br
.ns
.TP 10
.B tandem
enable flow control, so that the system sends out the stop character when
its internal queue is in danger of overflowing on input, and sends the
start character when it is ready to accept further input
.br
.ns
.TP 10
.B \-tandem
disable flow control
.br
.ns
.TP 10
.B \-tabs 
replace tabs by spaces when printing
.br
.ns
.TP 10
.B tabs 
preserve tabs
.br
.ns
.TP 10
.B ek 
set erase and kill characters to # and @
.br
.ns
.PP
For the following commands which take a character argument \fIc\fR,
you may also specify \fIc\fR as the ``u'' or ``undef'', to set the value
to be undefined.  A value of ``^x'', a 2 character sequence, is also
interpreted as a control character, with ``^?'' representing delete.
.TP 10
.BI erase \ c\fR
set erase character to
.I c
(default `#', but often reset to ^H.)
.br
.ns
.TP 10
.BI kill \ c\fR
set kill character to
.I c
(default `@', but often reset to ^U.)
.br
.ns
.TP 10
.BI intr \ c\fR
set interrupt character to
.I c
(default DEL or ^? (delete), but often reset to ^C.)
.br
.ns
.TP 10
.BI quit \ c\fR
set quit character to
.I c
(default control \e.)
.br
.ns
.TP 10
.BI start \ c\fR
set start character to
.I c
(default control Q.)
.br
.ns
.TP 10
.BI stop \ c\fR
set stop character to
.I c
(default control S.)
.br
.ns
.TP 10
.BI eof \ c\fR
set end of file character to
.I c
(default control D.)
.br
.ns
.TP 10
.BI brk \ c\fR
set break character to
.I c
(default undefined.)
D 5
This character is an extra wakeup causing character.
E 5
I 5
This character is an additional character causing wakeup.
E 5
.br
.ns
.TP 10
.B  cr0 cr1 cr2 cr3
.br
select style of delay for carriage return (see
.IR ioctl (2))
.br
.ns
.TP 10
.B  nl0 nl1 nl2 nl3
.br
select style of delay for linefeed 
.br
.ns
.TP 10
.B  tab0 tab1 tab2 tab3
.br
select style of delay for tab 
.br
.ns
.TP 10
.B  ff0 ff1
select style of delay for form feed 
.br
.ns
.TP 10
.B bs0 bs1
select style of delay for backspace
.br
.TP 10
.B tty33 
set all modes suitable for the
Teletype Corporation Model 33 terminal.
.br
.ns
.TP 10
.B tty37 
set all modes suitable for the
Teletype Corporation Model 37 terminal.
.br
.ns
.TP 10
.B vt05 
set all modes suitable for Digital Equipment Corp. VT05 terminal
.br
.ns
.TP 10
.B dec
set all modes suitable for Digital Equipment Corp. operating systems
users; (erase, kill, and interrupt characters to ^?, ^U, and ^C,
decctlq and ``newcrt''.)
.ns
.TP 10
.B tn300 
set all modes suitable for a General Electric TermiNet 300
.br
.ns
.TP 10
.B ti700 
set all modes suitable for Texas Instruments 700 series terminal
.br
.ns
.TP 10
.B tek 
set all modes suitable for Tektronix 4014 terminal
.br
.ns
.TP 10
.B 0 
hang up phone line immediately
.br
.ns
.TP 10
.B  "50 75 110 134 150 200 300 600 1200 1800 2400 4800 9600 exta extb"
.br
Set terminal baud rate to the number given, if possible.
(These are the speeds supported by the DH-11 interface).
I 5
.TP 10
.BI rows \ n\fR
The terminal size is recorded as having
.I n
rows.
I 6
.TP 10
E 6
.BI columns \ n\fR
The terminal size is recorded as having
.I n
columns.
I 6
.TP 10
.BI cols \ n\fR
is an alias for
.IR columns .
E 6
E 5
.PP
A teletype driver which supports the job control processing of
.IR csh (1)
D 2
as introduced in
.IR newcsh (1)
and more functionality that the basic driver is introduced in
.IR newtty (4)
and fully described in
E 2
I 2
and more functionality than the basic driver is fully described in
E 2
.IR tty (4).
The following options apply only to it.
.TP 10
.B new
Use new driver (switching flushes typeahead).
.br
.ns
.TP 10
.B crt
Set options for a CRT (crtbs, ctlecho and, if >= 1200 baud,
crterase and crtkill.)
.br
.ns
.TP 10
.B crtbs
Echo backspaces on erase characters.
.br
.ns
.TP 10
.B prterase
For printing terminal echo erased characters backwards within ``\e'' and ``/''.
.br
.ns
.TP 10
.B crterase
Wipe out erased characters with ``backspace-space-backspace.''
.br
.ns
.TP 10
.B \-crterase
Leave erased characters visible; just backspace.
.br
.ns
.TP 10
.B crtkill
Wipe out input on like kill ala
.B crterase.
.br
.ns
.TP 10
.B \-crtkill
Just echo line kill character and a newline on line kill.
.br
.ns
.TP 10
.B ctlecho
Echo control characters as ``^\fIx\fR'' (and delete as ``^?''.)
Print two backspaces following the EOT character (control D).
.br
.ns
.TP 10
.B \-ctlecho
Control characters echo as themselves; in cooked mode EOT (control-D)
is not echoed.
.TP 10
.B decctlq
After output is suspended (normally by ^S), only a start character
(normally ^Q) will restart it.  This is compatible with DEC's vendor
supplied systems.
.TP 10
.B \-decctlq
After output is suspended, any character typed will restart it;
the start character will restart output without providing any input.
(This is the default.)
.br
.ns
.TP 10
.B tostop
Background jobs stop if they attempt terminal output.
.br
.ns
.TP 10
.B \-tostop
Output from background jobs to the terminal is allowed.
.br
.ns
.TP 10
.B tilde
Convert ``~'' to ``\`'' on output (for Hazeltine terminals).
.br
.ns
.TP 10
.B \-tilde
Leave poor ``~'' alone.
.br
.ns
.TP 10
.B flusho
Output is being discarded usually because user hit control O (internal state bit).
.br
.ns
.TP 10
.B \-flusho
Output is not being discarded.
.br
.ns
.TP 10
.B pendin
Input is pending after a switch from cbreak to cooked 
and will be re-input when a read becomes pending or more input arrives
(internal state bit).
.br
.ns
.TP 10
.B \-pendin
Input is not pending.
.br
.ns
.TP 10
D 4
.B intrup
Send a signal (SIGTINT) to the terminal control process group whenever
an input record (line in cooked mode, character in cbreak or raw mode)
is available for reading.
E 4
I 4
.B pass8
Passes all 8 bits through on input, in any mode.
E 4
.br
.ns
.TP 10
D 4
.B \-intrup
Don't send input available interrupts.
E 4
I 4
.B \-pass8
Strips the 0200 bit on input except in raw mode.
E 4
.br
.ns
.TP 10
.B mdmbuf
Start/stop output on carrier transitions (not implemented).
.br
.ns
.TP 10
.B \-mdmbuf
Return error if write attempted after carrier drops.
.br
.ns
.TP 10
.B litout
Send output characters without any processing.
.br
.ns
.TP 10
.B \-litout
Do normal output processing, inserting delays, etc.
.br
.ns
.TP 10
.B nohang
Don't send hangup signal if carrier drops.
.br
.ns
.TP 10
.B \-nohang
Send hangup signal to control process group when carrier drops.
.br
.ns
.TP 10
.B etxack
Diablo style etx/ack handshaking (not implemented).
.PP
The following special characters are applicable only to the new
teletype driver
and are not normally changed.
.TP 10
.BI susp \ c\fR
D 2
set suspend process character to \fIc\fR (default control Z.)
E 2
I 2
set suspend process character to \fIc\fR (default control Z).
E 2
.br
.ns
.TP 10
.BI dsusp \ c\fR
D 2
set delayed suspend process character to \fIc\fR (default control Y.)
E 2
I 2
set delayed suspend process character to \fIc\fR (default control Y).
E 2
.br
.ns
.TP 10
.BI rprnt \ c\fR
D 2
set reprint line character to \fIc\fR (default control R.)
E 2
I 2
set reprint line character to \fIc\fR (default control R).
E 2
.br
.ns
.TP 10
.BI flush \ c\fR
D 2
set flush output character to \fIc\fR (default control O.)
E 2
I 2
set flush output character to \fIc\fR (default control O).
E 2
.br
.ns
.TP 10
.BI werase \ c\fR
D 2
set word erase character to \fIc\fR (default control W.)
E 2
I 2
set word erase character to \fIc\fR (default control W).
E 2
.br
.ns
.TP 10
.BI lnext \ c\fR
D 2
set literal next character to \fIc\fR (default control V.)
E 2
I 2
set literal next character to \fIc\fR (default control V).
E 2
.SH "SEE ALSO"
D 2
ioctl(2), tabs(1), tset(1), newtty(4), tty(4)
E 2
I 2
ioctl(2), tabs(1), tset(1), tty(4)
E 7
I 7
.\"     %W% (Berkeley) %G%
.\"
I 12
D 13
.Vx
.Vx
E 13
E 12
.Dd %Q%
.Dt STTY 1
D 12
.Os BSD 4.4
E 12
I 12
.Os
E 12
.Sh NAME
.Nm stty
D 10
.Nd Set the options for a terminal.
E 10
I 10
.Nd set the options for a terminal device interface
E 10
.Sh SYNOPSIS
.Nm stty
D 13
.Op Fl a Ar \&| Fl g
.Nm stty
.Op arguments
.De
E 13
I 13
.Op Fl a | Fl e | Fl g
.Op Fl f Ar file
.Op operands
E 13
.Sh DESCRIPTION
D 13
The stty utility sets or reports on terminal I/O
E 13
I 13
D 18
The 
E 18
I 18
The
E 18
.Nm stty
utility sets or reports on terminal
D 14
.Tn I/O
E 14
E 13
characteristics for the device that is its standard input.
D 13
Without options or arguments specified, it reports the
settings of certain characteristics, usually those that differ
from implementation-defined defaults.
E 13
I 13
D 14
If no options or operands are specified, it reports the
settings of certain characteristics if they differ
from their default values.
E 14
I 14
D 20
If no options or operands are specified, it reports the settings of a set
E 20
I 20
If no options or operands are specified, it reports the settings of a subset
E 20
of characteristics as well as additional ones if they differ from their
default values.
E 14
E 13
Otherwise it modifies
the terminal state according to the specified arguments.
Some combinations of arguments are mutually
exclusive on some terminal types.
.Pp
The following options are available:
I 9
D 13
.Tw Ds
E 9
.Tp Fl a
Write to standard output all the current settings
for the terminal.
.Tp Fl g
D 10
Write to standard output the current settings in an
unspecified form that can be used as arguments to
E 10
I 10
Write the current settings to standard output in a
form that can be used as arguments to
E 10
another stty utility on the same system.
.Tp
E 13
I 13
.Bl -tag -width Ds
.It Fl a
D 18
Display all the current settings for the terminal to standard output 
in the
E 18
I 18
Display all the current settings for the terminal to standard output
as per
E 18
.St -p1003.2 .
.It Fl e
D 18
Display all the current settings for the terminal to standard output 
E 18
I 18
Display all the current settings for the terminal to standard output
E 18
in the traditional
.Tn BSD
``all'' and ``everything'' formats.
.It Fl f
D 20
Display the current settings for the terminal named by
.Ar file .
E 20
I 20
Open and use the terminal named by
.Ar file
rather than using standard input.  The file is opened
D 21
using the 
.Dv O_NONBLOCK 
E 21
I 21
using the
.Dv O_NONBLOCK
E 21
flag of
D 21
.Fn open , 
E 21
I 21
.Fn open ,
E 21
making it possible to
set or display settings on a terminal that might otherwise
block on the open.
E 20
.It Fl g
D 18
Display all the current settings for the terminal to standard output 
E 18
I 18
Display all the current settings for the terminal to standard output
E 18
D 14
in a form that may be used as an argument to another invocation of
.Nm stty .
E 14
I 14
in a form that may be used as an argument to a subsequent invocation of
.Nm stty
D 18
to restore the current terminal state.
E 18
I 18
to restore the current terminal state as per
D 19
.St -p1003.2.
E 19
I 19
.St -p1003.2 .
E 19
E 18
E 14
.El
E 13
.Pp
The following arguments are available to set the terminal
characteristics:
I 20
.Ss Control Modes:
.Pp
Control mode flags affect hardware characteristics associated with the
terminal.  This corresponds to the c_cflag in the termios structure.
E 20
D 13
.Tw Fl
.Tc Cm parenb
.Ws
.Pf \&( Fl parenb )
.Cx
E 13
I 13
.Bl -tag -width Fl
.It Cm parenb Pq Fl parenb
E 13
Enable (disable) parity generation
and detection.
D 13
.Tc Cm parodd
.Ws
.Pf \&( Fl parodd )
.Cx
E 13
I 13
.It Cm parodd Pq Fl parodd
E 13
Select odd (even) parity.
D 13
.Tp Cm cs5 cs6 cs7 cs8
E 13
I 13
.It Cm cs5 cs6 cs7 cs8
E 13
Select character size, if possible.
D 13
.Tp Ar number
E 13
I 13
.It Ar number
E 13
Set terminal baud rate to the
number given, if possible.
If the
baud rate is set to zero, modem
control is no longer
asserted.
D 13
.Tc Cm ispeed
.Ws
.Ar number
.Cx
E 13
I 13
.It Cm ispeed Ar number
E 13
Set terminal input baud rate to the
number given, if possible.
If the
input baud rate is set to zero, the
input baud rate is set to the
value of the output baud
rate.
D 13
.Tc Cm ospeed
.Ws
.Ar number
.Cx
E 13
I 13
.It Cm ospeed Ar number
E 13
Set terminal output baud rate to
the number given, if possible.
If
the output baud rate is set to
zero, modem control is
no longer asserted.
I 27
.ne 1i
E 27
I 20
.It Cm speed Ar number
This sets both
.Cm ispeed
and
.Cm ospeed
to
.Ar number .
E 20
D 13
.Tc Cm hupcl
.Ws
.Pf \&( Fl hupcl )
.Cx
E 13
I 13
.It Cm hupcl Pq Fl hupcl
E 13
Stop asserting modem control
(do not stop asserting modem control) on last close.
D 13
.Tc Cm hup
.Ws
.Pf \&( Fl hup )
.Cx
E 13
I 13
.It Cm hup Pq Fl hup
E 13
Same as hupcl
D 13
.Ws
.Pf \&( Fl hupcl).
.Tc Cm cstopb
.Ws
.Pf \&( Fl cstopb )
.Cx
E 13
I 13
.Pq Fl hupcl .
.It Cm cstopb Pq Fl cstopb
E 13
Use two (one) stop bits per character.
D 13
.Tc Cm cread
.Ws
.Pf \&( Fl cread )
.Cx
E 13
I 13
.It Cm cread Pq Fl cread
E 13
Enable (disable) the receiver.
D 13
.Tc Cm clocal
.Ws
.Pf \&( Fl clocal )
.Cx
E 13
I 13
.It Cm clocal Pq Fl clocal
E 13
Assume a line without (with) modem
control.
I 20
.It Cm crtscts Pq Fl crtscts
Enable RTS/CTS flow control.
.El
.Ss Input Modes:
This corresponds to the c_iflag in the termios structure.
.Bl -tag -width Fl
E 20
D 13
.Tc Cm ignbrk
.Ws
.Pf \&( Fl ignbrk )
.Cx
E 13
I 13
.It Cm ignbrk Pq Fl ignbrk
E 13
Ignore (do not ignore) break on
input.
D 13
.Tc Cm brkint
.Ws
.Pf \&( Fl brkint )
.Cx
Signal (do not signal) INTR on
E 13
I 13
.It Cm brkint Pq Fl brkint
Signal (do not signal)
.Dv INTR
on
E 13
break.
D 13
.Tc Cm ignpar
.Ws
.Pf \&( Fl ignpar )
.Cx
E 13
I 13
.It Cm ignpar Pq Fl ignpar
E 13
Ignore (do not ignore) parity
errors.
D 13
.Tc Cm parmrk
.Ws
.Pf \&( Fl parmrk )
.Cx
E 13
I 13
.It Cm parmrk Pq Fl parmrk
E 13
Mark (do not mark) parity errors.
D 13
.Tc Cm inpck
.Ws
.Pf \&( Fl inpck )
.Cx
E 13
I 13
.It Cm inpck Pq Fl inpck
E 13
Enable (disable) input parity
checking.
D 13
.Tc Cm istrip
.Ws
.Pf \&( Fl istrip )
.Cx
E 13
I 13
.It Cm istrip Pq Fl istrip
E 13
Strip (do not strip) input characters
to seven bits.
D 13
.Tc Cm inlcr
.Ws
.Pf \&( Fl inlcr )
.Cx
Map (do not map) NL to CR on input.
.Tc Cm igncr
.Ws
.Pf \&( Fl igncr )
.Cx
Ignore (do not ignore) CR on input.
.Tc Cm icrnl
.Ws
.Pf \&( Fl icrnl )
.Cx
Map (do not map) CR to NL on input.
.Tc Cm ixon
.Ws
.Pf \&( Fl ixon )
.Cx
Enable (disable) START/STOP output
E 13
I 13
.It Cm inlcr Pq Fl inlcr
Map (do not map)
.Dv NL
to
.Dv CR
on input.
.It Cm igncr Pq Fl igncr
Ignore (do not ignore)
.Dv CR
on input.
.It Cm icrnl Pq Fl icrnl
Map (do not map)
.Dv CR
to
.Dv NL
on input.
.It Cm ixon Pq Fl ixon
Enable (disable)
.Dv START/STOP
output
E 13
control.
Output from the system is
stopped when the system receives
D 13
STOP and started when the system
receives START.
.Tc Cm ixoff
.Ws
.Pf \&( Fl ixoff )
.Cx
E 13
I 13
.Dv STOP
and started when the system
receives
D 20
.Dv START .
E 20
I 20
.Dv START ,
or if
.Cm ixany
is set, any character restarts output.
I 27
.ne 1i
E 27
E 20
.It Cm ixoff Pq Fl ixoff
E 13
Request that the system send (not
D 13
send) START/STOP characters when
E 13
I 13
send)
.Dv START/STOP
characters when
E 13
the input queue is nearly
empty/full.
I 20
.It Cm ixany Pq Fl ixany
Allow any character (allow only
.Dv START )
to restart output.
.It Cm imaxbel Pq Fl imaxbel
The system imposes a limit of
.Dv MAX_INPUT
(currently 255) characters in the input queue.  If
.Cm imaxbel
is set and the input queue limit has been reached,
subsequent input causes the system to send an ASCII BEL
character to the output queue (the terminal beeps at you).  Otherwise,
if
D 21
.Cm imaxbel 
E 21
I 21
.Cm imaxbel
E 21
is unset and the input queue is full, the next input character causes
the entire input and output queues to be discarded.
.El
.Ss Output Modes:
This corresponds to the c_oflag of the termios structure.
.Bl -tag -width Fl
E 20
D 13
.Tc Cm opost
.Ws
.Pf \&( Fl opost )
.Cx
E 13
I 13
.It Cm opost Pq Fl opost
E 13
Post-process output (do not
post-process output; ignore all other
output modes).
I 20
.It Cm onlcr Pq Fl onlcr
D 24
Map (not not map)
E 24
I 24
Map (do not map)
E 24
.Dv NL
to
.DV CR-NL
on output.
.It Cm oxtabs Pq Fl oxtabs
Expand (do not expand) tabs to spaces on output.
.El
.Ss Local Modes:
.Pp
D 21
Local mode flags affect various and sundry characteristics of terminal
processing.  Historically the term "local" as pertaining
to the terminal driver meant local to the VAX
running in CORY hall on the UCB campus where features of the (then) new
terminal driver that supported job control were first tested.  Alas,
the terminology has stuck.  The other interpretation of the 'l' in lflag
is that it stands for ``line discipline flag'', which is equally vacuous.  This
corresponds to the c_lflag of the termios structure.
E 21
I 21
Local mode flags (lflags) affect various and sundry characteristics of terminal
processing.
Historically the term "local" pertained to new job control features
implemented by Jim Kulp on a
.Tn Pdp 11/70
at
D 22
.Tn IASA .
E 22
I 22
.Tn IIASA .
E 22
Later the driver ran on the first
.Tn VAX
at Evans Hall, UC Berkeley, where the job control details
were greatly modified but the structure definitions and names
remained essentially unchanged.
The second interpretation of the 'l' in lflag
is ``line discipline flag'' which corresponds to the
.Ar c_lflag
of the
.Ar termios
structure.
E 21
.Bl -tag -width Fl
E 20
D 13
.Tc Cm isig
.Ws
.Pf \&( Fl isig )
.Cx
E 13
I 13
.It Cm isig Pq Fl isig
E 13
Enable (disable) the checking of
characters against the special control
D 13
characters INTR, QUIT, and
SUSP.
.Tc Cm icanon
.Ws
.Pf \&( Fl icanon )
.Cx
E 13
I 13
characters
.Dv INTR , QUIT ,
and
.Dv SUSP .
.It Cm icanon Pq Fl icanon
E 13
Enable (disable) canonical input
D 13
(ERASE and KILL processing).
.Tc Cm iexten
.Ws
.Pf \&( Fl iexten )
.Cx
E 13
I 13
.Pf ( Dv ERASE
and
.Dv KILL
processing).
.It Cm iexten Pq Fl iexten
E 13
Enable (disable) any implementation
defined special control characters
not currently controlled by icanon,
isig, or ixon.
D 13
.Tc Cm echo
.Ws
.Pf \&( Fl echo )
.Cx
E 13
I 13
.It Cm echo Pq Fl echo
E 13
Echo back (do not echo back) every
character typed.
D 13
.Tc Cm echoe
.Ws
.Pf \&( Fl echoe )
.Cx
The ERASE character shall (shall
E 13
I 13
.It Cm echoe Pq Fl echoe
The
.Dv ERASE
character shall (shall
E 13
not) visually erase the last character
in the current line from the
display, if possible.
D 13
.Tc Cm echok
.Ws
.Pf \&( Fl echok )
.Cx
Echo (do not echo) NL after KILL
E 13
I 13
.It Cm echok Pq Fl echok
Echo (do not echo)
.Dv NL
after
.Dv KILL
E 13
character.
I 27
.ne 1i
E 27
I 20
.It Cm echoke Pq Fl echoke
The
.Dv KILL
character shall (shall
not) visually erase the
the current line from the
display, if possible.
E 20
D 13
.Tc Cm echonl
.Ws
.Pf \&( Fl echonl )
.Cx
Echo (do not echo) NL, even if echo
E 13
I 13
.It Cm echonl Pq Fl echonl
Echo (do not echo)
.Dv NL ,
even if echo
E 13
is disabled.
I 20
.It Cm echoctl Pq Fl echoctl
If
.Cm echoctl
is set, echo control characters as ^X.  Otherwise control characters
echo as themselves.
.It Cm echoprt Pq Fl echoprt
For printing terminals. If set, echo erased characters backwards within ``\\''
and ``/''.  Otherwise, disable this feature.
E 20
D 13
.Tc Cm noflsh
.Ws
.Pf \&( Fl noflsh )
.Cx
Disable (enable) flush after INTR,
QUIT, SUSP.
.Tc Cm control-character
.Ws
.Ar string
.Cx
E 13
I 13
.It Cm noflsh Pq Fl noflsh
Disable (enable) flush after
.Dv INTR , QUIT , SUSP .
D 20
.It Cm control-character Ar string
E 13
Set control-character to string.
E 20
I 20
.It Cm tostop Pq Fl tostop
Send (do not send)
.Dv SIGTTOU
for background output.  This causes background jobs to stop if they attempt
terminal output.
.It Cm altwerase Pq Fl altwerase
Use (do not use) an alternate word erase algorithm when processing
.Dv WERASE
D 21
characters.  This alternate algorithm considers sequences of 
E 21
I 21
D 25
characters.  This alternate algorithm considers sequences of
E 21
alphameric/underscores as words.  It also skips the first preceding character
in its classification (as a convenience since the one preceding character
could have been erased with simply an
E 25
I 25
characters.
This alternate algorithm considers sequences of
alphanumeric/underscores as words.
It also skips the first preceding character in its classification
(as a convenience since the one preceding character could have been
erased with simply an
E 25
.Dv ERASE
character.)
.It Cm mdmbuf Pq Fl mdmbuf
If set, flow control output based on condition of Carrier Detect.  Otherwise
writes return an error if Carrier Detect is low (and Carrier is not being
ignored with the
.Dv CLOCAL
flag.)
.It Cm flusho Pq Fl flusho
Indicates output is (is not) being discarded.
.It Cm pendin Pq Fl pendin
Indicates input is (is not) pending after a switch from non-canonical
to canonical mode and will be re-input when a read becomes pending
or more input arrives.
.El
.Ss Control Characters:
.Bl -tag -width Fl
.It Ar control-character Ar string
D 21
Set 
E 21
I 21
Set
E 21
.Ar control-character
D 21
to 
E 21
I 21
to
E 21
.Ar string .
E 20
If string is a single character,
the control character is set to
that character.
If string is the
two character sequence "^-" or the
string "undef" the control character
D 13
is set to {_POSIX_VDISABLE} if
E 13
I 13
D 20
is set to
.Pf { Dv _POSIX_VDISABLE Ns }
if
E 13
it is in effect for the device; if
D 13
{_POSIX_VDISABLE} is not in effect
E 13
I 13
.Pf { Dv _POSIX_VDISABLE Ns }
is not in effect
E 13
for the device, it is an
error.
E 20
I 20
is disabled (i.e. set to
.Pf { Dv _POSIX_VDISABLE Ns } . )
E 20
.Pp
Recognized control-characters:
D 13
.Ds I
.Cw character Subscript
.Cl control-	POSIX.1
.Cl character	Subscript	Description
.Cl _________	_________	_______________
.Cl eof	VEOF	EOF character
.Cl eol	VEOL	EOL character
.Cl erase	VERASE	ERASE character
.Cl intr	VINTR	INTR character
.Cl kill	VKILL	KILL character
.Cl quit	VQUIT	QUIT character
.Cl susp	VSUSP	SUSP character
.Cl start	VSTART	START character
.Cl stop	VSTOP	STOP character
.Cw
.De
.Tp Cm saved settings
E 13
I 13
.Bd -ragged -offset indent
.Bl -column character Subscript
D 20
.It control- Ta Tn POSIX.1
E 20
I 20
D 21
.It control- 
E 21
I 21
.It control-
E 21
E 20
.It character	Subscript	Description
.It _________	_________	_______________
.It eof Ta Tn VEOF	EOF No character
.It eol Ta Tn VEOL	EOL No character
I 20
.It eol2 Ta Tn VEOL2	EOL2 No character
E 20
.It erase Ta Tn VERASE	ERASE No character
I 20
.It werase Ta Tn VWERASE	WERASE No character
E 20
.It intr Ta Tn VINTR	INTR No character
.It kill Ta Tn VKILL	KILL No character
.It quit Ta Tn VQUIT	QUIT No character
.It susp Ta Tn VSUSP	SUSP No character
.It start Ta Tn VSTART	START No character
.It stop Ta Tn VSTOP	STOP No character
I 20
.It dsusp Ta Tn VDSUSP	DSUSP No character
.It lnext Ta Tn VLNEXT	LNEXT No character
.It reprint Ta Tn VREPRINT	REPRINT No character
.It status Ta Tn VSTATUS	STATUS No character
E 20
.El
.Ed
D 20
.It Cm saved settings
E 13
Set the current terminal
characteristics to the saved settings
D 10
produced by the -g option.
E 10
I 10
produced by the
.Fl g
option.
E 20
E 10
D 13
.Tc Cm min
.Ws
.Ar number
.Cx
D 10
time number
E 10
I 10
.Tc Cm time
.Ws
.Ar number
.Cx
E 13
I 13
.It Cm min Ar number
.It Cm time Ar number
E 13
E 10
Set the value of min or time to
number.
D 13
MIN and TIME are used in
E 13
I 13
.Dv MIN
and
.Dv TIME
are used in
E 13
Non-Canonical mode input processing
(-icanon).
I 20
.El
.Ss Combination Modes:
.Pp
.Bl -tag -width Fl
.It Ar saved settings
Set the current terminal
characteristics to the saved settings
produced by the
.Fl g
option.
E 20
D 13
.Tc Cm evenp
.Ws
.Cx or 
.Ws
.Cm parity
.Cx
E 13
I 13
.It Cm evenp No or Cm parity
E 13
Enable parenb and cs7; disable
parodd.
D 13
.Tp Cm oddp
E 13
I 13
.It Cm oddp
E 13
Enable parenb, cs7, and parodd.
D 13
.Tp Fl parity , evenp ,  oddp
E 13
I 13
.It Fl parity , evenp ,  oddp
E 13
Disable parenb, and set cs8.
D 13
.Tc Cm nl
.Ws
.Pf \&( Fl nl )
.Cx
E 13
I 13
D 17
.It Cm nl Pq Fl nl
E 17
I 17
.It Cm \&nl Pq Fl \&nl
E 17
E 13
Enable (disable) icrnl.
In addition
-nl unsets inlcr and igncr.
D 13
.Tp Cm ek
Reset ERASE and KILL characters
E 13
I 13
.It Cm ek
Reset
.Dv ERASE
and
.Dv KILL
characters
E 13
back to system defaults.
D 13
.Tp Cm sane
E 13
I 13
.It Cm sane
E 13
D 10
Resets all modes to some reasonable,
unspecified, values.
E 10
I 10
Resets all modes to reasonable values for interactive terminal use.
D 13
.Tp Cm tty
Set the line discipline to the standard terminal line discipline TTYDISC.
E 10
.Tp
E 13
I 13
.It Cm tty
Set the line discipline to the standard terminal line discipline
.Dv TTYDISC .
I 20
.It Cm crt Pq Fl crt
Set (disable) all modes suitable for a CRT display device.
.It Cm kerninfo Pq Fl kerninfo
Enable (disable) the system generated status line associated with
processing a
.Dv STATUS
character (usually set to ^T).  The status line consists of the
system load average, the current command name, its process ID, the
event the process is waiting on (or the status of the process), the user
and system times, percent cpu, and current memory usage.
.It Cm columns Ar number
The terminal size is recorded as having
.Ar number
columns.
.It Cm cols Ar number
is an alias for
.Cm columns.
I 27
.ne 1i
E 27
.It Cm rows Ar number
The terminal size is recorded as having
.Ar number
rows.
.It Cm dec
Set modes suitable for users of Digital Equipment Corporation systems (
.Dv ERASE ,
.Dv KILL ,
and
D 21
.Dv INTR 
E 21
I 21
.Dv INTR
E 21
characters are set to ^?, ^U, and ^C;
.Dv ixany
is disabled, and
.Dv crt
is enabled.)
.It Cm extproc Pq Fl extproc
If set, this flag indicates that some amount of terminal processing is being
performed by either the terminal hardware or by the remote side connected
to a pty.
.It Cm raw Pq Fl raw
If set, change the modes of the terminal so that no input or output processing
is performed. If unset, change the modes of the terminal to some reasonable
state that performs input and output processing.  Note that since the
terminal driver no longer has a single
.Dv RAW
bit, it is not possible to intuit what flags were set prior to setting
.Cm raw .
This means that unsetting
.Cm raw
may not put back all the setting that were previously in effect.
To set the terminal into a raw state and then accurately restore it, the following
shell code is recommended:
.nf

save_state=$(stty -g)
stty raw
\&...
stty "$save_state"

.fi
.It Cm size
The size of the terminal is printed as two numbers on a single line,
first rows, then columns.
E 20
.El
I 20
D 26
.Ss Compatability Modes:
E 26
I 26
.Ss Compatibility Modes:
E 26
E 20
E 13
.Pp
I 20
D 26
These modes remain for compatability with the previous version of
E 26
I 26
These modes remain for compatibility with the previous version of
E 26
the stty command.
.Bl -tag -width Fl
.It Cm all
Reports all the terminal modes as with
.Cm stty Fl a
except that the control characters are printed in a columnar format.
.It Cm everything
Same as
.Cm all .
.It Cm cooked
Same as
.Cm sane .
.It Cm cbreak
If set, enables
.Cm brkint , ixon , imaxbel , opost ,
.Cm isig , iexten ,
and
.Cm Fl icanon .
If unset, same as
.Cm sane .
.It Cm new
Same as
.Cm tty .
.It Cm old
Same as
.Cm tty .
.It Cm newcrt Pq Fl newcrt
Same as
.Cm crt .
.It Cm pass8
The converse of
.Cm parity .
.It Cm tandem Pq Fl tandem
Same as
.Cm ixoff .
.It Cm decctlq Pq Fl decctlq
The converse of
.Cm ixany .
I 27
.ne 1i
E 27
.It Cm crterase Pq Fl crterase
Same as
.Cm echoe .
.It Cm crtbs Pq Fl crtbs
Same as
.Cm echoe .
.It Cm crtkill Pq Fl crtkill
Same as
.Cm echoke .
.It Cm ctlecho Pq Fl ctlecho
Same as
.Cm echoctl .
.It Cm prterase Pq Fl prterase
Same as
.Cm echoprt .
.It Cm litout Pq Fl litout
The converse of
.Cm opost .
.It Cm tabs Pq Fl tabs
The converse of
.Cm tabs .
.It Cm brk Ar value
Same as the control character
.Cm eol .
.It Cm flush Ar value
Same as the control character
.Cm discard .
.It Cm rprnt Ar value
Same as the control character
.Cm reprint .
.El
.Pp
E 20
D 10
If the -g option is specified, stty writes to standard output
E 10
I 10
D 14
If the
.Fl g
option is specified, stty writes to standard output
E 10
the current settings in a form that can be used as arguments
to another instance of stty on the same system.
.Pp
D 10
If the -a option is specified, all of the information as
described in arguments is written to standard output.
Unless
otherwise specified, this information shall be displayed as
<space>-separated tokens in an unspecified format, on one or
more lines, with an unspecified number of tokens per line.
Additional information may be displayed as well.
E 10
I 10
If the
.Fl a
option is specified, all of the information about the current setting
is written to standard output
in the same format described for the arguments above.
Unless otherwise specified, this information is displayed as
<space>-separated tokens, on one or
more lines, with one or more tokens per line.
E 10
.Pp
D 10
If no options are specified, an unspecified subset of the
information displayed for the -a option is displayed.
E 10
I 10
If no options are specified, a subset of the
information displayed for the
.Fl a
option is displayed.
E 10
.Pp
If the terminal input speed and output speed are the same,
the speed information is displayed as follows:
D 13
.Pp
.Ds I
E 13
I 13
.Bd -ragged -offset indent
E 13
"speed %d baud;", <speed>
D 13
.De
E 13
I 13
.Ed
E 13
I 9
.Pp
E 9
Otherwise speeds are displayed as:
.Pp
D 13
.Ds I
E 13
I 13
.Bd -ragged -offset indent
E 13
"ispeed %d baud; ospeed %d baud;", <ispeed>, <ospeed>
D 13
.De
E 13
I 13
.Ed
E 13
I 9
.Pp
E 9
Control characters are displayed as:
.Pp
D 13
.Ds I
E 13
I 13
.Bd -ragged -offset indent
E 13
"%s = %s;", <control-character name>, <value>
D 13
.De
E 13
I 13
.Ed
E 13
I 9
.Pp
E 9
where value is either the character, or some visual
representation of the character if it is non-printing, or
the string "<undef>" if the character is disabled.
.Pp
E 14
The
.Nm stty
D 14
utility exits with one of the following values:
D 13
.Tw Ds
.Tp Li \&0
E 13
I 13
.Bl -tag -width indent
.It Li \&0
E 13
The terminal options were read or set successfully.
D 13
.Tp Li \&>0
E 13
I 13
.It Li \&>0
E 13
An error occurred.
E 14
I 14
utility exits with a value of 0 if successful, and >0 if an error occurs.
E 14
D 13
.Tp
E 13
I 13
D 15
.El
E 15
E 13
.Sh SEE ALSO
D 20
.Xr stty 4
E 20
I 20
.Xr termios 4
E 20
.Sh STANDARDS
The
.Nm stty
D 13
function is expected to be POSIX 1003.2 compatible.
E 13
I 13
function is expected to be
.St -p1003.2
D 18
compatible.
E 18
I 18
compatible.  The flags
.Fl e
and
.Fl f
D 19
are \*(Bx
E 19
I 19
are
E 19
extensions to the standard.
E 18
E 13
E 7
E 2
E 1
