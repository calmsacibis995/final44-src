h32425
s 00002/00002/00065
d D 8.1 93/06/04 12:00:42 bostic 3 2
c 4.4BSD snapshot (revision 8.1); add 1993 to copyright
e
s 00056/00040/00011
d D 5.2 91/04/19 14:49:25 cael 2 1
c macro and text revision (-mdoc version 3)
e
s 00051/00000/00000
d D 5.1 91/02/19 15:39:16 bostic 1 0
c date and time created 91/02/19 15:39:16 by bostic
e
u
U
t
T
I 1
D 2
.\" Copyright (c) 1990 The Regents of the University of California.
E 2
I 2
D 3
.\" Copyright (c) 1990, 1991 The Regents of the University of California.
E 2
.\" All rights reserved.
E 3
I 3
.\" Copyright (c) 1990, 1991, 1993
.\"	The Regents of the University of California.  All rights reserved.
E 3
.\"
.\" %sccs.include.redist.man%
.\"
D 2
.\"	%W% (Berkeley) %G%
E 2
I 2
.\"     %W% (Berkeley) %G%
E 2
.\"
D 2
.TH CTERMID 3 "%Q%"
.UC 7
.SH NAME
ctermid \- generate terminal pathname
.SH SYNOPSIS
.nf
.ft B
#include <stdio.h>
.sp
char *ctermid(char *buf);
.ft R
.fi
.SH DESCRIPTION
E 2
I 2
.Dd %Q%
.Dt CTERMID 3
.Os
.Sh NAME
.Nm ctermid
.Nd generate terminal pathname
.Sh SYNOPSIS
.Fd #include <stdio.h>
.Ft char *
.Fn ctermid "char *buf"
.Sh DESCRIPTION
E 2
The
D 2
.I ctermid
E 2
I 2
.Fn ctermid
E 2
function generates a string, that, when used as a pathname, refers to
D 2
the current controlling terminal for the current process.
.PP
E 2
I 2
the current controlling terminal of the calling process.
.Pp
E 2
If
D 2
.I buf
is a NULL pointer, a pointer to a static area is returned.
E 2
I 2
.Ar buf
is the
.Dv NULL
pointer, a pointer to a static area is returned.
E 2
Otherwise, the pathname is copied into the memory referenced by
D 2
.IR buf .
.I Buf
is assumed to be at least L_ctermid (as defined in the include
file <stdio.h>) bytes long.
.PP
The current implementation simply returns ``/dev/tty''.
.SH RETURN
Upon successful completion, a non-NULL pointer is returned.
Otherwise, a NULL pointer is returned and
.I errno
E 2
I 2
.Ar buf .
The argument
.Ar buf
is assumed to be at least
.Dv L_ctermid
(as defined in the include
file
.Aq Pa stdio.h )
bytes long.
.Pp
The current implementation simply returns
.Ql /dev/tty .
.Sh RETURN VALUES
Upon successful completion, a
.Pf non- Dv NULL
pointer is returned.
Otherwise, a
.Dv NULL
pointer is returned and the global variable
.Va errno
E 2
is set to indicate the error.
D 2
.SH ERRORS
E 2
I 2
.Sh ERRORS
E 2
The current implementation detects no error conditions.
D 2
.SH "SEE ALSO"
ttyname(3)
.SH STANDARDS
.I Ctermid
conforms to IEEE Std 1003.1-1988 (``POSIX'').
.SH BUGS
By default, all information is contained in a static buffer which is
overwritten by each new call.
It must be copied elsewhere to be retained.
E 2
I 2
.Sh SEE ALSO
.Xr ttyname 3
.Sh STANDARDS
The
.Xr ctermid
function conforms to
.St -p1003.1-88 .
.Sh BUGS
By default the
.Fn ctermid
function
writes all information to an internal static object.
Subsequent calls to
.Fn ctermid
will modify the same object.
E 2
E 1
