h23415
s 00001/00002/00099
d D 8.3 95/04/28 17:28:38 bostic 9 8
c wordexp(3) has never existed
e
s 00009/00011/00092
d D 8.2 94/04/16 14:13:33 bostic 8 7
c Fixed the most major defect in fnmatch(): backslash-escape processing in
c bracket expressions.
c Implement the FNM_PERIOD flag.
c Random ANSI C cleanups, KNF, prettiness police
c From: conklin@ngai.kaleida.com (J.T. Conklin)
e
s 00002/00002/00101
d D 8.1 93/06/09 18:50:54 bostic 7 6
c 4.4BSD snapshot (revision 8.1); add 1993 to copyright
e
s 00001/00002/00102
d D 5.5 93/06/09 18:50:50 bostic 6 4
c fixed the under development line
e
s 00002/00002/00102
d R 8.1 93/06/04 12:01:41 bostic 5 4
c 4.4BSD snapshot (revision 8.1); add 1993 to copyright
e
s 00034/00017/00070
d D 5.4 92/06/28 12:58:28 bostic 4 3
c bring up to date with POSIX 1003.2 D11.2; still broken, but at least
c the return values are right, now
e
s 00058/00043/00029
d D 5.3 91/04/19 14:49:09 cael 3 2
c macro and text revision (-mdoc version 3)
e
s 00001/00011/00071
d D 5.2 90/06/23 17:57:05 trent 2 1
c new copyright notice
e
s 00082/00000/00000
d D 5.1 89/12/19 12:39:04 bostic 1 0
c date and time created 89/12/19 12:39:04 by bostic
e
u
U
t
T
I 1
D 3
.\" Copyright (c) 1989 The Regents of the University of California.
E 3
I 3
D 7
.\" Copyright (c) 1989, 1991 The Regents of the University of California.
E 3
.\" All rights reserved.
E 7
I 7
.\" Copyright (c) 1989, 1991, 1993
.\"	The Regents of the University of California.  All rights reserved.
E 7
.\"
.\" This code is derived from software contributed to Berkeley by
.\" Guido van Rossum.
D 3
.\"
E 3
D 2
.\" Redistribution and use in source and binary forms are permitted
.\" provided that the above copyright notice and this paragraph are
.\" duplicated in all such forms and that any documentation,
.\" advertising materials, and other materials related to such
.\" distribution and use acknowledge that the software was developed
.\" by the University of California, Berkeley.  The name of the
.\" University may not be used to endorse or promote products derived
.\" from this software without specific prior written permission.
.\" THIS SOFTWARE IS PROVIDED ``AS IS'' AND WITHOUT ANY EXPRESS OR
.\" IMPLIED WARRANTIES, INCLUDING, WITHOUT LIMITATION, THE IMPLIED
.\" WARRANTIES OF MERCHANTABILITY AND FITNESS FOR A PARTICULAR PURPOSE.
E 2
I 2
.\" %sccs.include.redist.man%
E 2
.\"
D 3
.\"	%W% (Berkeley) %G%
E 3
I 3
.\"     %W% (Berkeley) %G%
E 3
.\"
D 3
.TH FNMATCH 3 "%Q%"
.UC 7
.SH NAME
fnmatch \- match filename or pathname
.SH SYNOPSIS
.nf
#include <unistd.h>

int fnmatch(const char *pattern, const char *string, int flags);
.fi
.SH DESCRIPTION
.I Fnmatch
E 3
I 3
.Dd %Q%
.Dt FNMATCH 3
.Os
.Sh NAME
.Nm fnmatch
.Nd match filename or pathname
.Sh SYNOPSIS
D 4
.Fd #include <unistd.h>
E 4
I 4
.Fd #include <fnmatch.h>
E 4
.Ft int
.Fn fnmatch "const char *pattern" "const char *string" "int flags"
.Sh DESCRIPTION
The
.Fn fnmatch
function
E 3
matches patterns according to the rules used by the shell.
It checks the string specified by the
D 3
.I string
E 3
I 3
.Fa string
E 3
argument to see if it matches the pattern specified by the
D 3
.I pattern
E 3
I 3
.Fa pattern
E 3
argument.
D 3
.PP
E 3
I 3
.Pp
E 3
The
D 3
.I flags
E 3
I 3
.Fa flags
E 3
argument modifies the interpretation of
D 3
.I pattern
E 3
I 3
.Fa pattern
E 3
and
D 3
.I string.
E 3
I 3
.Fa string .
E 3
The value of
D 3
.I flags
is the bitwise inclusive OR of any of the following
E 3
I 3
.Fa flags
is the bitwise inclusive
.Tn OR
of any of the following
E 3
constants, which are defined in the include file
D 3
.IR unistd.h .
.TP
FNM_PATHNAME
E 3
I 3
D 4
.Pa unistd.h .
E 4
I 4
.Pa fnmatch.h .
E 4
.Bl -tag -width FNM_PATHNAME
I 4
.It Dv FNM_NOESCAPE
Normally, every occurrence of a backslash
.Pq Ql \e
followed by a character in
.Fa pattern
is replaced by that character.
This is done to negate any special meaning for the character.
If the
.Dv FNM_NOESCAPE
flag is set, a backslash character is treated as an ordinary character.
E 4
.It Dv FNM_PATHNAME
E 3
Slash characters in
D 3
.I string
E 3
I 3
.Fa string
E 3
must be explicitly matched by slashes in
D 3
.IR pattern .
E 3
I 3
.Fa pattern .
E 3
If this flag is not set, then slashes are treated as regular characters.
D 3
.TP
FNM_QUOTE
Every occurrence of a backslash (``\e'') followed by a character in
.I pattern
E 3
I 3
D 4
.It Dv FNM_QUOTE
Every occurrence of a backslash
.Pq Ql \e
followed by a character in
.Fa pattern
E 3
is replaced by that character.
This is done to negate any special meaning for the character.
E 4
I 4
.It Dv FNM_PERIOD
Leading periods in strings match periods in patterns.
The definition of ``leading'' is related to the specification of
.Dv FNM_PATHNAME.
A period is always ``leading'' if it is the first character in
.Ar string .
Additionally, if
.Dv FNM_PATHNAME
is set,
a period is ``leading'' if it immediately follows a slash.
D 8
.Em "This flag is not currently implemented."
E 8
E 4
D 3
.SH RETURNS
E 3
I 3
.El
.Sh RETURN VALUES
E 3
D 4
If
E 4
I 4
The
.Fn fnmatch
function returns zero if
E 4
D 3
.I string
E 3
I 3
.Fa string
E 3
matches the pattern specified by
D 3
.IR pattern ,
E 3
I 3
.Fa pattern ,
E 3
D 4
then
D 3
.I fnmatch
E 3
I 3
.Fn fnmatch
E 3
returns zero.
Otherwise,
D 3
.I fnmatch
E 3
I 3
.Fn fnmatch
E 3
returns nonzero.
E 4
I 4
otherwise, it returns the value
.Dv FNM_NOMATCH .
E 4
D 3
.SH SEE ALSO
sh(1), glob(3), wordexp(3), regexp(3)
.SH BUGS
E 3
I 3
.Sh SEE ALSO
.Xr sh 1 ,
.Xr glob 3 ,
D 8
.Xr wordexp 3 ,
.Xr regexp 3
E 8
I 8
D 9
.Xr regex 3 ,
.Xr wordexp 3
E 9
I 9
.Xr regex 3
E 9
.Sh STANDARDS
The
.Fn fnmatch
function conforms to
.St -p1003.2 .
E 8
.Sh HISTORY
The
.Fn fnmatch
D 6
function is
.Ud .
E 6
I 6
D 8
function first appeared in 4.4BSD.
E 8
I 8
function first appeared in 
.Bx 4.4 .
E 8
E 6
.Sh BUGS
E 3
D 4
Quotes and slashes in range patterns are not handled correctly.
E 4
I 4
D 8
Quotes and slashes in range patterns are not handled correctly by
this implementation.
.Pp
The
.Dv FNM_PERIOD
flag is not implemented.
E 4
D 3
.PP
The pattern ``*'' matches the empty string, even if
.I FNM_PATHNAME
E 3
I 3
.Pp
E 8
The pattern
.Ql *
matches the empty string, even if
.Dv FNM_PATHNAME
E 3
is specified.
E 1
