h42403
s 00002/00002/00064
d D 8.1 93/06/09 18:52:22 bostic 4 3
c 4.4BSD snapshot (revision 8.1); add 1993 to copyright
e
s 00002/00003/00064
d D 6.2 93/06/09 18:52:18 bostic 3 1
c fixed the under development line
e
s 00002/00002/00065
d R 8.1 93/06/04 12:02:34 bostic 2 1
c 4.4BSD snapshot (revision 8.1); add 1993 to copyright
e
s 00066/00000/00000
d D 6.1 91/11/12 19:20:50 mckusick 1 0
c date and time created 91/11/12 19:20:50 by mckusick
e
u
U
t
T
I 1
D 4
.\" Copyright (c) 1991 Regents of the University of California.
.\" All rights reserved.
E 4
I 4
.\" Copyright (c) 1991, 1993
.\"	The Regents of the University of California.  All rights reserved.
E 4
.\"
.\" %sccs.include.redist.man%
.\"
.\"     %W% (Berkeley) %G%
.\"
.Dd %Q%
.Dt GETGROUPLIST 3
.Os
.Sh NAME
.Nm getgrouplist
.Nd calculate group access list
.Sh SYNOPSIS
.Fd #include <unistd.h>
.Ft int
.Fn getgrouplist "const char *name" "int basegid" "int *groups" "int *ngroups"
.Sh DESCRIPTION
The
.Fn getgrouplist
function reads through the group file and calculates
the group access list for the user specified in
.Fa name .
The
.Fa basegid
is automatically included in the groups list.
Typically this value is given as
the group number from the password file.
.Pp
The resulting group list is returned in the integer array pointed to by
.Fa groups .
The caller specifies the size of the 
.Fa groups
array in the integer pointed to by
.Fa ngroups ;
the actual number of groups found is returned in
.Fa ngroups .
.Sh RETURN VALUES
The
.Fn getgrouplist
function
returns \-1 if the size of the group list is too small to
hold all the user's groups.
Here, the group array will be filled with as many groups as will fit.
.Sh FILES
.Bl -tag -width /etc/group -compact
.It Pa /etc/group
group membership list
.El
.Sh SEE ALSO
.Xr setgroups 2 ,
.Xr initgroups 3
.Sh HISTORY
The
D 3
.Nm
function is
.Ud .
E 3
I 3
.Fn getgrouplist
function first appeared in 4.4BSD.
E 3
.Sh BUGS
The
.Fn getgrouplist
function
uses the routines based on
.Xr getgrent 3 .
If the invoking program uses any of these routines,
the group structure will
be overwritten in the call to
.Fn getgrouplist .
E 1
