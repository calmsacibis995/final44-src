h35723
s 00002/00002/00055
d D 8.1 93/06/04 12:03:41 bostic 6 5
c 4.4BSD snapshot (revision 8.1); add 1993 to copyright
e
s 00009/00010/00048
d D 6.4 91/11/12 19:28:37 mckusick 5 4
c update to reference getgrouplist library routine taht it uses
e
s 00043/00029/00015
d D 6.3 91/04/19 14:48:58 cael 4 3
c macro and text revision (-mdoc version 3)
e
s 00001/00003/00043
d D 6.2 86/05/12 17:41:04 karels 3 2
c move from 3X to 3
e
s 00001/00001/00045
d D 6.1 85/05/15 16:22:45 mckusick 2 1
c 4.3BSD beta release manual page
e
s 00046/00000/00000
d D 5.1 85/05/15 16:22:38 mckusick 1 0
c manual page first distributed with 4.2BSD
e
u
U
t
T
I 1
D 4
.\" Copyright (c) 1983 Regents of the University of California.
.\" All rights reserved.  The Berkeley software License Agreement
.\" specifies the terms and conditions for redistribution.
E 4
I 4
D 6
.\" Copyright (c) 1983, 1991 Regents of the University of California.
.\" All rights reserved.
E 6
I 6
.\" Copyright (c) 1983, 1991, 1993
.\"	The Regents of the University of California.  All rights reserved.
E 6
E 4
.\"
D 4
.\"	%W% (Berkeley) %G%
E 4
I 4
.\" %sccs.include.redist.man%
E 4
.\"
D 2
.TH INITGROUPS 3X "25 February 1983"
E 2
I 2
D 3
.TH INITGROUPS 3X "%Q%"
E 3
I 3
D 4
.TH INITGROUPS 3 "%Q%"
E 3
E 2
.UC 5
.SH NAME
initgroups \- initialize group access list
.SH SYNOPSIS
.B initgroups(name, basegid)
.br
.B char *name;
.br
.B int basegid;
.SH DESCRIPTION
.I Initgroups
E 4
I 4
.\"     %W% (Berkeley) %G%
.\"
.Dd %Q%
.Dt INITGROUPS 3
.Os BSD 4.2
.Sh NAME
.Nm initgroups
.Nd initialize group access list
.Sh SYNOPSIS
.Fd #include <unistd.h>
.Ft int
.Fn initgroups "const char *name" "int basegid"
.Sh DESCRIPTION
The
.Fn initgroups
function
E 4
D 5
reads through the group file and sets up,
using the
D 4
.IR setgroups (2)
E 4
I 4
.Xr setgroups 2
E 4
call, the group access list for the user
E 5
I 5
uses the
.Xr getgrouplist 3
function to calculate the group access list for the user
E 5
specified in
D 4
.IR name .
E 4
I 4
.Fa name .
I 5
This group list is then setup for the current process using
.Xr setgroups 2 .
E 5
E 4
The
D 4
.I basegid
E 4
I 4
.Fa basegid
E 4
is automatically included in the groups list.
Typically this value is given as
the group number from the password file.
D 4
.SH FILES
/etc/group
.SH SEE ALSO
setgroups(2)
.SH DIAGNOSTICS
.I Initgroups
E 4
I 4
.Sh RETURN VALUES
The
.Fn initgroups
function
E 4
returns \-1 if it was not invoked by the super-user.
D 4
.SH BUGS
.I Initgroups
E 4
I 4
D 5
.Sh FILES
.Bl -tag -width /etc/group -compact
.It Pa /etc/group
.El
E 5
.Sh SEE ALSO
.Xr setgroups 2 ,
I 5
.Xr getgrouplist 3
E 5
.Sh HISTORY
The
.Nm
function appeared in 
.Bx 4.2 .
.Sh BUGS
The
D 5
.Fn initgroups
function
E 5
I 5
.Fn getgrouplist
function called by
.Nm
E 5
E 4
uses the routines based on
D 4
.IR getgrent (3).
E 4
I 4
.Xr getgrent 3 .
E 4
If the invoking program uses any of these routines,
the group structure will
be overwritten in the call to
D 4
.IR initgroups .
E 4
I 4
.Fn initgroups .
E 4
D 3
.PP
Noone seems to keep /etc/group up to date.
E 3
E 1
