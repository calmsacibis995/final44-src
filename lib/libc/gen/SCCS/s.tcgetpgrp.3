h47203
s 00002/00002/00051
d D 8.1 93/06/04 12:05:59 bostic 5 4
c 4.4BSD snapshot (revision 8.1); add 1993 to copyright
e
s 00001/00000/00052
d D 5.3 92/03/29 07:33:20 bostic 4 3
c fix include files
e
s 00042/00043/00010
d D 5.2 92/02/03 19:48:53 bostic 3 2
c minor cleanups to the code, KNF, one bug fix; make man pages real
e
s 00005/00000/00048
d D 5.1 92/02/02 18:10:57 marc 2 1
c check in for marc
e
s 00048/00000/00000
d D 1.1 91/09/26 16:49:33 marc 1 0
c date and time created 91/09/26 16:49:33 by marc
e
u
U
t
T
I 1
D 5
.\" Copyright (c) 1991 The Regents of the University of California.
.\" All rights reserved.
E 5
I 5
.\" Copyright (c) 1991, 1993
.\"	The Regents of the University of California.  All rights reserved.
E 5
.\"
.\" %sccs.include.redist.roff%
.\"
.\"	%W% (Berkeley) %G%
.\"
I 2
D 3
.Dd Jun 11, 1991
.Dt TCGETPGRP
E 3
I 3
.Dd "%Q%"
.Dt TCGETPGRP 3
E 3
.Os
.Sh NAME
.Nm tcgetpgrp
E 2
D 3
.LP
.B "Get Foreground Process Group ID"
.LP
.B "Function:  tcgetpgrp()"
.LP
.B "Synopsis"
.LP
.nf
#include <sys/types.h>

pid_t tcgetpgrp(int fildes);
.fi
.LP
.B "Description"
.LP
The tcgetpgrp() function shall return the value of the process
group ID of the foreground process group associated with the
terminal.
.LP
.B "Returns"
.LP
Upon successful completion, tcgetpgrp() returns the process group ID of
the foreground process group associated with the terminal.  If there is
no foreground process group, tcgetpgrp() shall return a value greater
than 1 that does not match the process group ID of any existing process
group.  Otherwise, a value of -1 is returned and errno is set to indicate
the error.
.LP
.B "Errors"
.LP
If any of the following conditions occur, the tcgetpgrp() function shall
return -1 and set errno to the corresponding value:
.nf
   [EBADF]       The fildes argument is not a valid file descriptor.

   [ENOSYS]      The tcgetpgrp() function is not supported in this
                 implementation.

   [ENOTTY]      The calling process does not have a controlling terminal
                 or the file is not the controlling terminal.
.fi
E 3
I 3
.Nd get foreground process group ID
.Sh SYNOPSIS
.Fd #include <sys/types.h>
I 4
.Fd #include <unistd.h>
E 4
.Ft pid_t
.Fn tcgetpgrp "int fd"
.Sh DESCRIPTION
The
.Nm tcgetpgrp
function returns the value of the process group ID of the foreground
process group associated with the terminal device.
If there is no foreground process group,
.Nm tcgetpgrp
returns an invalid process ID.
.Sh ERRORS
If an error occurs,
.Nm tcgetpgrp
returns -1 and the global variable
.Va errno
is set to indicate the error, as follows:
.Bl -tag -width Er
.It Bq Er EBADF
The
.Fa fd
argument is not a valid file descriptor.
.It Bq Er ENOTTY
The calling process does not have a controlling terminal or the
underlying terminal device represented by
.Fa fd
is not the controlling terminal.
.El
.Sh SEE ALSO
.Xr setpgid 3 ,
.Xr setsid 2 ,
.Xr tcsetpgrp 3
.Sh STANDARDS
The
.Nm tcgetpgrp
function is expected to be compliant with the
.St -p1003.1-88
specification.
E 3
E 1
