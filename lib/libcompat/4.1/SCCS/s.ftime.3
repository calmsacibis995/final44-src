h02857
s 00002/00002/00056
d D 8.1 93/06/04 16:22:11 bostic 6 5
c 4.4BSD snapshot (revision 8.1); add 1993 to copyright
e
s 00046/00031/00012
d D 6.3 91/04/19 14:30:44 cael 5 4
c macro and text revision (-mdoc version 3)
e
s 00008/00022/00035
d D 6.2 89/05/17 22:28:45 bostic 4 3
c break up ftime and time
e
s 00001/00001/00056
d D 6.1 85/05/09 18:00:07 mckusick 3 2
c 4.3BSD beta release manual page
e
s 00007/00013/00050
d D 5.1 85/05/09 17:59:41 mckusick 2 1
c manual page distributed with 4.2BSD
e
s 00063/00000/00000
d D 4.1 85/05/09 17:59:01 mckusick 1 0
c manual page distributed with 4.1BSD
e
u
U
t
T
I 1
D 5
.\" Copyright (c) 1980 Regents of the University of California.
.\" All rights reserved.  The Berkeley software License Agreement
.\" specifies the terms and conditions for redistribution.
E 5
I 5
D 6
.\" Copyright (c) 1980, 1991 Regents of the University of California.
.\" All rights reserved.
E 6
I 6
.\" Copyright (c) 1980, 1991, 1993
.\"	The Regents of the University of California.  All rights reserved.
E 6
E 5
.\"
D 5
.\"	%W% (Berkeley) %G%
E 5
I 5
.\" %sccs.include.redist.man%
E 5
.\"
D 2
.TH TIME 2 
E 2
I 2
D 3
.TH TIME 3C "1 April 1983" 
E 3
I 3
D 4
.TH TIME 3C "%Q%" 
E 4
I 4
D 5
.TH FTIME 3C "%Q%"
E 4
E 3
E 2
.UC 4
.SH NAME
D 4
time, ftime \- get date and time
E 4
I 4
ftime \- get date and time
E 4
.SH SYNOPSIS
.nf
D 4
.B long time(0)
.PP
.B long time(tloc)
.B long *tloc;
.PP
E 4
.B #include <sys/types.h>
.B #include <sys/timeb.h>
I 4

E 4
.B ftime(tp)
.B struct timeb *tp;
.fi
.SH DESCRIPTION
I 2
.ft B
E 5
I 5
.\"     %W% (Berkeley) %G%
.\"
.Dd %Q%
.Dt FTIME 3
.Os BSD 4
.Sh NAME
.Nm ftime
.Nd get date and time
.Sh SYNOPSIS
.Fd #include <sys/types.h>
.Fd #include <sys/timeb.h>
.Ft struct timeb *
.Fn ftime "struct timeb *tp"
.Sh DESCRIPTION
.Bf -symbolic
E 5
D 4
These interfaces are obsoleted by gettimeofday(2).
E 4
I 4
This interface is obsoleted by gettimeofday(2).
D 5
.br
E 5
I 5
.Pp
E 5
It is available from the compatibility library, libcompat.
E 4
D 5
.ft R
.PP
E 5
I 5
.Ef
.Pp
E 5
E 2
D 4
.I Time
returns the time since 00:00:00 GMT, Jan. 1, 1970, measured
in seconds.
.PP
If
.I tloc
is nonnull,
the return value is also stored in the
place to which
.I tloc
points.
.PP
E 4
The
D 5
.I ftime
E 5
I 5
.Fn ftime
E 5
D 4
entry fills in a structure pointed to by its argument,
E 4
I 4
routine fills in a structure pointed to by its argument,
E 4
as defined by
D 2
.IR <sys/timeb.h> :
E 2
I 2
D 5
.RI < sys/timeb.h >:
E 2
.PP
.ta .5i +\w'unsigned 'u
.nf
.so /usr/include/sys/timeb.h
.fi
.PP
E 5
I 5
.Aq Pa sys/timeb.h :
.Bd -literal -offset indent
/*
 * Structure returned by ftime system call
 */
struct timeb
{
	  time_t  time;
	  unsigned short millitm;
	  short   timezone;
	  short   dstflag;
};
.Ed
.Pp
E 5
The structure contains the time since the epoch in seconds,
up to 1000 milliseconds of more-precise interval,
the local time zone (measured in minutes of time westward from Greenwich),
and a flag that, if nonzero, indicates that
Daylight Saving time applies locally during the appropriate part of the year.
D 5
.SH "SEE ALSO"
D 2
date(1), stime(2), ctime(3)
.SH "ASSEMBLER (PDP-11)"
(ftime = 35.)
.br
.B sys ftime; bufptr
.PP
(time = 13.; obsolete call)
.br
.B sys time
.br
(time since 1970 in r0-r1)
E 2
I 2
D 4
date(1), gettimeofday(2), settimeofday(2), ctime(3)
E 4
I 4
gettimeofday(2), settimeofday(2), time(2), ctime(3)
E 5
I 5
.Sh SEE ALSO
.Xr gettimeofday 2 ,
.Xr settimeofday 2 ,
.Xr time 2 ,
.Xr ctime 3
.Sh HISTORY
The
.Nm
function appeared in 
.Bx 4.2 .
E 5
E 4
E 2
E 1
