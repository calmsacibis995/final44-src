h38873
s 00002/00002/00095
d D 8.1 93/06/04 16:25:13 bostic 8 7
c 4.4BSD snapshot (revision 8.1); add 1993 to copyright
e
s 00005/00007/00092
d D 6.5 92/08/05 12:24:42 bostic 7 6
c regex needed by POSIX RE package
e
s 00005/00000/00094
d D 6.4 92/03/29 11:11:17 bostic 6 5
c Note that the interface is obsolete
e
s 00070/00046/00024
d D 6.3 91/04/19 14:30:38 cael 5 4
c macro and text revision (-mdoc version 3)
e
s 00001/00001/00069
d D 6.2 88/05/19 18:14:10 bostic 4 3
c add regexp to SEE ALSO list
e
s 00001/00001/00069
d D 6.1 85/05/15 15:11:56 mckusick 3 2
c 4.3BSD beta release manual page
e
s 00022/00020/00048
d D 5.1 85/05/15 15:11:46 mckusick 2 1
c manual page distributed with 4.2BSD
e
s 00068/00000/00000
d D 4.1 85/05/15 15:11:36 mckusick 1 0
c manual page distributed with 4.1BSD
e
u
U
t
T
I 1
D 5
.\" Copyright (c) 1980 Regents of the University of California.
.\" All rights reserved.  The Berkeley software License Agreement
.\" specifies the terms and conditions for redistribution.
E 5
I 5
D 8
.\" Copyright (c) 1980, 1991 Regents of the University of California.
.\" All rights reserved.
E 8
I 8
.\" Copyright (c) 1980, 1991, 1993
.\"	The Regents of the University of California.  All rights reserved.
E 8
E 5
.\"
D 5
.\"	%W% (Berkeley) %G%
E 5
I 5
.\" %sccs.include.redist.man%
E 5
.\"
D 2
.TH REGEX 3 2/29/80
E 2
I 2
D 3
.TH REGEX 3 "29 February 1980"
E 3
I 3
D 5
.TH REGEX 3 "%Q%"
E 3
E 2
.UC
.SH NAME
re_comp, re_exec \- regular expression handler
.SH SYNOPSIS
D 2
.nf
E 2
.B char *re_comp(s)
I 2
.br
E 2
.B char *s;
.PP
.B re_exec(s)
I 2
.br
E 2
.B char *s;
D 2
.fi
E 2
.SH DESCRIPTION
.I Re_comp
E 5
I 5
.\"     %W% (Berkeley) %G%
.\"
.Dd %Q%
D 7
.Dt REGEX 3
E 7
I 7
.Dt RE_COMP 3
E 7
.Os
.Sh NAME
.Nm re_comp ,
.Nm re_exec
.Nd regular expression handler
.Sh SYNOPSIS
.Fd #include <unistd.h>
.Ft char *
.Fn re_comp "const char *s"
.Ft int
.Fn re_exec "const char *s"
I 6
D 7
.Bf -symbolic
This interface is made obsolete by:
.Ef
.Xr regexp 3 .
.Pp
E 7
E 6
.Sh DESCRIPTION
I 7
This interface is made obsolete by
.Xr regex 3 .
.Pp
E 7
The
.Fn re_comp
function
E 5
D 2
compiles a string into an internal form suitable for 
pattern matching. 
E 2
I 2
compiles a string into an internal form suitable for pattern matching. 
E 2
D 5
.I Re_exec 
E 5
I 5
The
.Fn re_exec
function
E 5
checks the argument string against the last string passed to
D 5
.I re_comp.
.PP
.I Re_comp
E 5
I 5
.Fn re_comp .
.Pp
The
.Fn re_comp
function
E 5
returns 0 if the string
D 5
.I s
E 5
I 5
.Fa s
E 5
was compiled successfully; otherwise a string containing an
error message is returned. If 
D 5
.I re_comp
E 5
I 5
.Fn re_comp
E 5
is passed 0 or a null string, it returns without changing the currently
compiled regular expression.
D 5
.PP
.I Re_exec
E 5
I 5
.Pp
The
.Fn re_exec
function
E 5
returns 1 if the string
D 5
.I s
E 5
I 5
.Fa s
E 5
matches the last compiled regular expression, 0 if the string
D 5
.I s
E 5
I 5
.Fa s
E 5
D 2
failed to match the last compiled regular expression, and
-1 if the compiled regular expression was invalid (indicating an
internal error).
E 2
I 2
failed to match the last compiled regular expression, and \-1 if the compiled
regular expression was invalid (indicating an internal error).
E 2
D 5
.PP
E 5
I 5
.Pp
E 5
The strings passed to both
D 5
.I re_comp
E 5
I 5
.Fn re_comp
E 5
and
D 5
.I re_exec
E 5
I 5
.Fn re_exec
E 5
may have trailing or embedded newline characters; 
D 5
they are terminated by nulls.
E 5
I 5
they are terminated by
.Dv NUL Ns s.
E 5
D 2
The regular expressions recognized are described in the manual entry
for 
.I ed
(1), given the above difference.
E 2
I 2
The regular expressions recognized are described in the manual entry for 
D 5
.IR ed (1),
E 5
I 5
.Xr ed 1 ,
E 5
given the above difference.
E 2
D 5
.SH "SEE ALSO"
D 2
ed(1), ex(1)
E 2
I 2
D 4
ed(1), ex(1), egrep(1), fgrep(1), grep(1)
E 4
I 4
ed(1), ex(1), egrep(1), fgrep(1), grep(1), regexp(3)
E 4
E 2
.SH DIAGNOSTICS
.I Re_exec
E 5
I 5
.Sh DIAGNOSTICS
The
.Fn re_exec
function
E 5
D 2
returns -1 for an internal error.
E 2
I 2
returns \-1 for an internal error.
E 2
D 5
.PP
.I Re_comp
E 5
I 5
.Pp
The
.Fn re_comp
function
E 5
returns one of the following strings if an error occurs:
D 2
"No previous regular expression",
"Regular expression too long",
"unmatched \e(",
"missing ]",
"too many \e(\e) pairs",
"unmatched \e)".
E 2
I 2
D 5
.PP
.nf
.in +0.5i
\fINo previous regular expression,
E 5
I 5
.Bd -unfilled -offset indent
No previous regular expression,
E 5
Regular expression too long,
unmatched \e(,
missing ],
too many \e(\e) pairs,
D 5
unmatched \e).\fP
.in -0.5i
.fi
E 5
I 5
unmatched \e).
.Ed
.Sh SEE ALSO
.Xr ed 1 ,
.Xr ex 1 ,
.Xr egrep 1 ,
.Xr fgrep 1 ,
.Xr grep 1 ,
D 7
.Xr regexp 3
E 7
I 7
.Xr regex 3
E 7
.Sh HISTORY
The
.Fn re_comp
and
.Fn re_exec
functions appeared in 
.Bx 4.0 .
E 5
E 2
E 1
