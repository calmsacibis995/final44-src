h35801
s 00002/00002/00052
d D 8.1 93/06/04 16:53:26 bostic 4 3
c 4.4BSD snapshot (revision 8.1); add 1993 to copyright
e
s 00004/00000/00050
d D 5.3 92/05/26 14:37:32 bostic 3 2
c add LBL credit line
e
s 00014/00003/00036
d D 5.2 92/04/29 11:42:30 bostic 2 1
c update from LBL (Chris, Craig and Steve)
e
s 00039/00000/00000
d D 5.1 92/04/01 18:29:01 mckusick 1 0
c from Steve McCanne
e
u
U
t
T
I 1
D 4
.\" Copyright (c) 1992 The Regents of the University of California.
.\" All rights reserved.
E 4
I 4
.\" Copyright (c) 1992, 1993
.\"	The Regents of the University of California.  All rights reserved.
E 4
.\"
I 3
.\" This code is derived from software developed by the Computer Systems
.\" Engineering group at Lawrence Berkeley Laboratory under DARPA contract
.\" BG 91-66 and contributed to Berkeley.
.\"
E 3
.\" %sccs.include.redist.man%
.\"
.\"     %W% (Berkeley) %G%
.\"
.Dd %Q%
.Dt KVM_GETERR 3
.Os
.Sh NAME
.Nm kvm_geterr
.Nd get error message on kvm descriptor
.Sh SYNOPSIS
.Fd #include <kvm.h>
.br
.Ft char *
.Fn kvm_geterr "kvm_t *kd"
.Sh DESCRIPTION
This function returns a string describing the most recent error condition
on the descriptor
.Fa kd .
The results are undefined if the most recent
.Xr kvm 3
library call did not produce an error.
The string returned is stored in memory owned by 
.Xr kvm 3
so the message should be copied out and saved elsewhere if necessary.
.Sh BUGS
D 2
This routine cannot be used to access error conditions do to a failed
E 2
I 2
This routine cannot be used to access error conditions due to a failed
E 2
.Fn kvm_openfiles
D 2
call, since failure is indicated by returning a NULL descriptor.
E 2
I 2
call, since failure is indicated by returning a
.Dv NULL
descriptor.
E 2
Therefore, errors on open are output to the special error buffer
passed to 
.Fn kvm_openfiles .
This option is not available to
.Fn kvm_open .
.Sh SEE ALSO
D 2
.Xr kvm 3
E 2
I 2
.Xr kvm 3 ,
.Xr kvm_close 3 ,
.Xr kvm_getargv 3 ,
.Xr kvm_getenvv 3 ,
.Xr kvm_getprocs 3 ,
.Xr kvm_nlist 3 ,
.Xr kvm_open 3 ,
.Xr kvm_openfiles 3 ,
.Xr kvm_read 3 ,
.Xr kvm_write 3
E 2
E 1
