h41408
s 00002/00002/00064
d D 8.1 93/06/04 16:54:10 bostic 3 2
c 4.4BSD snapshot (revision 8.1); add 1993 to copyright
e
s 00002/00002/00064
d D 5.2 92/06/19 08:38:20 bostic 2 1
c Decls didn't match the code, from Craig Leres
e
s 00066/00000/00000
d D 5.1 92/05/26 15:31:49 bostic 1 0
c date and time created 92/05/26 15:31:49 by bostic
e
u
U
t
T
I 1
D 3
.\" Copyright (c) 1992 The Regents of the University of California.
.\" All rights reserved.
E 3
I 3
.\" Copyright (c) 1992, 1993
.\"	The Regents of the University of California.  All rights reserved.
E 3
.\"
.\" This code is derived from software developed by the Computer Systems
.\" Engineering group at Lawrence Berkeley Laboratory under DARPA contract
.\" BG 91-66 and contributed to Berkeley.
.\"
.\" %sccs.include.redist.man%
.\"
.\"     %W% (Berkeley) %G%
.\"
.Dd %Q%
.Dt KVM_READ 3
.Os
.Sh NAME
.Nm kvm_read ,
.Nm kvm_write
.Nd read or write kernel virtual memory
.Sh SYNOPSIS
.Fd #include <kvm.h>
.Ft ssize_t
D 2
.Fn kvm_read "const kvm_t *kd" "u_long addr" "char *buf" "size_t nbytes"
E 2
I 2
.Fn kvm_read "kvm_t *kd" "u_long addr" "void *buf" "size_t nbytes"
E 2
.Ft ssize_t
D 2
.Fn kvm_write "const kvm_t *kd" "u_long addr" "char *buf" "size_t nbytes"
E 2
I 2
.Fn kvm_write "kvm_t *kd" "u_long addr" "const void *buf" "size_t nbytes"
E 2
.Sh DESCRIPTION
The
.Fn kvm_read
and
.Fn kvm_write
functions are used to read and write kernel virtual memory (or a crash
dump file). See
.Fn kvm_open 3
or
.Fn kvm_openfiles 3
for information regarding opening kernel virtual memory and crash dumps.
.Pp
The
.Fn kvm_read
function transfers
.Fa nbytes 
bytes of data from
the kernel space address
.Fa addr
to
.Fa buf .
Conversely, 
.Fn kvm_write
transfers data from
.Fa buf
to
.Fa addr .
Unlike their SunOS counterparts, these functions cannot be used to 
read or write process address spaces.
.Sh RETURN VALUES
Upon success, the number of bytes actually transferred is returned.
Otherwise, -1 is returned.
.Sh SEE ALSO
.Xr kvm 3 ,
.Xr kvm_close 3 ,
.Xr kvm_getargv 3 ,
.Xr kvm_getenvv 3 ,
.Xr kvm_geterr 3 ,
.Xr kvm_getprocs 3 ,
.Xr kvm_nlist 3 ,
.Xr kvm_open 3 ,
.Xr kvm_openfiles 3
E 1
