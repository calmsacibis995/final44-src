----- X130 -----
[ ./conf/version.edit ]
130
[ ./builtin/inode_pager.h ]
	Moved the swapon calls and flags to sys/ux_pager.h
and  included it.
[90/09/07            mrt]
[ ./builtin/ux_exception.c ]
Changed  include of ux_exception.h from builtin/ to sys/
[90/09/07            mrt]
[ ./conf/MASTER.mips ]
Configure 2 lance boards by default, cuz thick-ether 3maxen.
[90/08/24            af]
Added 3max support (kmax3 option).
Added pmap pagetable cache option.
[90/05/20  13:49:21  af]

Enabled fast_csw by default.
[90/03/15  13:17:00  af]
[ ./mips/PMAX/cfb.c ]
Fixed positioning of the cursor on screen resets.
[90/09/06  09:24:08  af]
[ ./mips/PMAX/if_ln.c ]
Initial support for multiple ethers: find how many off ln.h
[90/09/06  08:59:35  af]

Found a hardware bug.  Contrary to spec, the Lance chip might
screwup CSR1 while in operation.  See note in the code.
[90/08/17  11:26:38  af]
[ ./mips/PMAX/pm_lk201.c ]
Disabled HOLD code: did not work anyways and makes no sense.
[90/09/06            af]
[ ./mips/PMAX/pm_tty.c ]
Added key-remapping ioctl.
[90/09/06            af]
[ ./mips/PMAX/pmioctl.h ]
Added QIOC_REMAP_KEY and related typedefs.
[90/09/06            af]
[ ./mips/PMAX/qfont.c ]
Long-awaited fix: shifted comma and period get back to less and
greater.  Added a little function to play with the map tables.
[90/08/03            af]
[ ./mips/PMAX/scsi_sii.c ]
Added an extra wbflush in sii_select_target. Bug fix courtesy of
jvs of OSF.
[90/09/07            mrt]
[ ./mips/machdep.c ]
Dropped antique and buggy use of useracc in sendsig & friends:
3maxen are fast enough to realize the prophecy in vm/vm_unix.c
[90/08/29            af]
[ ./mips/pmap.c ]
Fixed bug in pmap_attribute_lookup().
[90/08/23            af]
[ ./mips/swapgeneric.c ]
To support thick ethernets on 3max, look for "se" on slots 0/1/2
of the tc bus.
[90/09/06  08:56:28  af]
[ ./mips/trap.c ]
Fixed off-by-one in pmap pcache code.
[90/09/06            af]
[ ./src/Makefile ]
Changed cleaner rule to clean, as sudirectory config did not
have cleaner rule.  Change courtesy of Zon Williams
[90/09/07            mrt]
[ ./sys/ux_exception.h ]
Moved back to sys becuse it needed to be part of the kernel's
exported interface.
[90/09/07            mrt]
[ ./sys/ux_pager.h ]
Moved declaration of mach_swapon, inode_swap_preference and
flags from builtin/inode_pager.h to here where it can be
exported to the user.
[90/09/07            mrt]
[ ./vm/vm_map.c ]
Initialized result=KERN_SUCCESS at begining of
vm_map_copy_overwrite.
[90/09/05            mrt]
[ ./bsd/kern_exit.c ]
Final cleanup for mac2.
[90/09/07            bohman]
[ ./mac2/clock.c ]
Final cleanup.
[90/09/07            bohman]
[ ./mac2/mac2_mach_process.c ]
Final cleanup.
[90/09/07            bohman]
[ ./mac2/machdep.c ]
Final cleanup.
[90/09/07            bohman]
[ ./mac2/ostrap.c ]
Final cleanup.
[90/09/07            bohman]
[ ./mac2/pcb.c ]
Final cleanup.
[90/09/07            bohman]
[ ./mac2/pcb.h ]
Final cleanup.
[90/09/07            bohman]
[ ./mac2/trap.c ]
Final cleanup.
[90/09/07            bohman]
[ ./mac2dev/via.c ]
Final cleanup.
[90/09/07            bohman]
[ ./mac2slotmgr/slotmgr_dispatch.c ]
Final cleanup.
[90/09/07            bohman]
[ ./mach/mac2/frame.h ]
Final cleanup.
[90/09/07            bohman]
[ ./mach/mac2/reg.h ]
Final cleanup.
[90/09/07            bohman]
[ ./mach/mac2/thread_status.h ]
Final cleanup.
[90/09/07            bohman]
[ ./mach/kern_return.h ]
Changed value of KERN_MEMORY_PRESENT to 23 to agree with its
value in Mach 3.
[90/09/08            mrt]
[ ./mips/trap.c ]
Corrected the inlude of builtin/ux_exception.h to
sys/ux_exception.h.
[90/09/08            mrt]
[ ./ca/trap.c ]
Corrected the inlude of builtin/ux_exception.h to
sys/ux_exception.h.
[90/09/08            mrt]
[ ./sun3/trap.c ]
Corrected the inlude of builtin/ux_exception.h to
sys/ux_exception.h.
[90/09/08            mrt]
[ ./sun4/trap.c ]
Corrected the inlude of builtin/ux_exception.h to
sys/ux_exception.h.
[90/09/08            mrt]
[ ./mmax/trap.c ]
Corrected the inlude of builtin/ux_exception.h to
sys/ux_exception.h.
[90/09/08            mrt]
[ ./mac2/trap.c ]
Corrected the inlude of builtin/ux_exception.h to
sys/ux_exception.h.
[90/09/08            mrt]
[ ./vax/trap.c ]
Corrected the inlude of builtin/ux_exception.h to
sys/ux_exception.h.
[90/09/08            mrt]
[ ./bsd/init_main.c ]
Corrected the inlude of builtin/ux_exception.h to
sys/ux_exception.h.
[90/09/08            mrt]
[ ./bsd/uipc_socket.c ]
Corrected the inlude of builtin/ux_exception.h to
sys/ux_exception.h.
[90/09/08            mrt]
[ ./ca/float.c ]
Changed include of ux_exception from builtin/ to sys/
[90/09/09            mrt]
[ ./ca/fpa.c ]
Changed include of ux_exception from builtin/ to sys/
[90/09/09            mrt]
[ ./mips/check_dbg.c ]
Only way to reliably get the boot image name on new DEC proms
is to query the prom for "boot".
[90/09/10  15:23:35  af]
[ ./mips/trap.c ]
Added task_traced facility.
And let's see if this time we manage to rid of the vm_fault()
call in tlb_miss() that RCS put back in.
[90/09/10  15:46:04  af]
[ ./mips/pmap.c ]
Made pmap_collect() work for real.  It still is not reliable enough, but
it is a step forward.  I think it screws up the pv_list, somehow.
Made pmap_lock recursive, to support pmap_collect().
[90/09/10  15:55:18  af]
[ ./mips/startup.c ]
Reduced the default size of the buffer cache in half.
This supports greedy users, and should not harm performance
since most machines have about 12/16 meg anyways.
[90/09/08            af]
[ ./mips/PMAX/dc_tty.c ]
Deal with the new style of the "osconsole" prom var.  This breaks
the rcline thing on new proms: patch the kernel if you want it.
[90/09/10  16:11:47  af]
[ ./vm/vm_object.c ]
New calling sequence of vm_fault_page().
[90/09/10  17:30:31  af]
[ ./vm/vm_map.h ]
Added vm_map_t->vm_stat, to support task_info(events).
[90/09/06            af]
[ ./vm/vm_map.c ]
Zero the stat info when creating a map./
[90/09/10  17:31:45  af]
[ ./vm/vm_resident.c ]
Fixed vm_page_zero_fill() to account for zerofills itself
in the vm_stat structure, rather then relying on the caller.
[90/09/10  17:34:09  af]
[ ./vm/vm_fault.c ]
Added per-map statistics to support the EVENTS flavor of
task_info, which wasn't implemented and now is.
vm_fault_page() now takes an extra parameter which is
a vm_statistics structure where to cherge the fault to.
[90/09/10  17:37:29  af]
[ ./kern/thread.h ]
Added IPC metering fields.
[90/09/06            af]
[ ./kern/thread.c ]
Initialize IPC metering info in thread structure.
[90/09/10  17:39:31  af]
[ ./kern/ipc_basics.c ]
Keep track of the number of messages sent/received per-thread.
[90/09/10  17:40:24  af]
[ ./kern/task.c ]
Added implementation of the TASK_EVENTS_INFO flavor of task_info().
[90/09/10  17:41:40  af]
[ ./ca/mc881.c ]
Changed include of ux_exception from builtin to sys
[90/09/09            mrt]
[ ./UpdateSet ]
Version 5.1(X130)

----- X129 -----
[ ./conf/version.edit ]
129
[ ./afs/afs_osinet.c ]
Changed some calls to MGET() and m_get() that could be called
from interrupt context from M_WAIT to M_DONTWAIT.
[90/08/28            bohman]
[ ./afs/afs_pioctl.c ]
Ioctl changes for STDC.
[90/08/28            bohman]
[ ./afs/afs_vfsops.c ]
Turned off setting of VFS_NOSUID flag under CMU_MACMACH conditional.
[90/08/28            bohman]
[ ./bsd/init_main.c ]
Moved call to kalloc_init() from main() into setup_main()
and inserted it before call to startup().
[90/08/28            bohman]
[ ./bsd/kern_clock.c ]
Changes for mac2.
[90/08/28            bohman]
[ ./bsd/kern_exec.c ]
Changes for mac2.
[90/08/28            bohman]
[ ./bsd/kern_exit.c ]
Changes for mac2.
[90/08/28            bohman]
[ ./bsd/kern_sig.c ]
Changes for mac2.  Changed reference to __GNU__ to __GNUC__.
[90/08/28            bohman]
[ ./bsd/mach_process.c ]
Changes for mac2.
[90/08/28            bohman]
[ ./bsd/subr_prf.c ]
Changes for mac2.
[90/08/28            bohman]
[ ./bsd/subr_xxx.c ]
Changes for mac2.
[90/08/28            bohman]
[ ./bsd/sys_inode.c ]
Ioctl changes for STDC.
[90/08/28            bohman]
[ ./bsd/syscalls.c ]
Changes for mac2.
[90/08/28            bohman]
[ ./bsd/tty.c ]
Ioctl changes for STDC.  Other changes for STDC.
[90/08/28            bohman]
[ ./bsd/tty_pty.c ]
Changes for STDC.
[90/08/28            bohman]
[ ./bsd/ufs_physio.c ]
Changes for mac2.
[90/08/28            bohman]
[ ./bsd/uipc_domain.c ]
Changes for STDC.
[90/08/28            bohman]
[ ./bsd/uipc_socket.c ]
Changed enabling of SO_GREEDY code from #if VICE to #ifdef SO_GREEDY. 
[90/08/28            bohman]
[ ./conf/MASTER.mac2 ]
Created.
[90/08/29  13:39:55  bohman]
[ ./conf/MASTER.mac2.local ]
Created.
[90/08/29  13:44:34  bohman]
[ ./conf/files.mac2 ]
Created.
[90/08/29  14:31:28  bohman]
[ ./conf/param.c ]
Changes for mac2.
[90/08/28            bohman]
[ ./kern/host.c ]
Moved external declaration of ipc_kernel_map out from
inside declaration of function host_processors().
[90/08/28            bohman]
[ ./kern/inode_macros.h ]
Changes for STDC.
[90/08/28            bohman]
[ ./kern/ipc_netport.h ]
Changes for mac2.
[90/08/28            bohman]
[ ./mac2/MacGlobals.h ]
Created.
[90/08/29  10:55:34  bohman]
[ ./mac2/act.h ]
Created.
[90/08/29  10:57:07  bohman]
[ ./mac2/asm.h ]
Created.
[90/08/29  10:57:19  bohman]
[ ./mac2/ast.h ]
Created.
[90/08/29  10:57:27  bohman]
[ ./mac2/autoconf.c ]
Created.
[90/08/29  10:59:15  bohman]
[ ./mac2/autoconf.h ]
Created.
[90/08/29  10:59:23  bohman]
[ ./mac2/bitmap_inline.c ]
Created.
[90/08/29  11:28:26  bohman]
[ ./mac2/call_frame.h ]
Created.
[90/08/29  11:29:55  bohman]
[ ./mac2/clock.h ]
Created.
[90/08/29  11:30:58  bohman]
[ ./mac2/cpu.h ]
Created.
[90/08/29  11:31:40  bohman]
[ ./mac2/cpu_inline.c ]
Created.
[90/08/29  11:32:19  bohman]
[ ./mac2/endian.h ]
Created.
[90/08/29  11:33:02  bohman]
[ ./mac2/ffsl_inline.c ]
Created.
[90/08/29  11:34:28  bohman]
[ ./mac2/in_cksum.c ]
Created.
[90/08/29  11:35:48  bohman]
[ ./mac2/ivect.c ]
Created.
[90/08/29  11:36:27  bohman]
[ ./mac2/mac2_exception.c ]
Created.
[90/08/29  11:38:05  bohman]
[ ./mac2/mac2_mach_process.c ]
Created.
[90/08/29  11:38:40  bohman]
[ ./mac2/machdep.c ]
Created.
[90/08/29  11:39:37  bohman]
[ ./mac2/mem.c ]
Created.
[90/08/29  11:40:52  bohman]
[ ./mac2/ostrap.c ]
Created.
[90/08/29  11:41:15  bohman]
[ ./mac2/ostrap_tables.c ]
Created.
[90/08/29  11:41:30  bohman]
[ ./mac2/pmap_inline.c ]
Created.
[90/08/29  11:43:33  bohman]
[ ./mac2/pmap_kmap.h ]
Created.
[90/08/29  11:43:50  bohman]
[ ./mac2/pmmu_inline.c ]
Created.
[90/08/29  11:44:06  bohman]
[ ./mac2/psl.h ]
Created.
[90/08/29  11:44:23  bohman]
[ ./mac2/ptrace.h ]
Created.
[90/08/29  11:44:40  bohman]
[ ./mac2/setjmp.s ]
Created.
[90/08/29  11:45:42  bohman]
[ ./mac2/softint.c ]
Created.
[90/08/29  11:45:59  bohman]
[ ./mac2/strings.c ]
Created.
[90/08/29  11:46:44  bohman]
[ ./mac2/swapgeneric.c ]
Created.
[90/08/29  11:49:53  bohman]
[ ./mac2/symbols.raw ]
Created.
[90/08/30  09:34:44  bohman]
[ ./mac2/thread.h ]
Created.
[90/08/29  11:59:21  bohman]
[ ./mac2/trap.h ]
Created.
[90/08/29  12:00:35  bohman]
[ ./mac2/ufs_machdep.c ]
Created.
[90/08/29  12:00:54  bohman]
[ ./mac2/virt.s ]
Created.
[90/08/29  12:01:26  bohman]
[ ./mac2/vm_machdep.c ]
Created.
[90/08/29  12:01:49  bohman]
[ ./mac2/vm_tuning.h ]
Created.
[90/08/29  12:03:46  bohman]
[ ./mac2/xpr.h ]
Created.
[90/08/29  12:05:36  bohman]
[ ./mac2dev/cons.c ]
Created.
[90/08/29  12:40:32  bohman]
[ ./mac2dev/fdb.c ]
Created.
[90/08/29  12:41:44  bohman]
[ ./mac2dev/fdb.h ]
Created.
[90/08/29  12:43:27  bohman]
[ ./mac2dev/fdbs.s ]
Created.
[90/08/29  12:44:40  bohman]
[ ./mac2dev/font.h ]
Created.
[90/08/29  12:45:20  bohman]
[ ./mac2dev/font1.s ]
Created.
[90/08/29  12:45:48  bohman]
[ ./mac2dev/kb.c ]
Created.
[90/08/29  12:46:06  bohman]
[ ./mac2dev/key.c ]
Created.
[90/08/29  12:46:36  bohman]
[ ./mac2dev/key.h ]
Created.
[90/08/29  12:47:02  bohman]
[ ./mac2dev/mhd.c ]
Created.
[90/08/29  12:47:25  bohman]
[ ./mac2dev/mouse.c ]
Created.
[90/08/29  12:47:59  bohman]
[ ./mac2dev/mouse.h ]
Created.
[90/08/29  12:48:18  bohman]
[ ./mac2dev/mscsi.c ]
Created.
[90/08/29  12:49:04  bohman]
[ ./mac2dev/mscsi.h ]
Created.
[90/08/29  12:49:30  bohman]
[ ./mac2dev/ncr5380.h ]
Created.
[90/08/29  12:49:53  bohman]
[ ./mac2dev/scc.c ]
Created.
[90/08/29  12:52:34  bohman]
[ ./mac2dev/scc.h ]
Created.
[90/08/29  12:53:09  bohman]
[ ./mac2dev/via.h ]
Created.
[90/08/29  12:54:43  bohman]
[ ./mac2dev/video.c ]
Created.
[90/08/29  12:54:57  bohman]
[ ./mac2dev/video.h ]
Created.
[90/08/29  12:55:22  bohman]
[ ./mac2if/if_en.c ]
Created.
[90/08/29  12:30:35  bohman]
[ ./mac2if/if_en.h ]
Created.
[90/08/29  12:34:32  bohman]
[ ./mac2if/if_enintr_catch.s ]
Created.
[90/08/29  12:36:21  bohman]
[ ./mac2if/if_enregs.h ]
Created.
[90/08/29  12:35:34  bohman]
[ ./mac2slotmgr/Devices.h ]
Created.
[90/08/29  12:59:12  bohman]
[ ./mac2slotmgr/Errors.h ]
Created.
[90/08/29  12:59:46  bohman]
[ ./mac2slotmgr/ROMDefs.h ]
Created.
[90/08/29  13:00:00  bohman]
[ ./mac2slotmgr/Slots.h ]
Created.
[90/08/29  13:00:18  bohman]
[ ./mac2slotmgr/Types.h ]
Created.
[90/08/29  13:00:32  bohman]
[ ./mac2slotmgr/Video.h ]
Created.
[90/08/29  13:00:50  bohman]
[ ./mac2slotmgr/slotmgr.h ]
Created.
[90/08/29  13:01:09  bohman]
[ ./mac2slotmgr/slotmgr_CallDriver.s ]
Created.
[90/08/29  13:01:49  bohman]
[ ./mac2slotmgr/slotmgr_SCallIntr.s ]
Created.
[90/08/29  13:02:31  bohman]
[ ./mac2slotmgr/slotmgr_SExecCode.s ]
Created.
[90/08/29  13:02:49  bohman]
[ ./mac2slotmgr/slotmgr_alloc.c ]
Created.
[90/08/29  13:03:44  bohman]
[ ./mac2slotmgr/slotmgr_extra.c ]
Created.
[90/08/29  13:04:18  bohman]
[ ./mac2slotmgr/slotmgr_interrupts.c ]
Created.
[90/08/29  13:04:34  bohman]
[ ./mac2slotmgr/slotmgr_principal.c ]
Created.
[90/08/29  13:04:49  bohman]
[ ./mac2slotmgr/slotmgr_special.c ]
Created.
[90/08/29  13:05:06  bohman]
[ ./mac2slotmgr/slotmgr_subr.c ]
Created.
[90/08/29  13:05:20  bohman]
[ ./mach/mach_types.h ]
Added KERNEL definitions for vm_task_t and host_priv_t
which are used by function prototypes in mach_interface.h.
[90/08/28            bohman]
[ ./netinet/agent_var.h ]
Ioctl changes for STDC.
[90/08/28            bohman]
[ ./netinet/bbn.h ]
Ioctl changes for STDC.
[90/08/28            bohman]
[ ./netinet/igmp_user.h ]
Ioctl changes for STDC.
[90/08/28            bohman]
[ ./netinet/in_var.h ]
Added missing semicolon.
[90/08/28            bohman]
[ ./netinet/ip_input.c ]
Change under CMU_MACMACH conditional to disable address
checking in ip_input() for interfaces with IP address 0.
Needed for automatic installation software using BOOTP.
[90/08/28            bohman]
[ ./netinet/tcp_debug.c ]
Changes for STDC.
[90/08/28            bohman]
[ ./netinet/vmtp_so.h ]
Ioctl changes for STDC.
[90/08/28            bohman]
[ ./rx/rx_clock.h ]
Removed unused parameter from macro declaration of
clock_NewTime().
[90/08/28            bohman]
[ ./src/config/config.h ]
Changes for mac2.
[90/08/28            bohman]
[ ./src/config/config.l ]
Changes for mac2.
[90/08/28            bohman]
[ ./src/config/config.y ]
Changes for mac2.
[90/08/28            bohman]
[ ./src/config/main.c ]
Changes for mac2.
[90/08/28            bohman]
[ ./src/config/mkioconf.c ]
Changes for mac2.
[90/08/28            bohman]
[ ./src/config/mkmakefile.c ]
Changes for mac2.
[90/08/28            bohman]
[ ./sys/cmupty.h ]
Ioctl changes for STDC.
[90/08/28            bohman]
[ ./sys/disklabel.h ]
Ioctl changes for STDC.
[90/08/28            bohman]
[ ./sys/enet.h ]
Ioctl changes for STDC.
[90/08/28            bohman]
[ ./sys/exec.h ]
Changes for mac2.
[90/08/28            bohman]
[ ./sys/fe.h ]
Ioctl changes for STDC.
[90/08/28            bohman]
[ ./sys/fpsreg.h ]
Ioctl changes for STDC.
[90/08/28            bohman]
[ ./sys/ioctl.h ]
Ioctl changes for STDC.
[90/08/28            bohman]
[ ./sys/jioctl.h ]
Ioctl changes for STDC.
[90/08/28            bohman]
[ ./sys/mtio.h ]
Ioctl changes for STDC.
[90/08/28            bohman]
[ ./sys/signal.h ]
Changes for mac2.
[90/08/28            bohman]
[ ./sys/socket.h ]
Made SO_GREEDY always defined.
[90/08/28            bohman]
[ ./sys/socketvar.h ]
Made SBMAXCC always defined.
[90/08/28            bohman]
[ ./sys/syscall.h ]
Changes for mac2.
[90/08/28            bohman]
[ ./sys/syslog.h ]
Added missing third argument to openlog() prototype.
[90/08/28            bohman]
[ ./sys/tablet.h ]
Ioctl changes for STDC.
[90/08/28            bohman]
[ ./sys/ttychars.h ]
Changes for STDC.
[90/08/28            bohman]
[ ./sys/vcmd.h ]
Ioctl changes for STDC.
[90/08/28            bohman]
[ ./sys/viceioctl.h ]
Ioctl changes for STDC.
[90/08/28            bohman]
[ ./sys/vsio.h ]
Ioctl changes for STDC.
[90/08/28            bohman]
[ ./vfs/inode_macros.h ]
Changes for STDC.
[90/08/28            bohman]
[ ./vfs/vfs.h ]
Removed unused parameter from crget().
[90/08/28            bohman]
[ ./vfs/vfs_io.c ]
Ioctl changes for STDC.  Changes for mac2.
[90/08/28            bohman]
[ ./vfs/vfs_sysnames.h ]
Changes for mac2.
[90/08/28            bohman]
[ ./vm/vm_resident.c ]
Made vm_page_free() not mess with vm_page_wire_count
for private pages.
[90/08/28            bohman]
[ ./vm/vm_unix.c ]
Changes for mac2.
[90/08/28            bohman]
[ ./Directories/ALL ]
Added mac2 directories.
[90/08/28            bohman]
[ ./Directories/mac2 ]
Created.
[90/08/28            bohman]
[ ./conf/buildconf.mac2 ]
Created.
[90/08/28            bohman]
[ ./mac2dev/drvr_120.b ]
Created.
[ ./mac2dev/font_521.b ]
Created.
[ ./mac2dev/font_524.b ]
Created.
[ ./Makeconf ]
Changes for mac2.
[90/08/28            bohman]
[ ./mach/mac2/boolean.h ]
Created.
[ ./mach/mac2/exception.h ]
Created.
[ ./mach/mac2/frame.h ]
Created.
[ ./mach/mac2/kern_return.h ]
Created.
[ ./mach/mac2/syscall_sw.h ]
Created.
[ ./mach/mac2/thread_status.h ]
Created.
[ ./mach/mac2/vm_param.h ]
Created.
[ ./mach/mac2/vm_types.h ]
Created.
[ ./mac2/vmparam.h ]
Created.
[ ./mac2/machparam.h ]
Created.
[ ./conf/make.template ]
	Changed to use /bin/csh.  The official word now is that
broken vendor versions of csh should be 'fixed'.
[90/08/28            bohman]
[ ./conf/Makefile.mac2 ]
Created.
[ ./src/config/Makefile ]
Changed invocation of 'install', removed '-q', added '-c'.
Made LDFLAGS machine dependent: macmach does not have a libcs.a
instead, those functions are in the default libc.
[90/08/28            bohman]
[ ./mach/mac2/reg.h ]
Created.
[ ./Makefile ]
Changes for mac2.
[90/08/28            bohman]
[ ./mac2/act.c ]
Created.
[ ./mac2/clock.c ]
Created.
[ ./mac2/genassym.c ]
Created.
[ ./mac2/genassym.c ]
Created.
[ ./mac2/locore.s ]
Created.
[ ./mac2/mac2_init.c ]
Created.
[ ./mac2/pcb.c ]
Created.
[ ./mac2/pcb.h ]
Created.
[ ./mac2/phys.s ]
Created.
[ ./mac2/pmap.c ]
Created.
[ ./mac2/pmap.h ]
Created.
[ ./mac2/trap.c ]
Created.
[ ./mac2/reg.h ]
Created.
[ ./mac2/conf.c ]
Created.
[ ./mac2dev/via.c ]
Created.
[ ./mac2slotmgr/slotmgr_advanced.c ]
Created.
[ ./mac2slotmgr/slotmgr_dispatch.c ]
Created.
[ ./Directories/ALL ]
Added ./mach/mac2 directory.
[90/09/05            bohman]
[ ./Directories/mac2 ]
Added ./mach/mac2 directory.
[90/09/05            bohman]
[ ./vm/vm_map.c ]
Fixed vm_map_copy_overwite to return result rather than
KERN_SUCCESS.
[90/09/05            mrt]
[ ./UpdateSet ]
Version 5.1(X129)

----- X128 -----
[ ./conf/version.edit ]
128
[ ./bsd/cmu_syscalls.c ]
One more twist for mips arguments since execve aligns
them on a 16-byte boundary.  Bug report from gm@osf.
[90/05/09            af]
[ ./bsd/init_sysent.c ]
Added more Ultrix4.0 compat entries for mips.
[90/05/20  13:46:44  af]
[ ./bsd/kern_exit.c ]
Added POSIX-compat waitpid() variation of wait.  Modified
wait3() to take an extra argument so that waitpid shares
it too.
[90/05/20  13:44:43  af]
[ ./conf/MASTER ]
Turned off useless XPR default.
[90/05/20  13:50:22  af]
[ ./conf/MASTER.mips ]
Added 3max support (kmax3 option).
Added pmap pagetable cache option.
[90/05/20  13:49:21  af]

Enabled fast_csw by default.
[90/03/15  13:17:00  af]
[ ./conf/MASTER.sun3.local ]
Added CODA to EXP configuration
[90/08/07            mrt]
[ ./conf/MASTER.sun4 ]
Added cab devive (Controller Accelerator Board) to MF, ANY and WS
configurations. It is used on Nectar machines.
[90/08/07            rds]
[ ./conf/MASTER.sun4.local ]
Added cab (controller acceleration board) device, optional under
cab. It is used on Nectar machines.
[90/08/07            rds]
[ ./conf/copyright ]
Updated to 1990

[ ./conf/files ]
	Introduced the use of the VOLATILE macro for MI files
	that trigger compiler's smart, e.g. sched_prim for mips.
[90/05/20            af]
[ ./conf/files.sun4 ]
Added nectar cab device files
[90/08/07            rds]
[ ./kern/sched_prim.c ]
'volatile'-ized the idle_thread().
[90/05/20  14:04:32  af]
[ ./mach/machine.h ]
Added subtypes for SUN4C_{60,65} and mips' R3000
[90/08/02            mrt]
[ ./nectar/cab.c ]
Created
[89/05/08            bdz]
[ ./nectar/cabreg.h ]
Created
[89/05/08            bdz]
[ ./nectar/nectar.h ]
 08-May-89 Robert Sansom (rds) at Carnegie-Mellon University
Created
[90/08/08  12:39:42  mrt]
[ ./sundev/sc.c ]
 Replaced with SunOS 4.0.3. source.
    - Fix up include files a bit.
    - Add MACH copyright notice.
    - Add RCS log entry.
    - get around bug splr(constant)
    - mach does not use dk_read field yet.
[90/05/05            ern]
[ ./sundev/st.c ]
 Replaced with SunOS 4.0.3. source.
   - Fix up include files a bit.
   - Add MACH copyright notice.
   - Add RCS log entry.
    - Lots of bug fixes:
	- avoid race condition in timer routine
	- consistently run deadman timer (deadman times reset the bus)
	- ignore deadman timeouts on closing connection
	- improve debugging output
	- fix unit test operation not to be fooled by random bits
	  in status register.
	- fix open bug where drive in use would trigger timer.
	- set mode on every open for sanity sake. drive could be reset.
	- handle writing tape file marks more consistently with other
	  platforms.
	- set errno value on errors.
	- fix backspace file and record operations to use the commands
	  or error. no easy way to simulate!
	- set no bys and even byte disconnect for exabyte
	- clear timeout on interrupt to prevent deadman timer from 
	  nailing device when interrupt happens during timer routine 
	  execution.
	- correct bug in file count for write_file_mark operation.
	- add timeout settings when interrupt retrys a command.
	- print more info on request sense data.
	- deal with conflict between STIOCGET and MTIOCGET ioctl defs.
Did not fix two bugs:
    - write after rewind, skip file which requires a re-writing of the
      eof marker.
    - open always causes a rewind even for nrst0 device. 
[90/05/15            ern]
[ ./sundev/streg.h ]
Replaced with SunOS 4.0.3. source.
    - Fix up include files a bit.
    - Add MACH copyright notice.
    - Add RCS log entry.
[90/05/15            ern]
[ ./sys/mtio.h ]
Added some DEC-specific codes.
[90/05/20  14:50:51  af]
[ ./conf/Makefile.mips ]
Added nullification of VOLATILE nullifying macro (sic).
[90/05/20            af]
[ ./conf/files.mips ]
Dropped silly extra file for gx/gq/ga drivers.
[90/05/20  15:50:39  af]

Added 3max support files.
[90/05/20  13:48:09  af]
[ ./conf/make.template ]
Use the cs cshell explicitly, some vendors seem to have diverged.
[90/05/20  13:52:01  af]
[ ./mips/PMAX/ascreg.h ]
Added Mach header, changed includes, made it compile under Mach.
[90/04/18            af]
[ ./mips/PMAX/cfb.c ]
Created, by cleanup and extensive rework of the Ultrix one.
The basic idea was to share code and data with the pm driver
as much as possible.
[90/04/18            af]
[ ./mips/PMAX/cfbreg.h ]
Created from Ultrix, removed duplicated (as usual) defs.
[90/05/13            af]
[ ./mips/PMAX/dc7085cons.h ]
Made tty structure for console separate from softc.
[90/05/20  15:23:50  af]
[ ./mips/PMAX/dc_hdw.c ]
Support for new autoconf program.
Support for 3max.
ssputc does not need splhigh, really.
[90/05/20  14:59:05  af]
[ ./mips/PMAX/dc_modem.c ]
Moved cnscan here, but this all does not probably work in the least.
[90/05/20  15:21:30  af]
[ ./mips/PMAX/dc_tty.c ]
Support for 3max and multiple generic screen drivers.
Remove useless XPR.  Do not pretend we can be probed.
Removed some dead code.  Turn video on when we enter KDB.
Moved modem-related functions where they belong.
[90/05/20  15:07:28  af]
[ ./mips/PMAX/devio.h ]
Upgraded to Ultrix 4.0 anmd 3max.
[90/04/25            af]
[ ./mips/PMAX/fudge.dc.h ]
Reduced the unused crap.  Someday we'll have to get the modem
code work for real, and this file will go away.  Someday..
[90/05/13            af]
[ ./mips/PMAX/fudge.scsi.h ]
Slightly less junk.
[90/05/20  15:20:21  af]
[ ./mips/PMAX/ga.c ]
Oh WELL!! The problem with the X server was ... caching.  Of course it was
spinning waiting for the device: I had mapped it cachable.  Sic.
[90/07/30  17:40:22  af]

Fixed includes.
[90/06/11  09:36:15  af]

Created, lots of reworking to
- do not replicate code (share the "pm" one)
- map data to user the Mach way
- keep the 15x8 font
- share autoconf sequence with pm and other graphic drivers
Scrolling and X still do not work.
[90/04/18            af]
[ ./mips/PMAX/ga.h ]
Picked up from Ultrix.
[90/04/18            af]
[ ./mips/PMAX/gq.c ]
Fixed includes
[90/06/11  09:35:13  af]

Created, lots of reworking to
- do not replicate code (share the "pm" one)
- map data to user the Mach way
- keep the 15x8 font
- share autoconf sequence with pm and other graphic drivers
[90/04/18            af]
[ ./mips/PMAX/gq.h ]
Picked up from Ultrix.
[90/04/18            af]
[ ./mips/PMAX/gx.c ]
Added a bunch of stuff previously found in gx_data.c (defunct).
[90/06/11  09:38:40  af]

Created, lots of reworking to
- do not replicate code (share the "pm" one)
- map data to user the Mach way
- keep the 15x8 font
- share autoconf sequence with pm and other graphic drivers
[90/04/18            af]
[ ./mips/PMAX/gx.h ]
Added a bunch of defs previously found in gx_data.c (defunct).
[90/06/11  09:37:33  af]

Picked up from Ultrix.
[90/04/18            af]
[ ./mips/PMAX/if_ln.c ]
-3maxen work now.  The problem was an amusing one.  Turns out the chip
 needs a little time to settle the csr1 and csr2 info, more than
 the r3000 allowed for.  Since we now allocate the init block
 differently from the prom's, the chip was getting it wrong.
-Put a patch to a bug in the LANCE chip: apparently it writes the OWN
 bit _before_ it writes the size of the buffer, unbeliveable!
-Since the packet-size logging code is always on, tuned that path a little.
-Changed some function names to be a bit more descriptive.
[90/07/26  09:22:29  af]

Extended significantly to understand 3maxen.  I used the code
and ideas of the pure kernel's driver.
[90/06/01            af]
[ ./mips/PMAX/if_lnreg.h ]
Mods for 3maxen, dropped the idea of explicit padding.
[90/06/11  09:27:26  af]
[ ./mips/PMAX/if_sl.c ]
Printouts do not need the prom.
[90/05/20  15:24:35  af]
[ ./mips/PMAX/kn02.c ]
Added Mach header, removed lots of unused Ultrix code cuz I use
a simpler-minded strategy.
[90/04/18            af]
[ ./mips/PMAX/mc146818clock.c ]
Support for 3max.  Do not reset the chip when stopping interrupts.
[90/05/20  15:08:30  af]
[ ./mips/PMAX/pm.h ]
Removed register memory map, as the driver is more generic now.
[90/05/20  15:13:07  af]
[ ./mips/PMAX/pm_graphics.c ]
Well, the _only_ thing that was actually wrong with the merged pm/cfb
driver was a call to the machdep version of cursor positioning
in blitc() rather than the MI one.  Not bad for a first-coding.
[90/07/26  09:11:04  af]

Made it more generic, so that we can share more code.
Reworked so that the 3max fcb driver (among others)
can use it.
[90/05/20  15:18:25  af]
[ ./mips/PMAX/pm_hdw.c ]
Support for 3max.
[90/05/20  15:10:10  af]
[ ./mips/PMAX/pm_lk201.c ]
Removed extraneous delays.
[90/06/01  11:38:37  af]

Changed some names, for consistency.
[90/05/20  15:17:07  af]
[ ./mips/PMAX/pm_ms.c ]
Corrected attach printouts.
[90/06/01  11:39:18  af]

3max support.  Support scaling for tablets.  New autoconf.
[90/05/20  15:19:21  af]
[ ./mips/PMAX/pm_switch.c ]
Created.  Will use this file to integrate all code common
to the various graphic devices, avoiding stupid duplications.
Willit Work.
[90/04/26            af]
[ ./mips/PMAX/pm_switch.h ]
Created.  Will use this file to integrate all code common
to the various graphic devices, avoiding stupid duplications.
Willit Work.
[90/04/26            af]
[ ./mips/PMAX/pm_tty.c ]
Support for 3max, made it more generic and capable of driving
a variety of screen devices.
[90/05/20  15:11:48  af]
[ ./mips/PMAX/pmioctl.h ]
Support for 3max and cfb device.
[90/05/20  15:13:40  af]
[ ./mips/PMAX/rzdisk.h ]
Upgraded for 3max and Ultrix4.0
[90/05/20  15:25:29  af]
[ ./mips/PMAX/scsi.c ]
Upgrade to Ultrix 4.0.
[90/04/25            af]
[ ./mips/PMAX/scsi_asc.c ]
Added revision-level extension to sc_devname, to distinguish
between variously broken drives.
Added to Mach sources.
[90/04/25            af]
[ ./mips/PMAX/scsi_data.c ]
Upgrade to Ultrix 4.0 and 3max.
[90/04/25            af]
[ ./mips/PMAX/scsi_debug.h ]
Picked up from Ultrix.
[90/05/20            af]
[ ./mips/PMAX/scsi_disk.c ]
Upgraded to Ultrix 4.0 and 3max.
[90/04/25            af]
[ ./mips/PMAX/scsi_sii.c ]
Upgrade to Ultrix 4.0 and 3max.
[90/04/25            af]
[ ./mips/PMAX/scsi_tape.c ]
Upgraded to Ultrix 4.0 and 3max.
[90/04/25            af]
[ ./mips/PMAX/scsireg.h ]
Upgrade to Ultrix4.0 and 3max.
[90/05/20  15:26:47  af]
[ ./mips/PMAX/scsivar.h ]
Upgrade to Ultrix4.0 and 3max.
[90/05/20  15:26:18  af]
[ ./mips/PMAX/siireg.h ]
Better def for SII_REG, usable in assignments too.
[90/05/20  15:01:50  af]
[ ./mips/PMAX/stamp.h ]
Picked up from Ultrix.
[90/04/18            af]
[ ./mips/PMAX/tc.c ]
Reflected interface changes in configure_bus_* functions.
[90/08/08            af]
Added Mach header, changed includes, made it compile under Mach.
[90/04/18            af]
[ ./mips/PMAX/tc.h ]
Added Mach header, removed #include stmt.
[90/04/18            af]
[ ./mips/PMAX/ul.c ]
Made uname() work, Ultrix4.0 needs it. Sic.
Additions to set/getsysinfo().
[90/05/20  15:22:49  af]
[ ./mips/autoconf.c ]
Reflected interface changes to the configure_bus_* functions.
[90/08/08            af]
Added 3max support, extensive mods to account for the new,
more geneal autoconf program.
[90/05/20  14:09:22  af]
[ ./mips/busses.c ]
Added bus name as an explicit parameter in configure_bus_*
functions, so that printouts do not look silly.
[90/08/08            af]
Created, putting in just the minimum functionality
needed for the 3max TURBOchannel.  Should extend to
cope with VME properly.
[90/04/18            af]
[ ./mips/busses.h ]
Created.
[90/04/18            af]
[ ./mips/conf.c ]
Changes for Ultrix4.0 compatibility.  Made it optional and
settable at boot-time, as there is now an incompatibility
between the CS environment and Ultrix4.0 in the cdevsw 2 and 3.
[90/05/20  14:35:17  af]
[ ./mips/context.s ]
Added support for pmap ptepage cache reloading.
[90/05/20  14:27:05  af]

One of these merges must have accidentally dropped a quote
character in a couple places in this file, breaking the
FAST_CSW code branch.  Up and working, and enabled by default now.
[90/03/15  13:16:27  af]
[ ./mips/cpu_board.h ]
For pmaxen, give up on the idea that a prom somewhere tells us
what board it is: DEC uses an environment variable for that.
Added other DEC board type codes.
[90/05/20  14:45:55  af]
[ ./mips/genassym.c ]
Added support for pmap ptepage cache.
[90/05/20  14:27:45  af]
[ ./mips/kdb.c ]
When called in panics, get the user's state from the exception frame.
If the user decides to continue, do so by restoring state into
the above.
[90/05/20  14:42:04  af]

When called in panics, get the user's state from the exception frame.
If the user decides to continue, do so by restoring state into
the above.
[90/05/20  14:42:04  af]
[ ./mips/kdb/pcs.c ]
Added stepping over function calls (:J).
[90/05/20  14:53:55  af]
[ ./mips/kdb/pcs.h ]
Added support for ':J', who steps over function calls.
[90/05/20  14:53:14  af]
[ ./mips/kdb/runpcs.c ]
Added stepping over function calls.
Fixed silly indentations.
[90/05/20  14:55:42  af]
[ ./mips/kopt.c ]
Added ultrix_compat, removed silly led thing.
[90/05/20  14:36:31  af]
[ ./mips/locore.s ]
baerror() MUST be .noreorder.
[90/07/26  09:07:47  af]

Added support for 3max, and patchable spl functions.
And optional counting of tlbmisses.
[90/05/20  14:29:48  af]
[ ./mips/machdep.c ]
Removed silly set_leds thing.
[90/05/20  14:40:33  af]
[ ./mips/mips_debug.c ]
Fixed atob() to avoid null pointers.
[90/05/20  14:46:59  af]
[ ./mips/mips_init.c ]
Added 3max support.
Move initial kdb trap even earlier, to help debug
weird screen drivers.
Made official hack for allocating mappable memory to
screen drivers, as all seem to need it one way or other.
[90/05/20  14:32:58  af]
[ ./mips/model_dep.c ]
Nullifying baerror() takes two nops, oops.
[90/07/26  09:07:17  af]

Created.
[90/04/17            af]
[ ./mips/pmap.c ]
Optimization to pmap_remove_range() for sparse ranges: check
if there is a kernel mapping for the ptepage before dereferencing
the user's pte.  This test can save 1,024 useless iterations of
the inner loop and avoids allocating ptepages for nothing.
[Numbers: allocating/deallocating the whole address space 100 times
 used to take 11.2 secs on a 3max, now it takes 2.4 and saves
 496 ptepages as well]
Finessed the above by putting a cap to the amount of ptepages we might
ever allocate (virtually).  The calculation goes like: 3 ptepage avg
per task times max 400 tasks gives 5 meg, take ten times as much.
[90/08/03  15:02:28  af]

Quick (temporary) fix for 3maxen with lots of memory: scale down the
pmap_submap to a more reasonable size.  Even this is too much, and will have
to scale down on the max number of pmaps too.
[90/08/02  17:26:28  af]

Added support for pmap ptepage cache.
[90/05/20  14:26:14  af]
[ ./mips/pmap.h ]
Added pmap ptecache support.
[90/05/20  14:28:18  af]
[ ./mips/startup.c ]
Removed parity checking, as just we crash anyways.
[90/05/20  14:43:41  af]
[ ./mips/swapgeneric.c ]
Support for new autoconf program, needs work still.
[90/05/20  14:16:38  af]
[ ./mips/trap.c ]
Added support for 3max.  
Removed or moved in separate files a lot of pmax-specific junk.
Added support for pmap ptepage cache in tlbmiss().
Make trap() work early, before u.XXX makes sense.
[90/05/20  14:21:46  af]
[ ./mips/utsname.h ]
BTW, Mach is at 2.5 release number now.
[90/05/20            af]
Ultrix now wants this for real, phooey.
[90/05/20  14:37:48  af]
[ ./Directories/ALL ]
Added nectar directory
[90/08/08            mrt]
[ ./Directories/sun4 ]
Added nectar directory
[90/08/08            mrt]
[ ./src/hinstall.csh ]
Added coda directory to machine independent directories.
Added SUN4 case.
[90/08/08            mrt]
[ ./src/setacl.csh ]
Added cfs and nectar directories.
[90/08/08            mrt]
[ ./sun/conf.c ]
Added support for cab driver.
[90/08/10            rds]
[ ./cfs/cfs_subr.c ]
Removed include of vm/vm_page.h as it no longer exists.
[90/08/10            mrt]
[ ./rx/rx.c ]
Warning message was causing kernel crash cuz arguments swapped.
[90/08/12  11:30:21  af]
[ ./ca/pmap.c ]
Add careful_bcopy.
[90/08/13            dlb]
[ ./vax/locore.s ]
Add Careful_bcopy, called via inline jsb linkage.
[90/08/13            dlb]
[ ./vax/inline/langpats.c ]
Added careful_bcopy.
[90/08/13            dlb]
[ ./bsd/ufs_physio.c ]
Also ask for read access when wiring for write case.
[90/08/03            dlb]
[ ./mmax/phys.c ]
Wire for both read and write permission in copyout.
[90/08/03            dlb]
[ ./mmax/pmap.c ]
Change pmap_protect to only reduce protections.
Change ns32k_protection_init to remove support for protection
combinations not supported by hardware.  Change pmap_protect
and pmap_enter to check for them.
[90/08/03            dlb]
Redo kernel virtual address space calculation to ensure enough
virtual space to map physical memory twice.
[90/05/21            dlb]
[ ./mmax/pmap.h ]
Change NS32K_NO_ACCESS to -1.  Pmap module checks for this and
removes mappings if it is found.
[90/08/03            dlb]
[ ./vm/vm_kern.c ]
Remove ns32000 #ifdefs from careful_copy_to_physical page.  All
architectures must implement a careful_bcopy routine.
[90/08/13            dlb]
[ ./kern/kalloc.c ]
Increased size of 512 zone, the new pager seems to use much more of it.
[90/08/13  14:29:05  af]
[ ./mips/usercopy.s ]
Added careful_bcopy
[90/08/14            af]
[ ./mips/pmap.h ]
Added macro for careful_bcopy.
[90/08/14            af]
[ ./vm/vm_kern.c ]
Removed ns3200 conditionals in careful_copy_to_physical_page
around the call to careful_bcopy. Now each machine type must
define a careful_bcopy call, unless it defines a macro for
careful_copy_to_physical_page like the pmax does to catch
the problem at a higher level.
[90/08/14            mrt]
[ ./conf/MASTER.sun3.local ]
	Added cab (controller acceleration board) device, optional under
	cab. It is used on Nectar machines.
[90/08/11            rds]
[ ./conf/files.sun3 ]
Added cab device for nector optional on cab
[90/08/14            rds]
[ ./vm/vm_kern.h ]
Checked to see if a macro version of
careful_copy_to_physical_page has been defined by the machine
specifice pmap.h.
[90/08/14            mrt]
[ ./mips/pmap.h ]
	Added macro for careful_copy_to_physical_page
[90/08/14            af]
[ ./mips/pmap.h ]
Changed PHYS_TO_K0SEG to PHYS_TO_K0
[90/08/15            mrt]
[ ./vm/vm_kern.c ]
One more fix for careful_copy_to_physical_page macro case.
[90/08/15            mrt]
[ ./sun3/movc.s ]
Wrote careful_bcopy() for careful_copy_to_physical().
[90/08/14            jjc]
[ ./sun4/copy.s ]
Wrote careful_bcopy() for careful_copy_to_physical().
[90/08/14            jjc]
[ ./sun3/movc.s ]
Added include of sys/errno.h for EFAULT
[90/08/15            mrt]
[ ./kern/thread.c ]
Fixed thred_info to return the correct count in the 
THREAD_SCHED_INFO case. Bug found by Greg Kellogg of NeXT.
[90/08/16            mrt]
[ ./mips/PMAX/ga.c ]
Turns out the address twisting that the X11 server plays
requires some peculiar alignment of the phys page.  Sigh.
[90/08/16            af]
[ ./sun4/pmap.c ]
Put in the pmap_proctect changes from the sun3 pure 
kernel.
[90/08/16            mrt]
[ ./sun3/pmap.c ]
Picked up pmap_protect changes from pure kernel.
[90/08/16            mrt]
[ ./kern/processor.c ]
Fixed processor_set_info to return the correct count value
in the SCHED_INFO count. Bug found by Greg Kellogg of NeXT.
[90/08/16            mrt]
[ ./sun/dkio.h ]
Added SUNOS_COM conditional to get SUNOS compatiblity back.
[90/08/11            mrt]
[ ./sundev/sd.c ]
Put the Sun OS DKIOCtl's back in under conditional SUNOS_COM
for compatiblity with SUN OS disk utilities.
[90/08/10            mrt]
[ ./sundev/xy.c ]
Replaced the Sun OS DKIOctl's under conditional SUNOS_COM for
compatibilty with Sun OS disk utilities.
[90/08/10            mrt]
[ ./mips/pmap.c ]
Put in Rich Draves proctection changes from the Mach 3.0 version.
[90/08/15            af]
[ ./UpdateSet ]
Version 5.1(X128)

----- X127 -----
[ ./conf/version.edit ]
127
[ ./conf/MASTER.sun4 ]
Added lines for Sun 4/330.
[90/05/10            jjc]
[ ./conf/Makefile.sun4 ]
Link setjmp.h, signal.h, stdio.h, and strings.h to 
/usr/cs/include instead of /usr/include.
[90/05/17            jjc]
[ ./conf/files.sun3 ]
	Added lines for sm, SCSI-ESP host adaptor.
	Needed to add line for wds driver on 80386 to get wds.h
	generated for sundev/sc_conf.c.
[90/06/08            jjc]
[ ./conf/files.sun4 ]
Added lines for sm, SCSI-ESP host adaptor.
Needed to add line for wds driver on 80386 to get wds.h
generated for sundev/sc_conf.c.
[90/05/10            jjc]
[ ./sun/dkio.h ]
Carried over Mary Thompson's changes from Mt. Xinu.
[90/07/02            jjc]
Added backward compatibility for old drivers under else leg
of #ifdef REL4.
[90/06/18            jjc]
Picked up from SunOS 4.0.3 and added macros replacing interleaving
functions from SunOS version of sys/param.h.
[90/05/27            jjc]
[ ./sun/dklabel.h ]
Picked up from SunOS 4.0.3.
[90/05/27            jjc]
[ ./sun4/autoconf.c ]
Carried over Mary Thompson's changes from Mt. Xinu.
[90/07/02            jjc]
Added changes for Sun 4/330.
Changed doprobe() to allocate kernel virtual memory for devices
in the top 16 meg. of the virtual address space where it can dvma.
[90/05/07            jjc]
[ ./sun4/clock.c ]
Picked up from SunOS 4.0.3.
	Changed synctodr() to adjust time like adjtime() in kern_time.c.
[90/05/07            jjc]
[ ./sun4/clock.h ]
Picked up from SunOS 4.0.3.
     Changed "#ifndef LOCORE" statements to "#if !defined(LOCORE) &&
     !defined(ASSEMBLER).
[90/05/07            jjc]
[ ./sun4/cpu.h ]
Added changes for Sun 4/330.
[90/05/07            jjc]
[ ./sun4/genassym.c ]
Picked up definition of COUNTER_PTE from SunOS 4.0.3 for the
Sun 4/330.
[90/05/08            jjc]
[ ./sun4/kdb.c ]
Flush cache on Sun 4/330 in kdbwlong().
[90/05/09            jjc]
[ ./sun4/kdb/sparc/accesssr.c ]
Changed to use nwindows variable instead of NWINDOW constant.
[90/05/21            jjc]
[ ./sun4/kdb/sparc/allregs.h ]
Changed number of register windows kept in allregs from NWINDOW
to MAXWIN.
Included machine/pcb.h for MAXWIN too.
[90/05/21            jjc]
[ ./sun4/kdb/sparc/sparc.h ]
Changed to use nwindows variable instead of NWINDOW constant.
[90/05/21            jjc]
[ ./sun4/locore.s ]
Added changes for Sun 4/330.
	1) Modified code near "start" to map in Mostek 48t02
	   clock and map out Intersil 7170 clock if we are on
	   a Sun 4/330 or Sun 4/460.
	2) Changed level10() and test_prof() to work for either
	   the Intersil 7170 or the Mostek 48t02.
	3) Changed fault() to pass the fault type and memory
	   error register to trap().
	4) Defined VM_PROT_{EXECUTE,READ,WRITE} to use in fault().
	5) From SunOS 4.0.3, picked up fiximp() which sets
	   "nwindows" and patches flush_windows() (sigh).
	6) Replaced instances of constant NWINDOW with variable
	   "nwindows".
	7) Picked up definition of NO_OP for fiximp().
[90/05/07            jjc]
[ ./sun4/machdep.c ]
Carried over Mary Thompson's changes from Mt. Xinu.
[90/07/02            jjc]
Added support for Sun 4/330:
	1) Turn on virtual address cache.
	2) Pick up monitor memory register setting in startnmi().
	3) Took memory error handling code from SunOS 4.0.3 and
	   put it in memerr().
	4) Added parity error recovery routines from SunOS 4.0.3.
[90/05/08            jjc]
[ ./sun4/map.s ]
Modified for Sun 4/330:
	1) Added vac_flushone() to flush a single cache line.
	   Needed by parity error recovery routines on Sun 4/330.
	2) Picked up read_confreg() from SunOS 4.0.3.
	3) Defined SUN_VAC.
[90/05/08            jjc]
[ ./sun4/memerr.h ]
Picked up from SunOS 4.0.3.
	Changed "#ifndef LOCORE" statements to "#if !defined(LOCORE) &&
	!defined(ASSEMBLER).
[90/05/29            jjc]
[ ./sun4/overflow.s ]
Replaced instances of constant NWINDOW with variable 
"nwindows".
[90/05/21            jjc]
[ ./sun4/pcb.h ]
Picked up definition of MAXWIN from SunOS 4.0.3 and changed
definition of pcb to use it.
[90/05/21            jjc]
[ ./sun4/pmap.c ]
Changed pmeg_valid() to return 0 if the virtual address is
in the hole.
[90/06/20            jjc]
Defined SUN_VAC for Sun 4/330.
[90/05/08            jjc]
[ ./sun4/reg.h ]
Commented out definition of NWINDOW constant since it is a
variable now.
[90/05/21            jjc]
[ ./sun4/sun_init.c ]
Added support for Sun 4/330:
	1) Call to set_clock_type() which figures out which
	   clock chip is on the Sun 4.
	2) Initialize virtual address cache and memory error 
	   register for Sun 4/330.
	3) Don't cache scb on Sun 4/330 because it dislikes cache
	   hits on the first cycle of a trap.
	4) Don't map out counter from last segment.
[90/05/07            jjc]
[ ./sun4/swtch.s ]
Replaced instances of constant NWINDOW with variable 
"nwindows".
[90/05/21            jjc]
[ ./sun4/trap.c ]
Added code to trap() to print out message if we fault on the
hole in the MMU.
[90/06/20            jjc]
Added changes for Sun 4/330.
	1) Changed trap() to take two more arguments specifying
	   what kind of fault we took and the contents of the
	   memory error register.
	2) Added code to trap() for trying to recover from faults
	   caused by parity errors on the Sun 4/330.
[90/05/09            jjc]
[ ./sun4/underflow.s ]
Replaced instances of constant NWINDOW with variable 
"nwindows".
[90/05/21            jjc]
[ ./sundev/mb.c ]
Flush cache in mbsetup() and mbrelse() on Sun 4/330.
[90/05/09            jjc]
[ ./sundev/sc.c ]
Picked up from SunOS 4.0.3 and modified for Mach.
[90/05/27            jjc]
[ ./sundev/sc_conf.c ]
Carried over Mary Thompson's changes from Mt. Xinu.
[90/07/02            jjc]
Uncommented out includes of se.h, sm.h, sw.h, and wds.h.
[90/06/13            jjc]
Changed definition of sictlrs from a pointer back to an array
since it no longer has to be dynamically allocated.
[90/06/13            jjc]
[ ./sundev/screg.h ]
Picked up from SunOS 4.0.3.
[90/05/27            jjc]
[ ./sundev/scsi.h ]
Carried over Mary Thompson's changes from Mt. Xinu.
[90/07/02            jjc]
[ ./sundev/sd.c ]
Carried over Mary Thompson's changes from Mt. Xinu.
[90/07/02            jjc]
Uncommented out uses of field, dkg_pcyl, of dk_geom structure.
[90/06/13            jjc]
[ ./sundev/se.c ]
Replaced with SunOS 4.0.3. source.
    - Fix up include files a bit.
    - Add MACH copyright notice.
    - Add RCS log entry.
[90/05/15            ern]
[ ./sundev/sereg.h ]
Defined DVMA_OFFSET in terms of SYSBASE instead of KERNELBASE,
since the Mach kernel is lower in memory than SunOS.
[90/05/27            jjc]
[ ./sundev/sf.c ]
Picked up from SunOS 4.0.3.
[90/05/27            jjc]
[ ./sundev/sfreg.h ]
Fixed garbled SunOS copyright.
[90/06/15            jjc]
[ ./sundev/si.c ]
Removed code that dynamically allocates memory for "sictlrs",
since the driver is smart enough to just allocate memory for
the sensitive fields of the structure and the structure 
definition has these fields as pointers.
[90/06/13            jjc]
[ ./sundev/sireg.h ]
Changed DVMA_OFFSET to be defined relative to SYSBASE 
instead of KERNELBASE, since the Mach kernel starts
lower than the SunOS kernel.
[90/06/13            jjc]
[ ./sundev/sm.c ]
Modified for Mach.
[90/05/27            jjc]
[ ./sundev/smreg.h ]
Picked up from SunOS 4.0.3.
[90/05/27            jjc]
[ ./sundev/st.c ]
Picked up from SunOS 4.0.3 and carried over Mach changes
from old driver.
[90/05/27            jjc]
[ ./sundev/streg.h ]
Picked up from SunOS 4.0.3.
[90/05/27            jjc]
[ ./sundev/sw.c ]
Modified for Mach.
[90/05/27            jjc]
[ ./sundev/swreg.h ]
Modified for Mach.
[90/05/27            jjc]
[ ./sunif/if_le.c ]
Picked up from Mach port to SPARCstation I.  This driver
is originally from SunOS 4.0.3.
[90/05/31            jjc]
[ ./sunif/if_lereg.h ]
Picked up from Mach port to SPARCstation I.  This driver
is originally from SunOS 4.0.3.
[90/05/31            jjc]
[ ./sunif/if_levar.h ]
Picked up from Mach port to SPARCstation I.  This driver
is originally from SunOS 4.0.3.
[90/05/31            jjc]
[ ./sunstand/Makefile ]
Modified for CMU CS make.
[90/05/15            jjc]
[ ./sunstand/boot/Makefile ]
Changed action for "clean" not to remove .c files.
[90/06/11            jjc]
[ ./sunstand/boot/bootblk.c ]
	Picked up from SunOS 4.0.3.
[90/06/14            jjc]
[ ./sunstand/boot/cmap.h ]
	Picked up from SunOS 4.0.3.
[90/06/14            jjc]
[ ./sunstand/boot/confpr.c ]
	Picked up from SunOS 4.0.3.
[90/06/14            jjc]
[ ./sunstand/boot/confxx.c ]
	Picked up from SunOS 4.0.3.
[90/06/14            jjc]
[ ./sunstand/boot/copy.c ]
	Picked up from SunOS 4.0.3.
[90/06/14            jjc]
[ ./sunstand/boot/domain.h ]
	Picked up from SunOS 4.0.3.
[90/06/14            jjc]
[ ./sunstand/boot/if.h ]
	Picked up from SunOS 4.0.3.
[90/06/14            jjc]
[ ./sunstand/boot/if_ether.h ]
	Picked up from SunOS 4.0.3.
[90/06/14            jjc]
[ ./sunstand/boot/imp.h ]
	Picked up from SunOS 4.0.3.
[90/06/14            jjc]
[ ./sunstand/boot/inet.h ]
	Picked up from SunOS 4.0.3.
[90/06/14            jjc]
[ ./sunstand/boot/inode.h ]
	Picked up from SunOS 4.0.3.
[90/06/14            jjc]
[ ./sunstand/boot/installboot.c ]
	Picked up from SunOS 4.0.3.
[90/06/14            jjc]
[ ./sunstand/boot/iob.h ]
	Picked up from SunOS 4.0.3.
[90/06/14            jjc]
[ ./sunstand/boot/nfs.h ]
	Picked up from SunOS 4.0.3.
[90/06/14            jjc]
[ ./sunstand/boot/param.h ]
	Picked up from SunOS 4.0.3.
[90/06/14            jjc]
[ ./sunstand/boot/protosw.h ]
	Picked up from SunOS 4.0.3.
[90/06/14            jjc]
[ ./sunstand/boot/seg.h ]
	Picked up from SunOS 4.0.3.
[90/06/14            jjc]
[ ./sunstand/boot/sizecheck.sh ]
	Picked up from SunOS 4.0.3.
[90/06/14            jjc]
[ ./sunstand/boot/systm.h ]
	Picked up from SunOS 4.0.3.
[90/06/14            jjc]
[ ./sunstand/boot/tpboot.c ]
	Picked up from SunOS 4.0.3.
[90/06/14            jjc]
[ ./sunstand/boot/vnode.h ]
	Picked up from SunOS 4.0.3.
[90/06/14            jjc]
[ ./sunstand/include/debug/debug.h ]
	Picked up from SunOS 4.0.3.
[90/06/14            jjc]
[ ./sunstand/include/m68k/reg.h ]
	Picked up from SunOS 4.0.3.
[90/06/14            jjc]
[ ./sunstand/include/mon/idprom.h ]
Defined IDM_SUN4_STING to be IDM_SUN4_STINGRAY.
[90/06/05            jjc]
[ ./sunstand/include/mon/keyboard.h ]
	Picked up from SunOS 4.0.3.
[90/06/14            jjc]
[ ./sunstand/include/mon/sunromvec.h ]
	Picked up from SunOS 4.0.3.
[90/06/14            jjc]
[ ./sunstand/include/net/af.h ]
	Picked up from SunOS 4.0.3.
[90/06/14            jjc]
[ ./sunstand/include/net/if.h ]
	Picked up from SunOS 4.0.3.
[90/06/14            jjc]
[ ./sunstand/include/net/if_arp.h ]
	Picked up from SunOS 4.0.3.
[90/06/14            jjc]
[ ./sunstand/include/net/netisr.h ]
	Picked up from SunOS 4.0.3.
[90/06/14            jjc]
[ ./sunstand/include/net/nit.h ]
	Picked up from SunOS 4.0.3.
[90/06/14            jjc]
[ ./sunstand/include/net/raw_cb.h ]
	Picked up from SunOS 4.0.3.
[90/06/14            jjc]
[ ./sunstand/include/net/route.h ]
	Picked up from SunOS 4.0.3.
[90/06/14            jjc]
[ ./sunstand/include/netinet/if_ether.h ]
	Picked up from SunOS 4.0.3.
[90/06/14            jjc]
[ ./sunstand/include/netinet/in.h ]
	Picked up from SunOS 4.0.3.
[90/06/14            jjc]
[ ./sunstand/include/netinet/in_pcb.h ]
	Picked up from SunOS 4.0.3.
[90/06/14            jjc]
[ ./sunstand/include/netinet/in_systm.h ]
	Picked up from SunOS 4.0.3.
[90/06/14            jjc]
[ ./sunstand/include/netinet/ip.h ]
	Picked up from SunOS 4.0.3.
[90/06/14            jjc]
[ ./sunstand/include/netinet/ip_icmp.h ]
	Picked up from SunOS 4.0.3.
[90/06/14            jjc]
[ ./sunstand/include/netinet/ip_var.h ]
	Picked up from SunOS 4.0.3.
[90/06/14            jjc]
[ ./sunstand/include/netinet/tcp.h ]
	Picked up from SunOS 4.0.3.
[90/06/14            jjc]
[ ./sunstand/include/netinet/udp.h ]
	Picked up from SunOS 4.0.3.
[90/06/14            jjc]
[ ./sunstand/include/netinet/udp_var.h ]
	Picked up from SunOS 4.0.3.
[90/06/14            jjc]
[ ./sunstand/include/nfs/nfs.h ]
	Picked up from SunOS 4.0.3.
[90/06/14            jjc]
[ ./sunstand/include/nfs/nfs_clnt.h ]
	Picked up from SunOS 4.0.3.
[90/06/14            jjc]
[ ./sunstand/include/nfs/rnode.h ]
	Picked up from SunOS 4.0.3.
[90/06/14            jjc]
[ ./sunstand/include/rpc/auth.h ]
	Picked up from SunOS 4.0.3.
[90/06/14            jjc]
[ ./sunstand/include/rpc/auth_des.h ]
	Picked up from SunOS 4.0.3.
[90/06/14            jjc]
[ ./sunstand/include/rpc/auth_unix.h ]
	Picked up from SunOS 4.0.3.
[90/06/14            jjc]
[ ./sunstand/include/rpc/clnt.h ]
	Picked up from SunOS 4.0.3.
[90/06/14            jjc]
[ ./sunstand/include/rpc/pmap_prot.h ]
	Picked up from SunOS 4.0.3.
[90/06/14            jjc]
[ ./sunstand/include/rpc/pmap_rmt.h ]
	Picked up from SunOS 4.0.3.
[90/06/14            jjc]
[ ./sunstand/include/rpc/rpc.h ]
	Picked up from SunOS 4.0.3.
[90/06/14            jjc]
[ ./sunstand/include/rpc/rpc_msg.h ]
	Picked up from SunOS 4.0.3.
[90/06/14            jjc]
[ ./sunstand/include/rpc/svc.h ]
	Picked up from SunOS 4.0.3.
[90/06/14            jjc]
[ ./sunstand/include/rpc/svc_auth.h ]
	Picked up from SunOS 4.0.3.
[90/06/14            jjc]
[ ./sunstand/include/rpc/types.h ]
	Picked up from SunOS 4.0.3.
[90/06/14            jjc]
[ ./sunstand/include/rpc/xdr.h ]
	Picked up from SunOS 4.0.3.
[90/06/14            jjc]
[ ./sunstand/include/rpcsvc/bootparam.h ]
	Picked up from SunOS 4.0.3.
[90/06/14            jjc]
[ ./sunstand/include/rpcsvc/mount.h ]
	Picked up from SunOS 4.0.3.
[90/06/14            jjc]
[ ./sunstand/include/sun/consdev.h ]
	Picked up from SunOS 4.0.3.
[90/06/14            jjc]
[ ./sunstand/include/sun/dkio.h ]
	Picked up from SunOS 4.0.3.
[90/06/14            jjc]
[ ./sunstand/include/sun/dklabel.h ]
	Picked up from SunOS 4.0.3.
[90/06/14            jjc]
[ ./sunstand/include/sun3/a.out.h ]
	Picked up from SunOS 4.0.3.
[90/06/14            jjc]
[ ./sunstand/include/sun3/asm_linkage.h ]
	Picked up from SunOS 4.0.3.
[90/06/14            jjc]
[ ./sunstand/include/sun3/param.h ]
Defined DVMABASE for use in os/standalloc.c and
lib/common/standalloc.c.
[90/06/09            jjc]
[ ./sunstand/include/sun3/pcb.h ]
	Picked up from SunOS 4.0.3.
[90/06/14            jjc]
[ ./sunstand/include/sun3/psl.h ]
	Picked up from SunOS 4.0.3.
[90/06/14            jjc]
[ ./sunstand/include/sun3/pte.h ]
	Picked up from SunOS 4.0.3.
[90/06/14            jjc]
[ ./sunstand/include/sun3/reg.h ]
	Picked up from SunOS 4.0.3.
[90/06/14            jjc]
[ ./sunstand/include/sun3/vmparam.h ]
	Picked up from SunOS 4.0.3.
[90/06/14            jjc]
[ ./sunstand/include/sun4/a.out.h ]
	Picked up from SunOS 4.0.3.
[90/06/14            jjc]
[ ./sunstand/include/sun4/asm_linkage.h ]
	Picked up from SunOS 4.0.3.
[90/06/14            jjc]
[ ./sunstand/include/sun4/enable.h ]
	Picked up from SunOS 4.0.3.
[90/06/14            jjc]
[ ./sunstand/include/sun4/mmu.h ]
	Picked up from SunOS 4.0.3.
[90/06/14            jjc]
[ ./sunstand/include/sun4/param.h ]
	Picked up from SunOS 4.0.3.
[90/06/14            jjc]
[ ./sunstand/include/sun4/pcb.h ]
	Picked up from SunOS 4.0.3.
[90/06/14            jjc]
[ ./sunstand/include/sun4/psl.h ]
	Picked up from SunOS 4.0.3.
[90/06/14            jjc]
[ ./sunstand/include/sun4/pte.h ]
	Picked up from SunOS 4.0.3.
[90/06/14            jjc]
[ ./sunstand/include/sun4/reg.h ]
	Picked up from SunOS 4.0.3.
[90/06/14            jjc]
[ ./sunstand/include/sun4/trap.h ]
	Picked up from SunOS 4.0.3.
[90/06/14            jjc]
[ ./sunstand/include/sun4/vmparam.h ]
	Picked up from SunOS 4.0.3.
[90/06/14            jjc]
[ ./sunstand/include/sundev/mbvar.h ]
	Picked up from SunOS 4.0.3.
[90/06/14            jjc]
[ ./sunstand/include/sundev/tmreg.h ]
	Picked up from SunOS 4.0.3.
[90/06/14            jjc]
[ ./sunstand/include/sundev/xdcreg.h ]
	Picked up from SunOS 4.0.3.
[90/06/14            jjc]
[ ./sunstand/include/sundev/xdreg.h ]
	Picked up from SunOS 4.0.3.
[90/06/14            jjc]
[ ./sunstand/include/sundev/xtreg.h ]
	Picked up from SunOS 4.0.3.
[90/06/14            jjc]
[ ./sunstand/include/sundev/xycreg.h ]
	Picked up from SunOS 4.0.3.
[90/06/14            jjc]
[ ./sunstand/include/sundev/xyerr.h ]
	Picked up from SunOS 4.0.3.
[90/06/14            jjc]
[ ./sunstand/include/sundev/xyreg.h ]
	Picked up from SunOS 4.0.3.
[90/06/14            jjc]
[ ./sunstand/include/sunif/if_ecreg.h ]
	Picked up from SunOS 4.0.3.
[90/06/14            jjc]
[ ./sunstand/include/sunif/if_iereg.h ]
	Picked up from SunOS 4.0.3.
[90/06/14            jjc]
[ ./sunstand/include/sunif/if_lereg.h ]
	Picked up from SunOS 4.0.3.
[90/06/14            jjc]
[ ./sunstand/include/sunif/if_mie.h ]
	Picked up from SunOS 4.0.3.
[90/06/14            jjc]
[ ./sunstand/include/sunif/if_obie.h ]
	Picked up from SunOS 4.0.3.
[90/06/14            jjc]
[ ./sunstand/include/sunif/if_tie.h ]
	Picked up from SunOS 4.0.3.
[90/06/14            jjc]
[ ./sunstand/include/sys/acct.h ]
	Picked up from SunOS 4.0.3.
[90/06/14            jjc]
[ ./sunstand/include/sys/audit.h ]
	Picked up from SunOS 4.0.3.
[90/06/14            jjc]
[ ./sunstand/include/sys/bootconf.h ]
	Picked up from SunOS 4.0.3.
[90/06/14            jjc]
[ ./sunstand/include/sys/buf.h ]
	Picked up from SunOS 4.0.3.
[90/06/14            jjc]
[ ./sunstand/include/sys/conf.h ]
	Picked up from SunOS 4.0.3.
[90/06/14            jjc]
[ ./sunstand/include/sys/dir.h ]
	Picked up from SunOS 4.0.3.
[90/06/14            jjc]
[ ./sunstand/include/sys/dirent.h ]
	Picked up from SunOS 4.0.3.
[90/06/14            jjc]
[ ./sunstand/include/sys/dkbad.h ]
	Picked up from SunOS 4.0.3.
[90/06/14            jjc]
[ ./sunstand/include/sys/dnlc.h ]
	Picked up from SunOS 4.0.3.
[90/06/14            jjc]
[ ./sunstand/include/sys/domain.h ]
	Picked up from SunOS 4.0.3.
[90/06/14            jjc]
[ ./sunstand/include/sys/errno.h ]
	Picked up from SunOS 4.0.3.
[90/06/14            jjc]
[ ./sunstand/include/sys/exec.h ]
	Picked up from SunOS 4.0.3.
[90/06/14            jjc]
[ ./sunstand/include/sys/fcntl.h ]
	Picked up from SunOS 4.0.3.
[90/06/14            jjc]
[ ./sunstand/include/sys/fcntlcom.h ]
	Picked up from SunOS 4.0.3.
[90/06/14            jjc]
[ ./sunstand/include/sys/file.h ]
	Picked up from SunOS 4.0.3.
[90/06/14            jjc]
[ ./sunstand/include/sys/filio.h ]
	Picked up from SunOS 4.0.3.
[90/06/14            jjc]
[ ./sunstand/include/sys/ioccom.h ]
	Picked up from SunOS 4.0.3.
[90/06/14            jjc]
[ ./sunstand/include/sys/ioctl.h ]
	Picked up from SunOS 4.0.3.
[90/06/14            jjc]
[ ./sunstand/include/sys/kernel.h ]
	Picked up from SunOS 4.0.3.
[90/06/14            jjc]
[ ./sunstand/include/sys/label.h ]
	Picked up from SunOS 4.0.3.
[90/06/14            jjc]
[ ./sunstand/include/sys/map.h ]
	Picked up from SunOS 4.0.3.
[90/06/14            jjc]
[ ./sunstand/include/sys/mbuf.h ]
	Picked up from SunOS 4.0.3.
[90/06/14            jjc]
[ ./sunstand/include/sys/mount.h ]
	Picked up from SunOS 4.0.3.
[90/06/14            jjc]
[ ./sunstand/include/sys/param.h ]
	Picked up from SunOS 4.0.3.
[90/06/14            jjc]
[ ./sunstand/include/sys/pathname.h ]
	Picked up from SunOS 4.0.3.
[90/06/14            jjc]
[ ./sunstand/include/sys/proc.h ]
	Picked up from SunOS 4.0.3.
[90/06/14            jjc]
[ ./sunstand/include/sys/protosw.h ]
	Picked up from SunOS 4.0.3.
[90/06/14            jjc]
[ ./sunstand/include/sys/reboot.h ]
	Picked up from SunOS 4.0.3.
[90/06/14            jjc]
[ ./sunstand/include/sys/resource.h ]
	Picked up from SunOS 4.0.3.
[90/06/14            jjc]
[ ./sunstand/include/sys/signal.h ]
	Picked up from SunOS 4.0.3.
[90/06/14            jjc]
[ ./sunstand/include/sys/socket.h ]
	Picked up from SunOS 4.0.3.
[90/06/14            jjc]
[ ./sunstand/include/sys/socketvar.h ]
	Picked up from SunOS 4.0.3.
[90/06/14            jjc]
[ ./sunstand/include/sys/sockio.h ]
	Picked up from SunOS 4.0.3.
[90/06/14            jjc]
[ ./sunstand/include/sys/stat.h ]
	Picked up from SunOS 4.0.3.
[90/06/14            jjc]
[ ./sunstand/include/sys/syscall.h ]
	Picked up from SunOS 4.0.3.
[90/06/14            jjc]
[ ./sunstand/include/sys/sysmacros.h ]
	Picked up from SunOS 4.0.3.
[90/06/14            jjc]
[ ./sunstand/include/sys/systm.h ]
	Picked up from SunOS 4.0.3.
[90/06/14            jjc]
[ ./sunstand/include/sys/time.h ]
	Picked up from SunOS 4.0.3.
[90/06/14            jjc]
[ ./sunstand/include/sys/timeb.h ]
	Picked up from SunOS 4.0.3.
[90/06/14            jjc]
[ ./sunstand/include/sys/times.h ]
	Picked up from SunOS 4.0.3.
[90/06/14            jjc]
[ ./sunstand/include/sys/trace.h ]
	Picked up from SunOS 4.0.3.
[90/06/14            jjc]
[ ./sunstand/include/sys/ttold.h ]
	Picked up from SunOS 4.0.3.
[90/06/14            jjc]
[ ./sunstand/include/sys/ttychars.h ]
	Picked up from SunOS 4.0.3.
[90/06/14            jjc]
[ ./sunstand/include/sys/ttycom.h ]
	Picked up from SunOS 4.0.3.
[90/06/14            jjc]
[ ./sunstand/include/sys/ttydev.h ]
	Picked up from SunOS 4.0.3.
[90/06/14            jjc]
[ ./sunstand/include/sys/types.h ]
	Picked up from SunOS 4.0.3.
[90/06/14            jjc]
[ ./sunstand/include/sys/ucred.h ]
	Picked up from SunOS 4.0.3.
[90/06/14            jjc]
[ ./sunstand/include/sys/uio.h ]
	Picked up from SunOS 4.0.3.
[90/06/14            jjc]
[ ./sunstand/include/sys/un.h ]
	Picked up from SunOS 4.0.3.
[90/06/14            jjc]
[ ./sunstand/include/sys/user.h ]
	Picked up from SunOS 4.0.3.
[90/06/14            jjc]
[ ./sunstand/include/sys/vfs.h ]
	Picked up from SunOS 4.0.3.
[90/06/14            jjc]
[ ./sunstand/include/sys/vm.h ]
	Picked up from SunOS 4.0.3.
[90/06/14            jjc]
[ ./sunstand/include/sys/vmmac.h ]
	Picked up from SunOS 4.0.3.
[90/06/14            jjc]
[ ./sunstand/include/sys/vmmeter.h ]
	Picked up from SunOS 4.0.3.
[90/06/14            jjc]
[ ./sunstand/include/sys/vmparam.h ]
	Picked up from SunOS 4.0.3.
[90/06/14            jjc]
[ ./sunstand/include/sys/vmsystm.h ]
	Picked up from SunOS 4.0.3.
[90/06/14            jjc]
[ ./sunstand/include/sys/vnode.h ]
	Picked up from SunOS 4.0.3.
[90/06/14            jjc]
[ ./sunstand/include/time.h ]
	Picked up from SunOS 4.0.3.
[90/06/14            jjc]
[ ./sunstand/include/ufs/fs.h ]
	Picked up from SunOS 4.0.3.
[90/06/14            jjc]
[ ./sunstand/include/ufs/fsdir.h ]
	Picked up from SunOS 4.0.3.
[90/06/14            jjc]
[ ./sunstand/include/ufs/inode.h ]
	Picked up from SunOS 4.0.3.
[90/06/14            jjc]
[ ./sunstand/include/ufs/mount.h ]
	Picked up from SunOS 4.0.3.
[90/06/14            jjc]
[ ./sunstand/include/vm/faultcode.h ]
	Picked up from SunOS 4.0.3.
[90/06/14            jjc]
[ ./sunstand/lib/Makefile ]
	Picked up from SunOS 4.0.3.
[90/06/14            jjc]
[ ./sunstand/lib/common/Makefile.com ]
Modified for CMU CS make.
[90/05/15            jjc]
[ ./sunstand/lib/common/chklabel.c ]
	Picked up from SunOS 4.0.3.
[90/06/14            jjc]
[ ./sunstand/lib/common/common.c ]
	Picked up from SunOS 4.0.3.
[90/06/14            jjc]
[ ./sunstand/lib/common/devio.c ]
	Picked up from SunOS 4.0.3.
[90/06/14            jjc]
[ ./sunstand/lib/common/get.c ]
	Picked up from SunOS 4.0.3.
[90/06/14            jjc]
[ ./sunstand/lib/common/hllcputils.c ]
	Picked up from SunOS 4.0.3.
[90/06/14            jjc]
[ ./sunstand/lib/common/hportllcp.c ]
	Picked up from SunOS 4.0.3.
[90/06/14            jjc]
[ ./sunstand/lib/common/idprom.c ]
	Picked up from SunOS 4.0.3.
[90/06/14            jjc]
[ ./sunstand/lib/common/if_ec.c ]
	Picked up from SunOS 4.0.3.
[90/06/14            jjc]
[ ./sunstand/lib/common/if_gn.c ]
	Picked up from SunOS 4.0.3.
[90/06/14            jjc]
[ ./sunstand/lib/common/if_ie.c ]
Defined BYTESPERSEG to be PMGRPSIZE.
Undefined sun4_param.h before including <sun4/param.h>, 
so that it will define DELAY and CDELAY after they have
been undefined and sun4/param.h has been included once
already.
[90/06/05            jjc]
[ ./sunstand/lib/common/if_le.c ]
	Picked up from SunOS 4.0.3.
[90/06/14            jjc]
[ ./sunstand/lib/common/inet.c ]
	Picked up from SunOS 4.0.3.
[90/06/14            jjc]
[ ./sunstand/lib/common/ip.c ]
	Picked up from SunOS 4.0.3.
[90/06/14            jjc]
[ ./sunstand/lib/common/sc.c ]
	Picked up from SunOS 4.0.3.
[90/06/14            jjc]
[ ./sunstand/lib/common/scsi.c ]
	Picked up from SunOS 4.0.3.
[90/06/14            jjc]
[ ./sunstand/lib/common/sd.c ]
	Picked up from SunOS 4.0.3.
[90/06/14            jjc]
[ ./sunstand/lib/common/se.c ]
	Picked up from SunOS 4.0.3.
[90/06/14            jjc]
[ ./sunstand/lib/common/si.c ]
	Picked up from SunOS 4.0.3.
[90/06/14            jjc]
[ ./sunstand/lib/common/sm.c ]
	Picked up from SunOS 4.0.3.
[90/06/14            jjc]
[ ./sunstand/lib/common/spinning.c ]
	Picked up from SunOS 4.0.3.
[90/06/14            jjc]
[ ./sunstand/lib/common/st.c ]
	Picked up from SunOS 4.0.3.
[90/06/14            jjc]
[ ./sunstand/lib/common/standalloc.c ]
	Picked up from SunOS 4.0.3.
[90/06/14            jjc]
[ ./sunstand/lib/common/sw.c ]
	Picked up from SunOS 4.0.3.
[90/06/14            jjc]
[ ./sunstand/lib/common/sys.c ]
	Picked up from SunOS 4.0.3.
[90/06/14            jjc]
[ ./sunstand/lib/common/tm.c ]
	Picked up from SunOS 4.0.3.
[90/06/14            jjc]
[ ./sunstand/lib/common/xd.c ]
	Picked up from SunOS 4.0.3.
[90/06/14            jjc]
[ ./sunstand/lib/common/xt.c ]
	Picked up from SunOS 4.0.3.
[90/06/14            jjc]
[ ./sunstand/lib/common/xy.c ]
	Picked up from SunOS 4.0.3.
[90/06/14            jjc]
[ ./sunstand/lib/m68k/Makefile.arch ]
      Modified for CMU CS make.
[90/06/09            jjc]
[ ./sunstand/lib/m68k/getidprom.s ]
	Picked up from SunOS 4.0.3.
[90/06/14            jjc]
[ ./sunstand/lib/m68k/ldivt.s ]
	Picked up from SunOS 4.0.3.
[90/06/14            jjc]
[ ./sunstand/lib/m68k/lmodt.s ]
	Picked up from SunOS 4.0.3.
[90/06/14            jjc]
[ ./sunstand/lib/m68k/probe.s ]
	Picked up from SunOS 4.0.3.
[90/06/14            jjc]
[ ./sunstand/lib/m68k/stubs.s ]
	Picked up from SunOS 4.0.3.
[90/06/14            jjc]
[ ./sunstand/lib/sparc/Makefile.arch ]
Modified for CMU CS make.
[90/05/15            jjc]
[ ./sunstand/lib/sparc/_setjmp.s ]
	Picked up from SunOS 4.0.3.
[90/06/14            jjc]
[ ./sunstand/lib/sparc/big_copy.s ]
	Picked up from SunOS 4.0.3.
[90/06/14            jjc]
[ ./sunstand/lib/sparc/misc.s ]
	Picked up from SunOS 4.0.3.
[90/06/14            jjc]
[ ./sunstand/lib/sparc/probe.s ]
	Picked up from SunOS 4.0.3.
[90/06/14            jjc]
[ ./sunstand/lib/sparc/sadiv.s ]
	Picked up from SunOS 4.0.3.
[90/06/14            jjc]
[ ./sunstand/lib/sparc/samul.s ]
	Picked up from SunOS 4.0.3.
[90/06/14            jjc]
[ ./sunstand/lib/sparc/subr.s ]
	Picked up from SunOS 4.0.3.
[90/06/14            jjc]
[ ./sunstand/lib/stand/param.h ]
	Picked up from SunOS 4.0.3.
[90/06/14            jjc]
[ ./sunstand/lib/stand/sainet.h ]
	Picked up from SunOS 4.0.3.
[90/06/14            jjc]
[ ./sunstand/lib/stand/saio.h ]
	Picked up from SunOS 4.0.3.
[90/06/14            jjc]
[ ./sunstand/lib/stand/screg.h ]
	Picked up from SunOS 4.0.3.
[90/06/14            jjc]
[ ./sunstand/lib/stand/scsi.h ]
	Picked up from SunOS 4.0.3.
[90/06/14            jjc]
[ ./sunstand/lib/stand/sereg.h ]
	Picked up from SunOS 4.0.3.
[90/06/14            jjc]
[ ./sunstand/lib/stand/sireg.h ]
	Picked up from SunOS 4.0.3.
[90/06/14            jjc]
[ ./sunstand/lib/stand/smreg.h ]
	Picked up from SunOS 4.0.3.
[90/06/14            jjc]
[ ./sunstand/lib/stand/streg.h ]
	Picked up from SunOS 4.0.3.
[90/06/14            jjc]
[ ./sunstand/lib/stand/swreg.h ]
	Picked up from SunOS 4.0.3.
[90/06/14            jjc]
[ ./sunstand/lib/stand/xderr.h ]
	Picked up from SunOS 4.0.3.
[90/06/14            jjc]
[ ./sunstand/lib/sun3/Makefile ]
Corrected ARCHOBJ to be the object files built from 
$(ARCHDIR).
[90/06/09            jjc]
[ ./sunstand/lib/sun3/conf.c ]
	Picked up from SunOS 4.0.3.
[90/06/14            jjc]
[ ./sunstand/lib/sun3/map.s ]
	Picked up from SunOS 4.0.3.
[90/06/14            jjc]
[ ./sunstand/lib/sun4/Makefile ]
Modified for CMU CS make.
[90/05/15            jjc]
[ ./sunstand/lib/sun4/cache.s ]
	Picked up from SunOS 4.0.3.
[90/06/14            jjc]
[ ./sunstand/lib/sun4/conf.c ]
	Picked up from SunOS 4.0.3.
[90/06/14            jjc]
[ ./sunstand/lib/sun4/getidprom.s ]
	Picked up from SunOS 4.0.3.
[90/06/14            jjc]
[ ./sunstand/lib/sun4/map.s ]
	Picked up from SunOS 4.0.3.
[90/06/14            jjc]
[ ./sunstand/lib/sun4/stubs.s ]
	Picked up from SunOS 4.0.3.
[90/06/14            jjc]
[ ./sunstand/m68k/Makefile.mach ]
Copied from Makefile.arch.
Modified for CMU CS make.
[90/06/09            jjc]
[ ./sunstand/m68k/genassym.c ]
	Picked up from SunOS 4.0.3.
[90/06/14            jjc]
[ ./sunstand/m68k/movc.s ]
	Picked up from SunOS 4.0.3.
[90/06/14            jjc]
[ ./sunstand/m68k/srt0.s ]
Added 'mach_exitto' to pass 'esym' (end of loaded symbol table) to the
booted program.
[90/06/06            jjc]
[ ./sunstand/m68k/stubs1.s ]
	Picked up from SunOS 4.0.3.
[90/06/14            jjc]
[ ./sunstand/m68k/vax.s ]
	Picked up from SunOS 4.0.3.
[90/06/14            jjc]
[ ./sunstand/os/Makefile.os ]
Modified for CMU CS make.
Added conf.o to CMNOBJ.
[90/05/15            jjc]
[ ./sunstand/os/auth_kern.c ]
	Picked up from SunOS 4.0.3.
[90/06/14            jjc]
[ ./sunstand/os/authunix_prot.c ]
	Picked up from SunOS 4.0.3.
[90/06/14            jjc]
[ ./sunstand/os/bdev_vnodeops.c ]
	Picked up from SunOS 4.0.3.
[90/06/14            jjc]
[ ./sunstand/os/clnt_kudp.c ]
	Picked up from SunOS 4.0.3.
[90/06/14            jjc]
[ ./sunstand/os/common.c ]
	Picked up from SunOS 4.0.3.
[90/06/14            jjc]
[ ./sunstand/os/conf.c ]
	Picked up from SunOS 4.0.3.
[90/06/14            jjc]
[ ./sunstand/os/devio.c ]
	Picked up from SunOS 4.0.3.
[90/06/14            jjc]
[ ./sunstand/os/dprint.c ]
	Picked up from SunOS 4.0.3.
[90/06/14            jjc]
[ ./sunstand/os/heap_kmem.c ]
	Picked up from SunOS 4.0.3.
[90/06/14            jjc]
[ ./sunstand/os/if.c ]
	Picked up from SunOS 4.0.3.
[90/06/14            jjc]
[ ./sunstand/os/if_subr.c ]
	Picked up from SunOS 4.0.3.
[90/06/14            jjc]
[ ./sunstand/os/in.c ]
	Picked up from SunOS 4.0.3.
[90/06/14            jjc]
[ ./sunstand/os/in_pcb.c ]
	Picked up from SunOS 4.0.3.
[90/06/14            jjc]
[ ./sunstand/os/in_proto.c ]
	Picked up from SunOS 4.0.3.
[90/06/14            jjc]
[ ./sunstand/os/inet.c ]
	Picked up from SunOS 4.0.3.
[90/06/14            jjc]
[ ./sunstand/os/iob.c ]
	Picked up from SunOS 4.0.3.
[90/06/14            jjc]
[ ./sunstand/os/ip_input.c ]
	Picked up from SunOS 4.0.3.
[90/06/14            jjc]
[ ./sunstand/os/kern_prot.c ]
	Picked up from SunOS 4.0.3.
[90/06/14            jjc]
[ ./sunstand/os/kern_subr.c ]
	Picked up from SunOS 4.0.3.
[90/06/14            jjc]
[ ./sunstand/os/kudp_fastsend.c ]
	Picked up from SunOS 4.0.3.
[90/06/14            jjc]
[ ./sunstand/os/nfs_subr.c ]
	Picked up from SunOS 4.0.3.
[90/06/14            jjc]
[ ./sunstand/os/nfs_vfsops.c ]
	Picked up from SunOS 4.0.3.
[90/06/14            jjc]
[ ./sunstand/os/nfs_vnodeops.c ]
	Picked up from SunOS 4.0.3.
[90/06/14            jjc]
[ ./sunstand/os/nfs_xdr.c ]
	Picked up from SunOS 4.0.3.
[90/06/14            jjc]
[ ./sunstand/os/pmap_kgetport.c ]
	Picked up from SunOS 4.0.3.
[90/06/14            jjc]
[ ./sunstand/os/readfile.c ]
Modified for kdb to load symbol table.
[90/06/06            jjc]
[ ./sunstand/os/route.c ]
	Picked up from SunOS 4.0.3.
[90/06/14            jjc]
[ ./sunstand/os/rpc/pmap_prot.c ]
	Picked up from SunOS 4.0.3.
[90/06/14            jjc]
[ ./sunstand/os/rpc/pmap_rmt.c ]
	Picked up from SunOS 4.0.3.
[90/06/14            jjc]
[ ./sunstand/os/rpc/rpc_prot.c ]
	Picked up from SunOS 4.0.3.
[90/06/14            jjc]
[ ./sunstand/os/rpc/xdr.c ]
Included mon/sunromvec.h.
[90/06/05            jjc]
[ ./sunstand/os/rpc/xdr_array.c ]
Included mon/sunromvec.h.
[90/06/05            jjc]
[ ./sunstand/os/rpc/xdr_mem.c ]
	Picked up from SunOS 4.0.3.
[90/06/14            jjc]
[ ./sunstand/os/rpc/xdr_reference.c ]
	Picked up from SunOS 4.0.3.
[90/06/14            jjc]
[ ./sunstand/os/rpcsvc/bootparam_xdr.c ]
	Picked up from SunOS 4.0.3.
[90/06/14            jjc]
[ ./sunstand/os/rpcsvc/mountxdr.c ]
	Picked up from SunOS 4.0.3.
[90/06/14            jjc]
[ ./sunstand/os/standalloc.c ]
	Picked up from SunOS 4.0.3.
[90/06/14            jjc]
[ ./sunstand/os/subr_kudp.c ]
	Picked up from SunOS 4.0.3.
[90/06/14            jjc]
[ ./sunstand/os/subr_xxx.c ]
	Picked up from SunOS 4.0.3.
[90/06/14            jjc]
[ ./sunstand/os/udp_boot.c ]
	Picked up from SunOS 4.0.3.
[90/06/14            jjc]
[ ./sunstand/os/udp_usrreq.c ]
	Picked up from SunOS 4.0.3.
[90/06/14            jjc]
[ ./sunstand/os/ufs_bmap.c ]
	Picked up from SunOS 4.0.3.
[90/06/14            jjc]
[ ./sunstand/os/ufs_dir.c ]
	Picked up from SunOS 4.0.3.
[90/06/14            jjc]
[ ./sunstand/os/ufs_inode.c ]
	Picked up from SunOS 4.0.3.
[90/06/14            jjc]
[ ./sunstand/os/ufs_machdep.c ]
	Picked up from SunOS 4.0.3.
[90/06/14            jjc]
[ ./sunstand/os/ufs_subr.c ]
	Picked up from SunOS 4.0.3.
[90/06/14            jjc]
[ ./sunstand/os/ufs_vfsops.c ]
	Picked up from SunOS 4.0.3.
[90/06/14            jjc]
[ ./sunstand/os/ufs_vnodeops.c ]
	Picked up from SunOS 4.0.3.
[90/06/14            jjc]
[ ./sunstand/os/uipc_domain.c ]
	Picked up from SunOS 4.0.3.
[90/06/14            jjc]
[ ./sunstand/os/uipc_mbuf.c ]
	Picked up from SunOS 4.0.3.
[90/06/14            jjc]
[ ./sunstand/os/uipc_socket.c ]
	Picked up from SunOS 4.0.3.
[90/06/14            jjc]
[ ./sunstand/os/uipc_socket2.c ]
	Picked up from SunOS 4.0.3.
[90/06/14            jjc]
[ ./sunstand/os/vfs.c ]
	Picked up from SunOS 4.0.3.
[90/06/14            jjc]
[ ./sunstand/os/vfs_bio.c ]
	Picked up from SunOS 4.0.3.
[90/06/14            jjc]
[ ./sunstand/os/vfs_conf.c ]
	Picked up from SunOS 4.0.3.
[90/06/14            jjc]
[ ./sunstand/os/vfs_generic.c ]
	Picked up from SunOS 4.0.3.
[90/06/14            jjc]
[ ./sunstand/os/vfs_lookup.c ]
	Picked up from SunOS 4.0.3.
[90/06/14            jjc]
[ ./sunstand/os/vfs_pathname.c ]
	Picked up from SunOS 4.0.3.
[90/06/14            jjc]
[ ./sunstand/os/vfs_sys.c ]
	Picked up from SunOS 4.0.3.
[90/06/14            jjc]
[ ./sunstand/os/vfs_syscalls.c ]
	Picked up from SunOS 4.0.3.
[90/06/14            jjc]
[ ./sunstand/os/vfs_vnode.c ]
	Picked up from SunOS 4.0.3.
[90/06/14            jjc]
[ ./sunstand/os/xdr_mbuf.c ]
	Picked up from SunOS 4.0.3.
[90/06/14            jjc]
[ ./sunstand/sparc/Makefile.mach ]
Modified for CMU CS make.
[90/05/15            jjc]
[ ./sunstand/sparc/getvbr.s ]
	Picked up from SunOS 4.0.3.
[90/06/14            jjc]
[ ./sunstand/sparc/srt0.s ]
Added mach_exitto() which is similar to __exitto() except that
it takes the end of the symbol table as a second argument and
passes it to the kernel in g7.
Disabled hack to read clock's interrupt register from where the
prom has it mapped because it causes a bus error.
[90/06/06            jjc]
[ ./sunstand/sun3/Makefile ]
Fixed up since it looks as though even the original SunOS
4.0.3 sources cannot be made for the Sun 3.
[90/06/09            jjc]
[ ./sunstand/sun3/SYS.h ]
	Picked up from SunOS 4.0.3.
[90/06/14            jjc]
[ ./sunstand/sun3/conf.c ]
Picked up change from Paul Parker, adding ledriver to the
device table.
[90/07/10            jjc]
Copied from sun4/conf.c.
[90/06/10            jjc]
[ ./sunstand/sun4/Makefile ]
Modified for CMU CS make.
[90/05/15            jjc]
[ ./sunstand/sun4/conf.c ]
	Picked up from SunOS 4.0.3.
[90/06/14            jjc]
[ ./sunstand/sun4/stubs.s ]
	Picked up from SunOS 4.0.3.
[90/06/14            jjc]
[ ./sunstand/sun4/trap.s ]
	Picked up from SunOS 4.0.3.
[90/06/14            jjc]
[ ./sunstand/boot/Makefile.com ]
Modified for CMU CS make.
[90/05/15            jjc]
[ ./sunstand/boot/boot.c ]
Modified for kdb.
[90/06/06            jjc]
[ ./sunstand/boot/conf.h ]
	Picked up from SunOS 4.0.3.
[90/06/14            jjc]
[ ./sundev/sdreg.h ]
Carried over Mary Thompson's changes from Mt. Xinu.
[90/07/02            jjc]
Commented out definition of DK_{NOERROR,CORRECTED,RECOVERED,FATAL},
since they're defined in sun/dkio.h already.
[90/06/13            jjc]
[ ./sunstand/lib/common/gn_inf.c ]
	Picked up from SunOS 4.0.3.
[90/06/14            jjc]
[ ./sunstand/include/mon/eeprom.h ]
	Picked up from SunOS 4.0.3.
[90/06/14            jjc]
[ ./sunstand/include/mon/password.h ]
	Picked up from SunOS 4.0.3.
[90/06/14            jjc]
[ ./sunstand/include/sun/openprom.h ]
	Picked up from SunOS 4.0.3.
[90/06/14            jjc]
[ ./sunstand/include/sun3/buserr.h ]
	Picked up from SunOS 4.0.3.
[90/06/14            jjc]
[ ./sunstand/include/sun3/mmu.h ]
	Picked up from SunOS 4.0.3.
[90/06/14            jjc]
[ ./sunstand/include/sundev/ipdev.h ]
	Picked up from SunOS 4.0.3.
[90/06/14            jjc]
[ ./sunstand/include/sundev/ipvar.h ]
	Picked up from SunOS 4.0.3.
[90/06/14            jjc]
[ ./sunstand/include/sunif/if_llc.h ]
	Picked up from SunOS 4.0.3.
[90/06/14            jjc]
[ ./sunstand/include/sunif/llcp.h ]
	Picked up from SunOS 4.0.3.
[90/06/14            jjc]
[ ./sunstand/include/ctype.h ]
	Picked up from SunOS 4.0.3.
[90/06/14            jjc]
[ ./sunstand/include/stdio.h ]
	Picked up from SunOS 4.0.3.
[90/06/14            jjc]
[ ./sunstand/include/strings.h ]
	Picked up from SunOS 4.0.3.
[90/06/14            jjc]
[ ./sunstand/os/net/af.c ]
	Picked up from SunOS 4.0.3.
[90/06/14            jjc]
[ ./sunstand/os/rpc/clnt_perror.c ]
	Picked up from SunOS 4.0.3.
[90/06/14            jjc]
[ ./sun/dkio.h ]
Carried over Mary Thompson's changes from Mt. Xinu.
[90/07/02            jjc]
Added backward compatibility for old drivers under else leg
of #ifdef REL4.
[90/06/18            jjc]
Picked up from SunOS 4.0.3 and added macros replacing interleaving
functions from SunOS version of sys/param.h.
[90/05/27            jjc]
[ ./sun4/autoconf.c ]
Carried over Mary Thompson's changes from Mt. Xinu.
[90/07/02            jjc]
Added changes for Sun 4/330.
Changed doprobe() to allocate kernel virtual memory for devices
in the top 16 meg. of the virtual address space where it can dvma.
[90/05/07            jjc]
[ ./sundev/scsi.h ]
Carried over Mary Thompson's changes from Mt. Xinu.
[90/07/02            jjc]
[ ./sundev/sd.c ]
Carried over Mary Thompson's changes from Mt. Xinu.
[90/07/02            jjc]
Uncommented out uses of field, dkg_pcyl, of dk_geom structure.
[90/06/13            jjc]
[ ./sundev/sc_conf.c ]
Carried over Mary Thompson's changes from Mt. Xinu.
[90/07/02            jjc]
Uncommented out includes of se.h, sm.h, sw.h, and wds.h.
[90/06/13            jjc]
Changed definition of sictlrs from a pointer back to an array
since it no longer has to be dynamically allocated.
[90/06/13            jjc]
[ ./sun4/machdep.c ]
Carried over Mary Thompson's changes from Mt. Xinu.
[90/07/02            jjc]
Added support for Sun 4/330:
	1) Turn on virtual address cache.
	2) Pick up monitor memory register setting in startnmi().
	3) Took memory error handling code from SunOS 4.0.3 and
	   put it in memerr().
	4) Added parity error recovery routines from SunOS 4.0.3.
[90/05/08            jjc]
[ ./sup/kernel/list ]
Omitted Sun OS 4 drivers and standalone code.

[ ./sunif/if_le.c ]
Added include of sunif/ether_addr
[90/07/30            mrt]
[ ./UpdateSet ]
Version 5.1(X127)

----- X126 -----
[ ./conf/version.edit ]
126
[ ./Makefile ]
Add missing src/buildconf.csh dependency for ./bin/buildconf.
[90/06/12            mja]
[ ./src/buildconf.csh ]
Add -latest and -dist switches;  change installations from
group `sys' to group `kmem'.
[90/06/12  15:49:27  mja]
[ ./afs/afs_cache.c ]
removed include of vm/vm_pager.h. It was for the obsolete non
external pager interface.
[90/06/29            mrt]
Merged mt Xinu 2.6MSD Changes.
[90/05/17  17:46:07  mrt]
[ ./afs/afs_resource.c ]
Merged mt Xinu 2.6MSD Changes.
[90/05/17  17:45:23  mrt]
[ ./afs/nfs_gateway.c ]
Merged mt Xinu 2.6MSD Changes.
[90/05/17  17:45:00  mrt]
[ ./afs/param.h ]
Merged mt Xinu 2.6MSD Changes.
[90/05/17  17:45:10  mrt]
[ ./bsd/cmu_syscalls.c ]
Merged mt Xinu 2.6MSD Changes.
[90/05/17  17:47:27  mrt]
[ ./bsd/init_main.c ]
Eliminate MACH_XP conditionals.  Resize inode pager's
map to 64 pages per set because new page stealing code
uses the map aggressively.
[90/06/28            dlb]
Run inode_pager, device_pager, and device_server at high
priority.
[90/06/20            dlb]
Merged mt Xinu 2.6MSD Changes.
[90/05/21  18:30:19  mrt]
[ ./bsd/kern_exec.c ]
Merged mt Xinu 2.6MSD Changes.
[90/05/17  17:47:04  mrt]
[ ./bsd/kern_mman.c ]
Eliminate MACH_XP conditionals and !MACH_XP code.
[90/06/28            dlb]
[ ./bsd/kern_resource.c ]
Rework donice() to use task->priority as base instead of
BASEPRI_USER and to nice all threads, not just the first one in
the task.  Based on code from Gregg Kellogg at NeXT.
[90/05/08            dlb]
[ ./bsd/kern_synch.c ]
Merged mt Xinu 2.6MSD Changes.
[90/05/17  17:49:43  mrt]
[ ./bsd/kern_time.c ]
Changed setthetime to start the DT2806 clock if present.
[90/05/23            dcs]
[ ./bsd/mach_directory.c ]
Merged mt Xinu 2.6MSD Changes.
[90/05/17  17:47:42  mrt]
[ ./bsd/subr_prf.c ]
Merged mt Xinu 2.6MSD Changes.
[90/05/17  17:49:21  mrt]
[ ./bsd/sys_generic.c ]
Merged mt Xinu 2.6MSD Changes.
[90/05/17  17:50:09  mrt]
[ ./bsd/sys_inode.c ]
Remove !MACH_XP code.  Use memory_object_lock_request instead of
pager_lock_request.
[90/06/28            dlb]
Merged mt Xinu 2.6MSD Changes.
[90/05/17  17:50:26  mrt]
[ ./bsd/sys_socket.c ]
Removed MULTICAST_AGENT code as it is not implemented in
the ipl.rel5 release of multicast
[90/06/26            mrt]
[ ./bsd/tty.c ]
Define CMUVCONS if CMUCS is defined.
[90/06/25            mrt]

Merged mt Xinu 2.6MSD Changes.
[90/05/17  17:46:38  mrt]
[ ./bsd/tty_cmupty.c ]
Merged mt Xinu 2.6MSD Changes.
[90/05/17  17:49:33  mrt]
[ ./bsd/tty_fe.c ]
Merged mt Xinu 2.6MSD Changes.
[90/05/17  17:47:54  mrt]
[ ./bsd/tty_pty.c ]
Merged mt Xinu 2.6MSD Changes.
[90/05/17  17:48:05  mrt]
[ ./bsd/ufs_disksubr.c ]
Correction from Mt Xinu for disks without Berkely labels.
[90/06/22            mrt]
[ ./bsd/ufs_inode.c ]
Remove MACH_XP conditionals.
[90/06/28            dlb]
[ ./bsd/ufs_mount.c ]
Merged mt Xinu 2.6MSD Changes.
[90/05/17  17:50:34  mrt]
[ ./bsd/ufs_namei.c ]
Merged mt Xinu 2.6MSD Changes.
[90/05/17  17:46:50  mrt]
[ ./bsd/ufs_physio.c ]
Merged mt Xinu 2.6MSD Changes.
[90/05/17  17:50:17  mrt]
[ ./bsd/uipc_mbuf.c ]
Merged mt Xinu 2.6MSD Changes.
[90/05/17  17:48:16  mrt]
[ ./bsd/uipc_socket.c ]
Removed multibind conditional and code as it is no longer used
in ip.rel5 version of multicast.
[90/06/26            mrt]
[ ./builtin/inode_pager.c ]
Try to be a little smarter about when to use precious attribute
on supplied data.  Use inode_pager_setup_lock to avoid
race between 2 threads setting up the same inode.

Take advantage of precious functionality to allow space to be
freed when a page is paged in from a paging file.  Added
pager_dealloc_page to implement freeing of space.

Renamed pf_alloc, pf_dealloc, and pf_bmap to pager_alloc,
pager_dealloc, and pager_bmap to make it clear that these
operate on pagers rather than paging files.

Fix pagein buffer management code to reuse buffer space when
I/O fails instead of abandoning it.  Set base address for vm_map_find.

Removed MACH_XP conditionals: use builtin/old_pager.c if !MACH_VFS.
Use power of 2 backoff to get smaller buffers if vm_map_find
fails in ipset_buffer_allocate.

Clean up and turn on USE_SUPPLY code.

USE_SUPPLY modifications to use deallocate version of
memory_object_data_supply and take advantage of page stealing.

Use privileged host port for new vm_set_default_memory_manager.
[90/07/02            dlb]
[ ./builtin/old_pager.c ]
Fix pagein buffer management code to reuse buffer space when
I/O fails instead of abandoning it.  Set base address for vm_map_find.
[90/06/29            dlb]
Use power of 2 backoff to get smaller buffer if vm_map_find fails
in ipset_buffer_allocate.
[90/06/28            dlb]
Upgrade to use memory_object_data_supply (page stealing).
Delete all !MACH_XP code.
[90/06/28            dlb]
Use privileged host port for vm_set_default_memory_manager.
[90/06/12  14:43:55  dlb]
[ ./ca/autoconf.c ]
Merged mt Xinu 2.6MSD Changes.
[90/05/17  17:53:18  mrt]
[ ./ca/conf.c ]
Added entry points for ramd, dtc, and mach_cfs drivers.
[90/05/23            dcs]
Merged mt Xinu 2.6MSD Changes.
[90/05/17  17:53:24  mrt]
[ ./ca/endian.h ]
Merged mt Xinu 2.6 MSD changes.
[90/05/17  17:52:40  mrt]
[ ./ca/machdep.c ]
Changed microtime to use the Data Translation clock if present.
[90/05/25            dcs]
Merged mt Xinu 2.6MSD Changes.
[90/05/17  17:51:19  mrt]
[ ./ca/machparam.h ]
Merged mt Xinu 2.6MSD Changes.
[90/05/17  17:51:27  mrt]
[ ./ca/rdb.h ]
Decreased end of rdb back to 0x23000 so that the kernel would
build. Mt Xinu had incresed it to 0x28000, but the EXP kernel
+ CODA was too big.
[90/07/01            mrt]
Increased symbol table size for the Coda file system
[90/06/28            dcs]
Merged mt Xinu 2.6MSD Changes.
[90/05/17  17:51:32  mrt]
[ ./cacons/cons.c ]
Merged mt Xinu 2.6MSD Changes.
[90/05/17  17:53:39  mrt]
[ ./cacons/lptty.c ]
Merged mt Xinu 2.6MSD Changes.
[90/05/17  17:53:32  mrt]
[ ./caif/if_un.c ]
Added rel5 multicast code from Stanford.
[90/06/28            jjk]
[ ./caio/fd.c ]
Merged mt Xinu 2.6MSD Changes.
[90/05/17  17:54:36  mrt]
[ ./caio/hd.c ]
Merged mt Xinu 2.6MSD Changes.
[90/05/17  17:53:49  mrt]
[ ./caio/hd_subr.c ]
Merged mt Xinu 2.6 MSD changes.
[90/05/17            emg]
[ ./conf/MASTER ]
	Delete bogus vm options: MACH_OLD_VM_COPY, MACH_XP_FPD.
[90/06/27            dlb]
Added the MACH_CFS option and the mach_cfs pseudo-device.
[90/05/23            dcs]
Removed MULTICAST_AGENT and IGMPROTO options as they are not used
by the new ipl.rel5 of multicast code. Added MROUTING option as
it may be used by the new code.
[90/06/26            mrt]
[ ./conf/MASTER.ca ]
Added the CODA configuration flag, the ramd pseudo-device, and the dtc device.
[90/05/23            dcs]
Merged mt Xinu 2.6MSD Changes.
[90/05/17  17:55:16  mrt]
[ ./conf/MASTER.local ]
Added km for kernel monitoring to EXP
[90/06/29            mrt]
Added configuration flag CODA to EXP for the Coda file system.
[90/05/25            dcs]
[ ./conf/MASTER.mips ]
Added configuration symbol CODA for the Coda file system.
[90/06/04            dcs]
[ ./conf/MASTER.sun3 ]
Added configuration symbol CODA for the Coda file system.
[90/05/25            dcs]
[ ./conf/MASTER.vax ]
Added configuration symbol CODA for the Coda file system.
[90/05/25            dcs]
Merged mt Xinu 2.6MSD Changes.
[90/05/21  16:36:49  mrt]
[ ./conf/Makefile.template ]
Added . and ${SOURCE_DIR}/sys to the INCLUDES flags so
[90/05/21  17:06:29  mrt]
[ ./conf/files ]
[90/06/28  18:14:00  dlb]
[ ./conf/files.ca ]
Added cfs/ramd.c, cfs/dtc.c, and cfs/dtcdiv.s. 
[90/05/23            dcs]
[ ./conf/newvers.sh ]
" Upgraded version string from Mach 2.5 to Mach 2.6 to reflect "
" integrating the 2.6 MSD changes. "
[90/05/21            mrt]
[ ./i386/endian.h ]
Created this to match the other machine/endian.h files as
expected by the Tahoe release of BSD.
[90/06/28            mrt]
[ ./kern/ipc_copyin.c ]
Replace move_msg_data macro with check for internal memory type.
This results from the purge of fast_pager_data functionality.
[90/06/27            dlb]
Add discard argument (TRUE) to vm_map_copyout.
[90/06/21            dlb]
[ ./kern/ipc_copyout.c ]
Purge fast_pager_data functionality.
[90/06/27            dlb]
Add discard argument (TRUE) to vm_map_copyout.
[90/06/21            dlb]
[ ./kern/ipc_globals.c ]
Set wait_for_space on ipc_kernel_map.
[90/06/19            dlb]
[ ./kern/ipc_kmesg.h ]
Purge MACH_XP_FPD.  Removed associated fast_pager_data
	and move_msg_data macros.
[90/06/27            dlb]
[ ./kern/ipc_kport.c ]
Eliminate MACH_XP conditional.
[90/06/28            dlb]
[ ./kern/ipc_pobj.c ]
Allow privileged host port to be used where host port is
expected.  Allow processor set port to be used where processor
name port is expected.
[90/06/18            dlb]
[ ./kern/kernel_monitor.c ]
28-Jun-90 eddie caplan (egc) at Carnegie-Mellon University
Fixed problem in monitor_create that used MONITOR_NULL when
PORT_NULL should have been used.  changed the variable name
from 'monitor' to 'the_monitor' since 'monitor' is the name
of the monitor_t type.  this seems to only be a problem with
the compiler on the PMAX.
[90/06/28  16:43:41  mrt]
[ ./kern/mach_net.c ]
Merged mt Xinu 2.6MSD Changes.
[90/05/17  17:55:40  mrt]
[ ./kern/mach_redefines.h ]
Remove XP conditionals and !XP vm_allocate_with_pager.
Remove pager_cache redefine.
[90/06/28            dlb]
[ ./kern/mach_user_internal.c ]
Add memory_object_data_supply.
[90/06/20            dlb]
[ ./kern/mfs_prim.c ]
Remove MACH_XP conditional and !MACH_XP code.
[90/06/28            dlb]
[ ./kern/task.c ]
Return actual task priority in task_info.
[90/06/18            dlb]
[ ./kern/thread.c ]
Add max_priority init to kernel_thread().
[90/06/20            dlb]
Initialize priority and do first priority computation in
thread_create.  Default maximum priority to BASEPRI_USER
instead of current pset maximum; override still occurs if
pset maximum is lower.  Suggested by Gregg Kellogg at NeXT.
Take priority inits out of thread template.  Remove in transit
check from thread_max_priority.
[90/05/08            dlb]
[ ./mach/kern_return.h ]
Add KERN_MEMORY_PRESENT.
[90/06/21  19:55:20  dlb]
[ ./mach/mach.defs ]
Eliminate MACH_XP conditionals.  Prefix pager_cache with xxx.
Add deallocate support to memory_object_data_supply.  Until MiG
is fixed, this always deallocates its data (XXX).
Remove pager_data_provided_inline.
Add memory_object_data_supply.
Convert vm_set_default_memory_manager to use real host port.
[90/06/11            dlb]
[ ./mach/memory_object.defs ]
Add memory_object_supply_completed, memory_object_data_return.
[90/06/13            dlb]
[ ./mach/mig_errors.h ]
Merged mt Xinu 2.6MSD Changes.
[90/05/17  17:55:56  mrt]
[ ./mach/mmax/vm_param.h ]
Make VM_MIN_KERNEL_SPACE 64Meg on APC.
[90/05/21            dlb]
[ ./mach/sun3/reg.h ]
Removed the special c_plusplus fixes for structure declarations
as c_plusplus now accepts the normal way of doing things
and gcc would't deal with the other way.
[90/05/23            mrt]
[ ./mips/endian.h ]
Created to match the machine/endian.h file expected by
the BSD tahoe release.
[90/06/28            mrt]
[ ./mips/kdb.c ]
Flush I-cache when writing to k0seg, so that changing kernel code
works.  Redefine AST name.
[89/10/16  15:19:10  af]
Made it callable for kernel traps, if everything else fails.
Fixed unaligned accesses, made them byteorder indep. too.
[89/09/15  15:54:01  af]

Created.
[89/08/08            af]
[ ./mips/kdb/mips_trace.c ]
Removed the static from the declaration of print_exception_frame
so that it can be called from the debugger.
[90/06/28            mrt]
[ ./mips/machparam.h ]
Added definitions generally exported by the BSD tahoe 
machine/machparam.h
[90/06/01            mrt]
[ ./mmax/endian.h ]
Created to match the machine/endian.h file that is expected
by BSD tahoe
[90/06/28            mrt]
[ ./mmax/locore.s ]
Add careful_bcopy, a version of bcopy that recovers from bad
page faults and returns an error code.
[90/06/18            dlb]
[ ./mmax/machparam.h ]
Added DELAY macro and include of machine/endian.h.
[90/06/08            mrt]
[ ./mmax/mmax_init.c ]
Reset vm_pageout_burst_wait to a reasonable value.
[90/06/29            dlb]
[ ./mmax/pmap.c ]
Redo kernel virtual address space calculation to ensure enough
virtual space to map physical memory twice.
[90/05/21            dlb]
[ ./net/af.c ]
Merged mt Xinu 2.6 MSD changes.
[90/05/17            emg]
[ ./net/af.h ]
Merged mt Xinu 2.6 MSD changes.
[90/05/17            emg]
[ ./net/dli.c ]
Merged mt Xinu 2.6MSD Changes.
[90/05/17  17:57:29  mrt]
[ ./net/dli_var.h ]
Merged mt Xinu 2.6MSD Changes.
[90/05/17  17:58:49  mrt]
[ ./net/if.c ]
Added rel5 multicast code from Stanford.
[90/06/28            jjk]
Merged mt Xinu 2.6 MSD changes.
[90/05/17            emg]
[ ./net/if.h ]
Added rel 5 multicast code from Stanford
[90/07/01            jjk]
Merged mt Xinu 2.6 MSD changes.
[90/05/17            emg]
[ ./net/if_arp.h ]
Merged mt Xinu 2.6 MSD changes.
[90/05/17            emg]
[ ./net/if_loop.c ]
Added rel5 multicast code from Stanford.
[90/06/28            jjk]
Made inlcude of mach/mtpr.h conditional on #ifndef MACH
[90/06/26            mrt]

Merged mt Xinu 2.6 MSD changes.
[90/05/17            emg]
[ ./net/if_sl.c ]
Added rel5 multicast code from Stanford.
[90/06/28            jjk]
Made inlcude of mach/mtpr.h conditional on #ifndef MACH
[90/06/26            mrt]

Merged mt Xinu 2.6 MSD changes.
[90/05/17            emg]
[ ./net/netisr.h ]
Merged mt Xinu 2.6 MSD changes.
[90/05/17            emg]
[ ./net/raw_cb.c ]
Added rel5 multicast code from Stanford.
[90/06/28            jjk]
Made inlcude of mach/mtpr.h conditional on #ifndef MACH
[90/06/26            mrt]

Merged mt Xinu 2.6 MSD changes.
[90/05/17            emg]
[ ./net/raw_cb.h ]
Added rel5 multicast code from Stanford.
[90/06/28            jjk]
Merged mt Xinu 2.6 MSD changes.
[90/05/17            emg]
[ ./net/raw_usrreq.c ]
Merged mt Xinu 2.6 MSD changes.
[90/05/17            emg]
[ ./net/route.c ]
Merged mt Xinu 2.6 MSD changes.
[90/05/17            emg]
[ ./net/route.h ]
Merged mt Xinu 2.6 MSD changes.
[90/05/17            emg]
[ ./netimp/if_imp.c ]
Made include of machine/mtptr.h dependent on #ifndef MACH
[90/06/26            mrt]

Merged mt Xinu 2.6 MSD changes.
[90/05/17            emg]
[ ./netimp/if_imp.h ]
Merged mt Xinu 2.6 MSD changes.
[90/05/17            emg]
[ ./netimp/if_imphost.c ]
Merged mt Xinu 2.6 MSD changes.
[90/05/17            emg]
[ ./netimp/if_imphost.h ]
Merged mt Xinu 2.6 MSD changes.
[90/05/17            emg]
[ ./netimp/raw_imp.c ]
Merged mt Xinu 2.6 MSD changes.
[90/05/17            emg]
[ ./netinet/icmp_var.h ]
Merged mt Xinu 2.6 MSD changes.
[90/05/17            emg]
[ ./netinet/if_ether.h ]
Added rel5 multicast code from Stanford.
[90/06/28            jjk]

Merged mt Xinu 2.6 MSD changes.
[90/05/17            emg]
[ ./netinet/igmp.c ]
Added to Mach kernel -  multicast release 5
[90/06/28            jjk]
[ ./netinet/igmp.h ]
Added to Mach kernel -  multicast release 5
[90/06/28            jjk]
[ ./netinet/igmp_var.h ]
Added to Mach kernel -  multicast release 5
[90/06/28            jjk]
[ ./netinet/in.c ]

	Added rel5 multicast code from Stanford.
	[90/6/28	jjk]

	Merged mt Xinu 2.6 MSD changes.
 	[90/05/17            ecg]
[ ./netinet/in.h ]
Added Multicast rel5 code
[90/06/26            jjk]
[ ./netinet/in_cksum.c ]
Merged mt Xinu 2.6 MSD changes.
[90/05/17            emg]
[ ./netinet/in_pcb.c ]
Added rel5 multicast code from Stanford.
[90/06/28            jjk]

Fixed a couple of pointer warnings
[90/06/26            mrt]

Merged mt Xinu 2.6 MSD changes.
[90/05/17            emg]
[ ./netinet/in_pcb.h ]
Added rel5 multicast code from Stanford.
[90/06/28            jjk]

Merged mt Xinu 2.6 MSD changes.
[90/05/17            emg]
[ ./netinet/in_proto.c ]
Added rel5 multicast code from Stanford.
[90/06/28            jjk]

Merged mt Xinu 2.6 MSD changes.
[90/05/17            emg]
[ ./netinet/in_systm.h ]
Merged mt Xinu 2.6 MSD changes.
[90/05/17            emg]
[ ./netinet/in_var.h ]
Added rel5 multicast code from Stanford.
[90/06/28            jjk]

Merged mt Xinu 2.6 MSD changes.
[90/05/17            emg]
[ ./netinet/ip.h ]
Merged mt Xinu 2.6 MSD changes.
[90/05/17            emg]
[ ./netinet/ip_icmp.c ]
Added rel5 multicast code from Stanford.
[90/06/28            jjk]

Merged mt Xinu 2.6 MSD changes.
[90/05/17            emg]
[ ./netinet/ip_icmp.h ]
Merged mt Xinu 2.6 MSD changes.
[90/05/17            emg]
[ ./netinet/ip_input.c ]
Added rel5 multicast code from Stanford.
[90/06/28            jjk]

Merged mt Xinu 2.6 MSD changes.
[90/05/17  18:03:37  mrt]
[ ./netinet/ip_mroute.c ]
Added to Mach kernel -  multicast release 5
[90/06/28            jjk]
[ ./netinet/ip_mroute.h ]
Added to Mach kernel -  multicast release 5
[90/06/28            jjk]
[ ./netinet/ip_output.c ]
Merged mt Xinu 2.6 MSD changes.
[90/05/17            emg]
[ ./netinet/ip_var.h ]
Added rel5 multicast code from Stanford.
[90/06/28            jjk]

Merged mt Xinu 2.6 MSD changes.
[90/05/17            emg]
[ ./netinet/raw_ip.c ]
Added rel5 multicast code from Stanford.
[90/06/28            jjk]

Merged mt Xinu 2.6 MSD changes.
[90/05/17            emg]
[ ./netinet/tcp.h ]
Merged mt Xinu 2.6 MSD changes.
[90/05/17            emg]
[ ./netinet/tcp_debug.c ]
Merged mt Xinu 2.6 MSD changes.
[90/05/17            emg]
[ ./netinet/tcp_debug.h ]
Merged mt Xinu 2.6 MSD changes.
[90/05/17            emg]
[ ./netinet/tcp_fsm.h ]
Merged mt Xinu 2.6 MSD changes.
[90/05/17            emg]
[ ./netinet/tcp_input.c ]
Merged mt Xinu 2.6 MSD changes.
[90/05/17            emg]
[ ./netinet/tcp_output.c ]
Merged mt Xinu 2.6 MSD changes.
[90/05/17            emg]
[ ./netinet/tcp_seq.h ]
Merged mt Xinu 2.6 MSD changes.
[90/05/17            emg]
[ ./netinet/tcp_subr.c ]
Merged mt Xinu 2.6 MSD changes.
[90/05/17            emg]
[ ./netinet/tcp_timer.c ]
Merged mt Xinu 2.6 MSD changes.
[90/05/17            emg]
[ ./netinet/tcp_timer.h ]
Merged mt Xinu 2.6 MSD changes.
[90/05/17            emg]
[ ./netinet/tcp_usrreq.c ]
Merged mt Xinu 2.6 MSD changes.
[90/05/17            emg]
[ ./netinet/tcp_var.h ]
Merged mt Xinu 2.6 MSD changes.
[90/05/17            emg]
[ ./netinet/tcpip.h ]
Merged mt Xinu 2.6 MSD changes.
[90/05/17            emg]
[ ./netinet/udp.h ]
Merged mt Xinu 2.6 MSD changes.
[90/05/17            emg]
[ ./netinet/udp_usrreq.c ]
Added rel5 multicast code from Stanford.
[90/06/28            jjk]

Merged mt Xinu 2.6 MSD changes.
[90/05/17            emg]
[ ./netinet/udp_var.h ]
Merged mt Xinu 2.6 MSD changes.
[90/05/17            emg]
[ ./netns/idp.h ]
Merged mt Xinu 2.6 MSD changes.
[90/05/17            emg]
[ ./netns/idp_usrreq.c ]
Merged mt Xinu 2.6 MSD changes.
[90/05/17            emg]
[ ./netns/idp_var.h ]
Merged mt Xinu 2.6 MSD changes.
[90/05/17            emg]
[ ./netns/ns.c ]
Merged mt Xinu 2.6 MSD changes.
[90/05/17            emg]
[ ./netns/ns.h ]
Merged mt Xinu 2.6 MSD changes.
[90/05/17            emg]
[ ./netns/ns_error.c ]
Merged mt Xinu 2.6 MSD changes.
[90/05/17            emg]
[ ./netns/ns_error.h ]
Merged mt Xinu 2.6 MSD changes.
[90/05/17            emg]
[ ./netns/ns_if.h ]
Merged mt Xinu 2.6 MSD changes.
[90/05/17            emg]
[ ./netns/ns_input.c ]
Merged mt Xinu 2.6 MSD changes.
[90/05/17            emg]
[ ./netns/ns_ip.c ]
Merged mt Xinu 2.6 MSD changes.
[90/05/17            emg]
[ ./netns/ns_output.c ]
Merged mt Xinu 2.6 MSD changes.
[90/05/17            emg]
[ ./netns/ns_pcb.c ]
Merged mt Xinu 2.6 MSD changes.
[90/05/17            emg]
[ ./netns/ns_pcb.h ]
Merged mt Xinu 2.6 MSD changes.
[90/05/17            emg]
[ ./netns/ns_proto.c ]
Merged mt Xinu 2.6 MSD changes.
[90/05/17            emg]
[ ./netns/sp.h ]
Merged mt Xinu 2.6 MSD changes.
[90/05/17            emg]
[ ./netns/spidp.h ]
Merged mt Xinu 2.6 MSD changes.
[90/05/17            emg]
[ ./netns/spp_debug.c ]
Merged mt Xinu 2.6 MSD changes.
[90/05/17            emg]
[ ./netns/spp_debug.h ]
Merged mt Xinu 2.6 MSD changes.
[90/05/17            emg]
[ ./netns/spp_timer.h ]
Merged mt Xinu 2.6 MSD changes.
[90/05/17            emg]
[ ./netns/spp_usrreq.c ]
Merged mt Xinu 2.6 MSD changes.
[90/05/17            emg]
[ ./netns/spp_var.h ]
Merged mt Xinu 2.6 MSD changes.
[90/05/17            emg]
[ ./nfs/nfs.h ]
Merged mt Xinu 2.6MSD Changes.
[90/05/17  18:10:41  mrt]
[ ./nfs/nfs_subr.c ]
Removed include of vm_pager.h. It was for the obsolete non-
external pager interface.
[90/06/29            mrt]
   Merged mt Xinu 2.6MSD Changes.
   [90/05/17  18:10:48  mrt]
[ ./rfs/rfs.h ]
Merged mt Xinu 2.6MSD Changes.
[90/05/17  18:11:08  mrt]
[ ./rfs/rfs_descrip.c ]
Merged mt Xinu 2.6MSD Changes.
[90/05/17  18:11:30  mrt]
[ ./rfs/rfs_init.c ]
Merged mt Xinu 2.6MSD Changes.
[90/05/17  18:10:55  mrt]
[ ./rfs/rfs_subr.c ]
Changed unlocking in failure case in rfsCache, since the
previous code could cause a kernel panic.
[90/05/14            mrt]
[ ./rpc/rpc.h ]
Merged mt Xinu 2.6MSD Changes.
[90/05/17  18:12:02  mrt]
[ ./rpc/types.h ]
Merged mt Xinu 2.6MSD Changes.
[90/05/17  18:11:45  mrt]
[ ./specfs/bdev_vnodeops.c ]
Merged mt Xinu 2.6MSD Changes.
[90/05/17  18:12:18  mrt]
[ ./specfs/spec_vnodeops.c ]
Merged mt Xinu 2.6MSD Changes.
[90/05/17  18:12:10  mrt]
[ ./src/config/config.h ]
Merged mt Xinu 2.6MSD Changes.
[90/05/17  18:12:38  mrt]
[ ./src/config/main.c ]
Merged mt Xinu 2.6MSD Changes.
[90/05/17  18:13:14  mrt]
[ ./src/config/mkioconf.c ]
Merged mt Xinu 2.6MSD Changes.
[90/05/17  18:12:30  mrt]
[ ./src/config/mkswapconf.c ]
Merged mt Xinu 2.6MSD Changes.
[90/05/17  18:13:07  mrt]
[ ./sun/conf.c ]
Merged mt Xinu 2.6MSD Changes.
[90/05/17  18:13:45  mrt]
[ ./sun/dkio.h ]
Merged mt Xinu 2.6MSD Changes.
[90/05/17  18:13:30  mrt]
[ ./sun3/autoconf.c ]
Merged mt Xinu 2.6MSD Changes.
[90/05/17  18:14:48  mrt]
[ ./sun3/endian.h ]
Merged mt Xinu 2.6 MSD changes.
[90/05/17  18:14:34  mrt]
[ ./sun3/machdep.c ]
Merged mt Xinu 2.6MSD Changes.
[90/05/17  18:13:55  mrt]
[ ./sun3/machparam.h ]
Merged mt Xinu 2.6MSD Changes.
[90/05/17  18:14:42  mrt]
[ ./sun3/reg.h ]
Removed the special c_plusplus fixes for structure declarations
as c_plusplus now accepts the normal way of doing things
and gcc would't deal with the other way.
[90/05/23            mrt]
[ ./sun4/autoconf.c ]
Added cold flag to indicate to drivers if that a cold start
is is progres.
[90/06/06            mrt]
[ ./sun4/endian.h ]
Created to match the machine/endian.h files that BSD tahoe
expects.
[90/06/28            mrt]
[ ./sun4/machdep.c ]
Added the binit and bhinit calls before the attempt to read
the disklabel occurs.
[90/06/07            mrt]
[ ./sun4/machparam.h ]
Added some defines from BSD 4.4
[90/06/05            mrt]
[ ./sundev/mti.c ]
Merged mt Xinu 2.6MSD Changes.
[90/05/17  18:14:55  mrt]
[ ./sundev/sc_conf.c ]
Merged mt Xinu 2.6MSD Changes.
[90/05/17  18:15:05  mrt]
[ ./sundev/scsi.h ]
Merged mt Xinu 2.6MSD Changes.
[90/05/17  18:15:40  mrt]
[ ./sundev/sd.c ]
Merged mt Xinu 2.6MSD Changes.
[90/05/17  18:15:25  mrt]
[ ./sundev/sdreg.h ]
Merged mt Xinu 2.6MSD Changes.
[90/05/17  18:15:46  mrt]
[ ./sundev/xy.c ]
New changes from Mt Xinu to put disk label buffer in the place
where it used to be.
[90/06/19            mrt]
[ ./sundev/xy_conf.c ]
Merged mt Xinu 2.6MSD Changes.
[90/05/17  18:16:30  mrt]
[ ./sundev/xycom.h ]
Merged mt Xinu 2.6MSD Changes.
[90/05/17  18:16:18  mrt]
[ ./sundev/xyvar.h ]
Merged mt Xinu 2.6MSD Changes.
[90/05/17  18:16:09  mrt]
[ ./sunif/if_subr.c ]
Merged mt Xinu 2.6MSD Changes.
[90/05/17  18:16:37  mrt]
[ ./sys/buf.h ]
Merged mt Xinu 2.6MSD Changes.
[90/05/17  17:36:12  mrt]
[ ./sys/disklabel.h ]
Merged mt Xinu 2.6 MSD changes.
[90/05/17            emg]
[ ./sys/dkstat.h ]
Merged mt Xinu 2.6 MSD changes.
[90/05/17  18:18:15  mrt]
[ ./sys/inode.h ]
Added an inode type for the Coda file system.
[90/05/23            dcs]
[ ./sys/ioctl.h ]
Added rel5 multicast code from Stanford.
[90/06/28            jjk]

Merged mt Xinu 2.6MSD Changes.
[90/05/17  18:18:21  mrt]
[ ./sys/mbuf.h ]
Added rel5 multicast code from Stanford.
[90/06/28            jjk]
[ ./sys/param.h ]
Merged mt Xinu 2.6MSD Changes.
[90/05/17  18:17:23  mrt]
[ ./sys/reboot.h ]
Merged mt Xinu 2.6MSD Changes.
[90/05/17  18:17:14  mrt]
[ ./sys/syslog.h ]
Merged mt Xinu 2.6 MSD changes.
[90/05/17            emg]
[ ./sys/tty.h ]
Merged mt Xinu 2.6MSD Changes.
[90/05/17  18:17:32  mrt]
[ ./vax/autoconf.c ]
Merged mt Xinu 2.6MSD Changes.
[90/05/17  18:21:27  mrt]
[ ./vax/cpu.h ]
Merged mt Xinu 2.6MSD Changes.
[90/05/17  18:18:31  mrt]
[ ./vax/emulate.s ]
Merged mt Xinu 2.6 MSD changes.
[90/05/17  18:19:36  mrt]
[ ./vax/endian.h ]
Merged mt Xinu 2.6 MSD changes.
[90/05/17  18:19:51  mrt]
[ ./vax/genassym.c ]
Merged mt Xinu 2.6MSD Changes.
[90/05/17  18:18:36  mrt]
[ ./vax/ka650.h ]
Merged mt Xinu 2.6MSD Changes.
[90/05/17  18:18:42  mrt]
[ ./vax/locore.s ]
Merged mt Xinu 2.6MSD Changes.
[90/05/17  18:21:08  mrt]
[ ./vax/machdep.c ]
Merged mt Xinu 2.6MSD Changes.
[90/05/17  18:18:48  mrt]
[ ./vax/machparam.h ]
Merged mt Xinu 2.6MSD Changes.
[90/05/17  18:19:57  mrt]
[ ./vax/mscp.c ]
Merged mt Xinu 2.6 MSD changes.
[90/05/17            emg]
[ ./vax/mscp.h ]
Merged mt Xinu 2.6 MSD changes.
[90/05/17            emg]
[ ./vax/mscpvar.h ]
Merged mt Xinu 2.6 MSD changes.
[90/05/17            emg]
[ ./vax/tmscp.h ]
Merged mt Xinu 2.6 MSD changes.
[90/05/17            emg]
[ ./vaxif/if_de.c ]
Added rel5 multicast code from Stanford.
[90/06/28            jjk]
[ ./vaxif/if_qe.c ]
Added rel5 multicast code from Stanford.
[90/06/28            jjk]
[ ./vaxif/if_qereg.h ]
Added rel5 multicast code from Stanford.
[90/06/28            jjk]
[ ./vaxmba/hp.c ]
Merged mt Xinu 2.6 MSD changes.
[90/05/17            emg]
[ ./vaxmba/hpreg.h ]
Merged mt Xinu 2.6 MSD changes.
[90/05/17            emg]
[ ./vaxmba/ht.c ]
Merged mt Xinu 2.6 MSD changes.
[90/05/17            emg]
[ ./vaxmba/htreg.h ]
Merged mt Xinu 2.6 MSD changes.
[90/05/17            emg]
[ ./vaxmba/mba.c ]
Merged mt Xinu 2.6MSD Changes.
[90/05/17  18:22:40  mrt]
[ ./vaxmba/mbavar.h ]
Merged mt Xinu 2.6MSD Changes.
[90/05/17  18:21:35  mrt]
[ ./vaxmba/mt.c ]
Merged mt Xinu 2.6 MSD changes.
[90/05/17            emg]
[ ./vaxmba/mtreg.h ]
Merged mt Xinu 2.6 MSD changes.
[90/05/17            emg]
[ ./vaxnb/biconf.c ]
Merged mt Xinu 2.6MSD Changes.
[90/05/17  18:23:09  mrt]
[ ./vaxnb/node.h ]
Merged mt Xinu 2.6MSD Changes.
[90/05/17  18:22:48  mrt]
[ ./vaxnb/vaxmp.c ]
Merged mt Xinu 2.6MSD Changes.
[90/05/17  18:22:57  mrt]
[ ./vaxuba/dmf.c ]
Merged mt Xinu 2.6MSD Changes.
[90/05/17  18:23:52  mrt]
[ ./vaxuba/dz.c ]
Merged mt Xinu 2.6MSD Changes.
[90/05/17  18:23:58  mrt]
[ ./vaxuba/qd.c ]
Merged mt Xinu 2.6MSD Changes.
[90/05/17  18:23:18  mrt]
[ ./vaxuba/qv.c ]
Merged mt Xinu 2.6MSD Changes.
[90/05/17  18:23:39  mrt]
[ ./vaxuba/rk.c ]
Merged mt Xinu 2.6 MSD changes.
[90/05/17            emg]
[ ./vaxuba/tmscp.c ]
Merged mt Xinu 2.6 MSD changes.
[90/05/17            emg]
[ ./vaxuba/tmscpreg.h ]
Merged mt Xinu 2.6 MSD changes.
[90/05/17            emg]
[ ./vaxuba/uba.c ]
Merged mt Xinu 2.6MSD Changes.
[90/05/17  18:25:10  mrt]
[ ./vaxuba/ubareg.h ]
Merged mt Xinu 2.6MSD Changes.
[90/05/17  18:24:26  mrt]
[ ./vaxuba/ubavar.h ]
Merged mt Xinu 2.6MSD Changes.
[90/05/17  18:24:19  mrt]
[ ./vaxuba/uda.c ]
Merged mt Xinu 2.6 MSD changes.
[90/05/17  18:24:44  mrt]
[ ./vaxuba/udareg.h ]
Merged mt Xinu 2.6 MSD changes.
[90/05/17            emg]
[ ./vfs/inode_macros.h ]
Merged mt Xinu 2.6MSD Changes.
[90/05/17  18:26:09  mrt]
[ ./vfs/pathname.h ]
Merged mt Xinu 2.6MSD Changes.
[90/05/17  18:26:25  mrt]
[ ./vfs/vfs.h ]
Added a file system type for the Coda file system.
[90/05/23            dcs]
[ ./vfs/vfs_conf.c ]
Added VFS and Vnode entry points for the Coda file system.
[90/05/23            dcs]
[ ./vfs/vfs_lookup.c ]
Merged mt Xinu 2.6MSD Changes.
[90/05/17  18:26:03  mrt]
[ ./vfs/vfs_pathname.c ]
Merged mt Xinu 2.6MSD Changes.
[90/05/17  18:26:20  mrt]
[ ./vm/memory_object.c ]
Reject attempts to pagein partial pages.

Modify page stealing code to deal with multi-page pageins.
Add annoying printf for pager_cache.
Purge MACH_XP_FPD.

Modify page stealing code to deal with memory shortages.
Precious pages are returned to the manager w/o changing postion
on the pageout queues.  Non-precious pages are freed.

Gut memory_object_data_provided, and replace by calling
memory_object_data_supply.

Remove vm_map_copy_discard operations done by ipc code.  Add
discard argument (FALSE) to vm_map_copyout to tell it not
to discard copies.

First version of page-stealing code.  Also remove erroneous free
of fictitious page in memory_object_data_provided.  Remove
memory_object_debug code.

Add memory_object_data_supply.  Still needs page stealing code.
Use careful_copy_to_physical_page in memory_object_data_provided.
Remove pager_data_provided_inline.

Support precious pages in memory_object_lock_request.  Note that
flushing by itself drops their contents on the floor; cleaning
and flushing returns clean precious pages to the manager (as
well as any dirty pages).

Pick up new version of memory_object_lock_request from pure
kernel to get "clean without flush" functionality.  This also
sends pages to pager in contiguous chunks.  Also convert
vm_set_default_memory_manager to use the privileged host post.
[90/06/29            dlb]
[ ./vm/vm_fault.c ]
Add flush argument to vm_pageout_page.
[90/06/11            dlb]
[ ./vm/vm_init.c ]
Remove !MACH_XP code.
[90/06/28            dlb]
[ ./vm/vm_kern.c ]
Purge MACH_XP_FPD.
[90/06/27            dlb]
Replace copy_user_to_physical_page with careful_copy_to_physical
page.  Latter routine can copy from either kernel or user space
to physical memory and catch unrecoverable page faults.
[90/06/14            dlb]
[ ./vm/vm_kern.h ]
Add careful_copy_to_physical_page.
[90/06/14            dlb]
[ ./vm/vm_map.c ]
Add vm_map_copy_entry_delete.
Purge MACH_OLD_VM_COPY.  Minor optimization to vm_map_copyin.

Change vm_map_copyout, vm_map_copy_insert, and
vm_map_copy_overwrite to use a parameter to decide whether
to destroy copy.  Corresponding change to vm_map_fork.

Have vm_map_copyin mark each entry in the copy as single_use
or not.  single_use == TRUE is only reliable for temporary
objects; it must be rechecked for permanent ones.  If it's
FALSE, there is some other use of the object.
[90/06/26            dlb]

Pick up pure kernel optimization to vm_map_copyin that tries to
avoid making a copy if the source of the copy is being destroyed.
From dbg.  Also make sure a copy is never wired.
[90/06/20            dlb]
Fix vm_map_fork() to take out a sharing map reference for each
shared region in the parent map, not just the first.  Found by
Dave Bohman (bohman+@andrew.cmu.edu).
[90/06/07            dlb]
[ ./vm/vm_map.h ]
Purge MACH_OLD_VM_COPY.
[90/06/26            dlb]
Add single_use field to map entries for use in map copies.
See vm_map_copyin.
[90/06/20            dlb]
[ ./vm/vm_object.c ]
Support precious pages in vm_object_terminate.
[90/06/29            dlb]
New version of vm_object_pmap_protect from pure kernel to fix
a couple of bugs: range check for pmap_protect was wrong, and
if removing all access, must also do so for shadows.
[90/06/12            dlb]
Pass flush argument to vm_pageout_page.
[90/06/11            dlb]
[ ./vm/vm_page.h ]
Add precious bit.
[90/06/26            dlb]
[ ./vm/vm_pageout.c ]
Add precious functionality.  A precious page must be paged back
to its manager even if it is clean.
[90/06/13            dlb]
Pick up pure kernel version of vm_pageout_page to get "clean
without flush" functionality.  Bug fix to that version of
vm_pageout_page; must pick up object lock at end.
[90/06/11            dlb]
[ ./vm/vm_pageout.h ]
Add vm_pageout_setup declaration.
[90/06/11            dlb]
[ ./vm/vm_resident.c ]
Add init of precious bit and other bits to vm_page_template.
[90/06/13            dlb]
Pick up pure kernel changes: make vm_page_free handle wired
count correctly.  Make vm_page_deactivate work on pages that
aren't active.  Also increase number of kernel map entries.
[90/06/11            dlb]
Reserved more virtual addresses in vm_page_startup for the
vm_page_array. The sun may call vm_page_create after autoconf
to give back some physical memory and may need those addresses.
[90/06/19            mrt]
[ ./vm/vm_unix.c ]
Remove priority init from procdup.  Now done in thread_create.
From Gregg Kellogg at NeXT.
[90/05/08            dlb]
[ ./vm/vm_user.c ]
Add discard argument to vm_map_copy_overwrite calls.
[90/06/21            dlb]
[ ./ca/rdb.h ]
Increased RDB_SYMLEN to cover the addition of hte
kernel_monitor to EXP
[90/07/03            mrt]
[ ./cfs/cfs.h ]
Changed message size back to 4k. Also changed VC_MAXDATASIZE to reflect
the xdr implementation of treating shorts (2 bytes) as longs (4 bytes).
[90/05/23            dcs]

Added constants to support READDIR, IOCTL, and RDWR messages 
in an effort to compensate for the VFS exec bogusity.
[90/05/23            dcs]

Created for the Coda File System.
[90/05/23            dcs]
[ ./cfs/cfs_namecache.c ]
Created for the Coda File System.
[90/05/23            dcs]
[ ./cfs/cfs_subr.c ]
Initialize name cache on first call to vcopen.
[90/05/23            dcs]

Created for the Coda File System.
[90/05/23            dcs]
[ ./cfs/cfs_vfsops.c ]
Created for the Coda File System.
[90/05/23            dcs]
[ ./cfs/cfs_vnodeops.c ]
Added switch to turn off access check in the name cache.
[90/05/23            dcs]

Added symbolic link cache. Fixed bug in handling exec reads and writes.
[90/05/23            dcs]

Created for the Coda File System.
[90/05/23            dcs]
[ ./cfs/cfs_xdr.c ]
Created for the Coda File System.
[90/05/23            dcs]
[ ./cfs/cfsio.h ]
Created for the Coda File System.
[90/05/23            dcs]
[ ./cfs/cfsmount.c ]
Created
[90/07/05  10:14:37  mrt]
[ ./cfs/cfsnc.h ]
Created for the Coda File System.
[90/05/23            dcs]
[ ./cfs/cfsnc_print.c ]
Created for Coda file system
[90/07/05  10:15:18  mrt]
[ ./cfs/cfsnc_resize.c ]
Created for Coda file system
[90/07/05  10:15:39  mrt]
[ ./cfs/cfsncstat.c ]
Created for Coda file system.
[90/07/05  10:16:20  mrt]
[ ./cfs/cfsunmount.c ]
Created for Coda file system.
[90/07/05  10:17:20  mrt]
[ ./cfs/cnode.h ]
Created for the Coda File System.
[90/05/23            dcs]
[ ./cfs/dtc.c ]
Created for the Coda File System.
[90/05/23            dcs]
[ ./cfs/dtcdiv.s ]
Created for the Coda File System.
[90/05/23            dcs]
[ ./cfs/dtcreg.h ]
Created for the Coda File System.
[90/05/23            dcs]
[ ./cfs/pioctl.c ]
Created for the Coda file system.
[90/07/05            dcs]
[ ./cfs/ramd.c ]
Created for the Coda File System.
[90/05/23            dcs]
[ ./cfs/ramdio.h ]
Created for the Coda File System.
[90/05/23            dcs]
[ ./conf/MASTER.mips ]
Removed EXP from all the configurations. If you want EXP build 
with +EXP. Left pm included.
[90/07/05            mrt]
[ ./vax/conf.c ]
Merged mt Xinu 2.6MSD Changes.
[90/05/17  18:20:59  mrt]
[ ./netinet/if_ether.c ]
Added rel5 multicast code from Stanford.
[90/06/28            jjk]

Merged mt Xinu 2.6 MSD changes.
[90/05/17            emg]
[ ./vm/memory_object.c ]
Fix bugs and improve handling of paging references in
memory_object_lock_request.
[90/07/03            dlb]
Reject attempts to pagein partial pages.
Modify page stealing code to deal with multi-page pageins.
Add annoying printf for pager_cache.

Purge MACH_XP_FPD.
Precious pages are returned to the manager w/o changing postion
on the pageout queues.  Non-precious pages are freed.

Gut memory_object_data_provided, and replace by calling
memory_object_data_supply. 

Remove vm_map_copy_discard operations done by ipc code.  Add
discard argument (FALSE) to vm_map_copyout to tell it not
to discard copies.

First version of page-stealing code.  Also remove erroneous free
of fictitious page in memory_object_data_provided.  Remove
memory_object_debug code.

Add memory_object_data_supply.  Still needs page stealing code.
Use careful_copy_to_physical_page in memory_object_data_provided.
Remove pager_data_provided_inline.

Support precious pages in memory_object_lock_request.  Note that
flushing by itself drops their contents on the floor; cleaning
and flushing returns clean precious pages to the manager (as
well as any dirty pages).

Pick up new version of memory_object_lock_request from pure
kernel to get "clean without flush" functionality.  This also
sends pages to pager in contiguous chunks.  Also convert
vm_set_default_memory_manager to use the privileged host post.
[90/06/11            dlb]
[ ./vm/memory_object.c ]
Bug fix to make multiple entry page stealing work.
[90/07/05            dlb]
[ ./bsd/tty.c ]
Restored return of -1 in ttioctl().  This indicates to the device 
driver that the tty driver is incapable of doing the ioctl at
this level.
[90/04/17            berman]
[ ./mips/PMAX/dc_tty.c ]
Added definition of ncons to initialize to 1 physical console.
[90/05/14            berman]
Added pm_video_on() inside cnpollc() to force screen on
whenever entering or leaving polled mode.
[90/05/04            berman]
[ ./mips/PMAX/if_ln.c ]
Removed debugging console printf.
[90/05/21            berman]
[ ./mips/PMAX/pm_lk201.c ]
Added pm_allow_kdb patchable variable to disable kdb
invocation with the "Do" key.  Set to 1 to allow keyboard
kdb trap.
[90/05/14            berman]
[ ./ultrix/tmscp.c ]
Added VAX_650 to tmscpslave() test to allow tape drive on uVax-III
[90/05/08            berman]
[ ./vax/Locore.c ]
Removed UNI1vec definition.  Obsoleted by companion changes in
locore.s
[90/04/17            berman]
[ ./vax/autoconf.c ]
Rearranged allocation of uhp->uh_vec and vec_offset in
unifind() to handle NUBA unibuses and DWBUA correctly. 
[90/04/17            berman]
[ ./vax/scb.s ]
Eliminated UNI1vec and made UNIvec last NUBA * 512 bytes to
allow sufficient static allocation for all the unibuses.
[90/04/17            berman]
Eliminated UNI1vec and made UNIvec last NUBA * 512 bytes to
allow sufficient static allocation for all the unibuses.
[90/04/17            berman]
[ ./vaxuba/ubavar.h ]
Remove UNI1vec declaration.
[90/04/17            berman]
[ ./mips/PMAX/scsi_data.c ]
Picked up the following changes from CS7e
Shortened name to match on Hitachi DK312C as well.
	Added TTI tape drive entry.  Shortened string to match HP-793 
	since the model revision number keeps changing.  This way
	any revision will still match the first characters of the id
	string.  Changes by berman.
[90/07/06            mrt]
[ ./mach/machine.h ]
Added changes for Sun 4/330.
[90/05/07            jjc]
[ ./sys/mtio.h ]
Merged in more stuff for Sun tape drives from SunOS 4.0.3.
[90/05/28            jjc]
[ ./conf/buildconf.mips ]
Added STD+WS+EXP configuration
[90/07/09            mrt]
[ ./vm/memory_object.c ]
	Bug fix to memory_object_lock_request to avoid corrupting
	offsets for pageout.  Found by rwd.
[90/07/20            dlb]
[ ./mach/mach_host.defs ]
Delete thread_depress_abort.  Subsumed by thread_abort.
[90/07/16            dlb]
Convert host_processor_sets to non-privileged form: return name
ports given host port instead of returning control ports given
privileged host port.
[90/07/13            dlb]
[ ./mach/mach_types.defs ]
Add processor_set_name_array_t to replace processor_set_array_t.
[90/07/13            dlb]
Add monitor types.
[90/06/29            dlb]
[ ./mach/mach_types.h ]
processor_set_array_t --> processor_set_name_array_t.
[90/07/13            dlb]
[ ./kern/host.c ]
Convert host_processor_sets to unprivileged version -
return name ports given host port instead of returning
control port given privileged host port.
[90/07/13            dlb]
[ ./kern/processor.h ]
processor_set_array_t --> processor_set_name_array_t.
[90/07/13            dlb]
[ ./kern/thread.c ]
Add depression abort functionality to thread_abort.
[90/07/16            dlb]
Add max_priority init to kernel_thread().
[90/06/20            dlb]
Initialize priority and do first priority computation in
thread_create.  Default maximum priority to BASEPRI_USER
instead of current pset maximum; override still occurs if
pset maximum is lower.  Suggested by Gregg Kellogg at NeXT.
Take priority inits out of thread template.  Remove in transit
check from thread_max_priority.
[90/05/08            dlb]
[ ./kern/ipc_copyout.c ]
Change error printf to distinguish internal and normal cases if data
cannot be inserted into target map.
[90/07/05            dlb]
[ ./conf/MASTER ]
Added comments to define the km and CODA options.
[90/07/20            mrt]
[ ./conf/MASTER.local ]
Took km and CODA out of EXP here so that they could be
included in EXP in a machine dependent fashion. CODA is
wanted only on rt and pmax kernels, km on mmax, vax and sun3
kernels.
[90/07/20            mrt]
[ ./conf/MASTER.sun3.local ]
Defined EXP configuration to include kernel monitoring hooks.
[90/07/20            mrt]
[ ./conf/MASTER.vax.local ]
Defined EXP configuration to include kernel monitoring hooks.
[90/07/20            mrt]
[ ./conf/MASTER.ca.local ]
Added CODA to EXP configuration.
[90/07/20            mrt]
[ ./conf/MASTER.mips.local ]
Included both kernel monitoring and CODA filesystem support
in EXP config.
[90/07/20            mrt]
[ ./conf/MASTER.mmax.local ]
Defined EXP configuration to include kernel monitoring hooks.
[90/07/20            mrt]
[ ./builtin/old_pager.c ]
Added a few missing declarations.
[90/07/05            mrt]
[ ./sun3/movc.s ]
It's back and working this time.  New bcopy and ovbcopy.
[90/05/07            rwd]
[ ./builtin/old_pager.c ]
20-Jul-89 Mary Thompson (mrt)
	Added a few missing declarations.
[ ./mach/monitor.defs ]
Move monitor types to mach_types.defs.
[90/06/29            dlb]
[ ./kern/host.c ]
Fixed one more processor_set_array_t ->
processor_set_name_array_t
[90/07/20            mrt]
[ ./ca/rdb.h ]
Changed dependcy on MACH_CFS to NMACH_CFS as that
is what mach_cfs.h defines.
[90/07/24            mrt]
[ ./specfs/spec_subr.c ]
Removed static from stable declaration for debugging and bug
disappeared.
[90/07/24            mrt]
[ ./sun3/pmap.c ]
Changed pmap_init() to include the frame buffer in the
physical memory that we manage.
[90/07/24            jjc]
[ ./conf/MASTER.vax ]
Add hp12-hp15.
[90/05/02  15:13:40  mja]

Add de1 second DEUNA at 164100. 
[90/05/01  15:30:26  mja]
[ ./Directories/ALL ]
Added cfs directory for CODA files
[90/07/25            mrt]
[ ./Directories/MI ]
Added cfs directory for CODA files
[90/07/25            mrt]
[ ./vm/old_pageout.c ]
This file is no longer used.

[ ./vm/vm_pager.c ]
This file is no longer used

[ ./vm/vm_pager.h ]
This file is no longer used

[ ./vaxuba/uda_umd.c ]
uda.c is now the Chris Torek driver as released by
Berkely 4.3 Reno. This file is no longer used.


[ ./vaxuba/uda.c ]
Corrected Sector, track and cylinder information for the ra81s
disk. Changed udamaptype to match on just media id and size if the other
information didn't match.
[90/07/26            mrt]
[ ./cfs/cfs_vnodeops.c ]
    Fixed fix to rename to remove .. from moved directories.
[90/06/28            dcs]
[ ./UpdateSet ]
Version 5.1(X126)

----- X125 -----
[ ./conf/version.edit ]
125
[ ./sys/syslog.h ]
Added LOG_NEWS facility.
[90/04/13            cap]
[ ./sys/exec.h ]
Picked up changes for exec header for Suns, splitting machine type
short field into two character fields.
[90/04/17  21:11:41  jjc]

Added definition of M_SPARC.
[90/04/17            jjc]
[ ./bsd/init_sysent.c ]
Changed "#ifndef mips" around wait() to "#if defined(multimax) ||
defined(ibmrt) || defined(balance) || defined(vax) || defined(sun3) ||
defined(i386)", so the machine independent version of wait() is used
unless otherwise specified.
[90/03/01            jjc]
[ ./bsd/kern_exit.c ]
Changed "#ifndef mips" around wait() to "#if defined(multimax) ||
defined(ibmrt) || defined(balance) || defined(vax) || defined(sun3) ||
defined(i386)", so the machine independent version of wait() is used
unless otherwise specified.
[90/03/01            jjc]
[ ./conf/files.sun4 ]
Removed line for sun4/BINARY/zs_asm.b and added line for
sun4/zs_asm.s, since we have source now.
[90/04/15            jjc]
[ ./sun3/locore.s ]
Changed Mach emulation code in syscall() to skip FPA
exception code on return to user.
[90/04/03            jjc]
[ ./sun3/machdep.c ]
Modified code in startup() that gives back frame buffer memory
to work for the SunOS 4.0 boot program which loads big kernels
around the frame buffer.
Moved warning that kernel overlaps frame buffer and changed it
to panic if the frame buffer is really going to be used and the
kernel has been loaded on top of it.
[90/04/23            jjc]
[ ./sun3/sun_init.c ]
Always set address of first available physical page to be
above Sun 3/50 frame buffer.  We'll return the memory later
if this isn't a Sun 3/50.
[90/04/23            jjc]
[ ./sun4/kdb.c ]
Added call to stopnmi() to kdb_trap().
Changed kdb{r,w}long() to be able to read from and write to
unaligned addresses.
[90/04/10            jjc]
[ ./sun4/locore.s ]
Added INCLUDE_VERSION definition.
Conditionalized saving and restoring outs in sys_trap() and
sys_rtt() on MACH_KDB instead of DEBUG.
[90/04/03            jjc]
[ ./sun4/machdep.c ]
Added Joe Barrera's Sun 3 changes to make the mbufs and
buffer pool accessable to the Ethernet chips.
	Updated ether_kmem_suballoc() to use vm_submap_object.
[90/03/16            jjc]
[ ./sun4/trap.c ]
Really added check for thread termination after AST.
[90/03/06            jjc]
[ ./sun4/vmparam.h ]
Changed MAX{T,D,S}SIZ to be in bytes not clicks!
[90/02/28            jjc]
[ ./sun4/zs_asm.s ]
Picked up from SunOS 4.0.3.
[90/04/15            jjc]
[ ./sundev/zs_async.c ]
Picked up changes from SunOS 4.0.3 that add delays to
various routines.
[90/04/15            jjc]
[ ./sundev/zs_common.c ]
Needed definition of zsNcurr from SunOS 4.0.3 for
sun4/zs_asm.s.
Picked up changes from SunOS 4.0.3 that add delays to
various routines.
[90/04/15            jjc]
[ ./sundev/zscom.h ]
Picked up definition of ZSDELAY() from SunOS 4.0.3.
[90/04/15            jjc]
[ ./conf/buildconf.sun4 ]
	Created from buildconf.sun3.
[90/04/30            jjc]
[ ./conf/buildconf.sun4 ]
Just make one configuration.
[90/04/30  15:18:05  jjc]
[ ./sun3/movc.s ]
Backed out Randy Dean's new versions of bcopy() and ovbcopy() until the
bug associated with it is found.
[90/05/01  14:45:30  jjc]
[ ./UpdateSet ]
Version 5.1(X125)

----- X124 -----
[ ./conf/version.edit ]
124
[ ./bsd/cmu_syscalls.c ]
In the TBL_UAREA case of table(), don't hold the task lock
across the call to fake_u because the u-area is being faked in
pageable memory (may fault and block for pages).  Use references
to the task and thread instead.  Found by Encore (boykin@encore.com).
[90/03/26            dlb]
[ ./bsd/kern_descrip.c ]
Split closef() into closef() and freefp().  The latter is called
by the former and by routines that need to free a file pointer
that has not been fully initialized (due to open errors, etc.)
Fix from Mike Kupfer (kupfer@orc.olivetti.com).
[90/03/26            dlb]
[ ./bsd/kern_prot.c ]
Add assertion statment to free_identity to catch reference
botches.  Suggested by Mike Kupfer (kupfer@orc.olivetti.com).
[90/03/26            dlb]
[ ./bsd/ufs_syscalls.c ]
Use freefp instead of decrementing count in f_open because fp
may have to be cleaned up.  Fix from kupfer@orc.olivetti.com.
[90/03/26            dlb]
[ ./bsd/uipc_syscalls.c ]
Use freefp instead of zeroing f_count because cleanup is more
complicated.  Fix from kupfer@orc.olivetti.com.
[90/03/26            dlb]
[ ./builtin/inode_pager.c ]
Increment is->errors if pf_bmap(is, offset, B_WRITE) fails
(returns -1).  This fixes the reincarnation of the bug that
causes the system to return zero-filled memory when it runs out
of paging space.  Fix suggested by rpd.
[90/03/26            dlb]
[ ./kern/kernel_monitor.c ]
Add half-megabyte limit to monitor buffer size.  Add
do_monitor_scan for garbage collection.  Return port from
monitor_create instead of monitor so newly created monitors
don't look like garbage.  Inline all_monitor queue manipulation.
Clean up comment formatting.
[90/02/08            dlb]
[ ./kern/sched.h ]
Bug fix to MACH_FIXPRI version of csw_needed.  This should
really be looked up in some sort of scheduling policy vector as
the current macro is really ugly and will get worse as more
policies are added.
[90/02/08            dlb]
[ ./kern/sched_prim.c ]
Only call do_pset_scan() under MACH_HOST conditional.  From rpd.
[90/03/16            dlb]
Macro elimination by popular demand: set_pri, update_priority,
and compute_my_priority are no longer macros.  Inlined instance
of compute_my_prioirity in update_priority.  Flushed sched_debug
code; anyone who needs this should use XPR.  Converted a couple
of panics in critical routines to assert statements.
[90/03/15            dlb]
Add do_monitor_scan kickoff to sched_thread.
[90/02/08            dlb]
Check for processor set mismatch when running same thread in
thread_block().
[90/02/08            dlb]
Record last processor information on all multiprocessors instead
of just for HW_FOOTPRINT option.
[90/01/18            dlb]
[ ./kern/thread.c ]
Use interprocessor interrupt in thread_dowait() to speed things
up in common case of suspending a running thread.
[90/01/18            dlb]
[ ./kern/thread.h ]
Change last_processor field  conditional to to NCPUS > 1
from HW_FOOTPRINT.
[90/01/18            dlb]
[ ./kern/timer.c ]
Convert timer_grab to a real routine instead of a macro by
popular demand.  It's not in any critical paths.
[90/03/15            dlb]
#ifdef out trap, interrupt, and switch routines for multimax.
These have been moved to inline assembly language for speed.  See
mmax/timer_macros.h and mmax/inline/multimaxpats.c.
[90/01/05            dlb]
[ ./mach/monitor.defs ]
Under KERNEL_SERVER, pass the out argument of monitor_create as a
port_t.  It's really a monitor_t, but monitor_create has to do
the conversion internally to prevent the monitor from appearing
to be garbage.  This isn't pretty.
[90/02/08            dlb]
[ ./mmax/genassym.c ]
Add timer related offsets for inlining timer code in assembly
language.
[90/01/05            dlb]
[ ./mmax/inline/multimaxpats.c ]
Add timer_switch.  Inlining this removes 6 instructions from
the context switch path.
[90/01/05            dlb]
[ ./mmax/locore.s ]
Make unexpected interrupt handler really call hw_isr.
[90/02/17            dlb]
Remove extra GETCPUID from acall trap handler.  Branch to
rett_uast instead of rett_ast in cases where return must be to
user mode.
[90/01/18            dlb]
Fix interrupt state handling for abt.  Remove unneeded tbitb
instruction from ENTER_INTERRUPT.
[90/01/15            dlb]
Add labels to TIME macros for inline assembly language.  See
timer_macros.h.
[90/01/05            dlb]
[ ./mmax/machdep.c ]
Up size of user_pt_map to 16 Meg.  This really ought to be some
portion of the physical memory size.  Also clean up some comments.
[90/02/09            dlb]
[ ./mmax/mlmacros.h ]
Use r6 instead of r3 to hold interrupt state.  New timing macros
clobber r0-r4.  Also protect from multiple includes.
[90/01/15            dlb]
[ ./mmax/phys.c ]
Remove call to vm_map_verify_done in grab_phys_page.  This
should only be called after a preceding call to vm_map_verify.
Found by Sue LoVerso (sue@encore.com).
[90/03/12            dlb]
[ ./mmax/pmap.c ]
Resize pmap zone to 1000 pmaps.
[90/02/09            dlb]
[ ./mmax/timer_macros.h ]
Just use PSR_I in psr to disable interrupts instead of monkeying
with ICU under MMAX_APC and MMAX_SAFE_ICU.
[90/01/15            dlb]

Major rewrite to perform all timer manipulation inline instead
of calling C language subroutines.
[90/01/04            dlb]
[ ./sysV/aouthdr.h ]
Allow multiple includes.
[90/03/16  18:36:32  dlb]

Update to latest Encore version; more ns32000 flag defs.
[90/03/16            dlb]
[ ./sysV/filehdr.h ]
Allow multiple includes.
[90/03/16  18:36:51  dlb]

Update from Encore: Multimax flags.
[90/03/16            dlb]
[ ./sysV/scnhdr.h ]
Allow multiple includes.
[90/03/16  18:37:23  dlb]

Update from Encore: more section definitions.
[90/03/16            dlb]
[ ./vfs/inode_macros.h ]
Remove MACH_RFS dependency by providing version of
LOOKUP_EXECVE_NAME and LOOKUP_SHELL_NAME that call lookuppn
instead of rlookuppn if MACH_RFS is off.  This ought to be done
in bsd/kern_exec.c, but that would introduce a VFS dependency.
[90/03/26            dlb]
[ ./vm/vm_kern.c ]
Use vm_submap_object in kmem_suballoc.
[90/03/27            dlb]
[ ./vm/vm_map.c ]
Declare vm_submap_object.  It's a placeholder to make sure memory
allocated for a submap is not coalesced.  Check for it and
related conditions in vm_map_submap.
[90/03/27            dlb]
Bump map zone size to 128k. 
[90/02/18            dlb]
Change vm_map_fork to create at most one sharing map for each
map that is forked.  This fixes problem whereby a fork of
a task with lots of shared memory could exhaust the map zone.
[90/02/08            dlb]
[ ./vm/vm_map.h ]
Declare vm_submap_object for use with vm_map_submap.
[90/03/27            dlb]
[ ./vm/vm_object.c ]
Declare storage for and initialize submap object for vm_map module.
[90/03/27  17:39:15  dlb]
[ ./vm/vm_unix.c ]
Clear uu_rfscode in procdup so RFS doesn't think the new thread is
in fork when it starts executing.  This fixes a problem
that could cause core dumps to be attempted in RFS directories
under MACH_VFS.

XXX This fix works because the name lookup code that can transfer
XXX into RFS is paranoid about checking u.u_rfscode in addition to
XXX its okremote argument.  The right fix is to convince core() to
XXX do a name lookup with okremote = 0, but that impacts vn_create.
[90/03/08            dlb]
[ ./afs/afs_cache.c ]
More afs_GetDownD and afs_CheckSize fixes.  Use reserved value
(AFS_GETDOWND_SLOT_ONLY = -1) to tell afs_GetDownD that only
slots are needed instead of setting ablocks to zero.  Fix afs_CheckSize
to pass zero (requesting complete cache flush) instead of a negative
number if the cache size comes up negative.  Change printf at end of
afs_GetDownD to complain about incomplete flush instead of cache size
over limit if flush was requested.
[90/03/28            dlb]
[ ./kern/ipc_tt.c ]
Update to X123.
[90/03/16  17:02:24  dlb]
[ ./kern/ipc_tt.c ]
Take out extra reference on created monitor port to deal with
garbage collection problem.
[90/02/08            dlb]
[ ./kern/ipc_tt.c ]
Take out extra reference on created monitor port to deal with
garbage collection problem.
[90/02/08            dlb]
[ ./kern/ipc_copyin.c ]
Fixed vm_map_copyin call to correctly handle zero-sized OOL regions.
Changed in concert with vm_map_copy fixes.
[90/03/28            rpd]
[ ./vm/vm_map.c ]
Fixed vm_region so that it doesn't treat sub-map entries (only
found in the kernel map) as regular entries.  Instead, it just
ignores them and doesn't try to send back an object_name reference.
[90/03/23            gk]

Bug fixes for vm_map_copy technology.  Handle null copy objects
and zero-sized regions correctly.  In vm_map_copy_overwrite,
check for null object pointers and corrected hole-checking so
that overwrites of multiple entries work.
[90/03/28            rpd]
[ ./sun3/machdep.c ]
Updated ether_kmem_suballoc to use vm_submap_object.
[90/03/30            rpd]
[ ./UpdateSet ]
Version 5.1(X124)

----- X122 -----
[ ./conf/version.edit ]
122
[ ./sun3/locore.s ]
Fixed bug in copyin/copyout.
[90/02/20            rwd]
[ ./sun3/movc.s ]
Fixed bug in bcopy.
[90/02/20            rwd]
[ ./mach/mach.defs ]
Removed vm_allocate_with_pager. It has obsolete for some
time and its inclusion messes up the libmach.a write around.
Removed ancient history and content free log mesages.
[90/02/20            mrt]
[ ./mach/message.h ]
Removed LINTLIBRARY code since this is now the wrong file
to include in a lint library and these definitions clash
with the ones in msg.c. Removed ancient history and content
free revision comments.
[90/02/20            mrt]
[ ./sunif/if_ec.c ]
Removed extraneous third argument to if_set_addr
[90/02/20            mrt]
[ ./sunif/if_ie.c ]
Removed extranous third argument from set_if_addr call.
[90/02/20            mrt]
[ ./mach/mach.defs ]
	Removed vm_allocate_with_pager. It has been obsolete for some
	time and its inclusion messes up the libmach.a write-around.
	Removed ancient history and content-free log mesages.
[90/02/20            mrt]
[ ./sun3/locore.s ]
Fix copy{in,out} bug.
[90/02/21            rwd]
[ ./sun3/movc.s ]
Fix bcopy bug.
[90/02/21            rwd]
[ ./sun3/locore.s ]
Fix copy{in,out} bug.
[90/02/21            rwd]
[ ./sun3/movc.s ]
Fix bcopy bug.
[90/02/21            rwd]
[ ./UpdateSet ]
Version 5.1(X122)
