.nr [W \w'1'
.nr [W \w'1'
.TR 103
...RP 80-11272-13 11173 39199-11
.ne 4.00i
.ND December 17, 1981
.if !"\*(.T"ip" \{\
    .fp 1 tr
    .fp 2 ti
    .fp 3 tb
    .fp 4 ts
.\}
.so ~mac
.de SS
.UL "\\$1" "\\$2" "\\$3"
..
.nr PO 1i       \"left margin
.nr HM 1i       \"top margin
.nr FM 1i       \"bottom margin
.nr PS 10       \"point size
.nr VS 12      \"vertical spacing
.nr dP 1
.nr dV 1
.ds tf \s-2TROFF\s0
.ds id \s-2IDEAL\s0
.ds [. [
.ds .] ]
.de IS
.br
.nf
..
.de IE
.sp
..
.de Ip
.IP \\$1
..
.de Ts
.nr PS \\n(PS-\\n(dP
.nr VS \\n(VS-\\n(dV
.QS
..
.de Te
.nr PS \\n(PS+\\n(dP
.nr VS \\n(VS+\\n(dV
.QE
..
.EQ
.nr 99 \n(.s
.nr 98 \n(.f
.af 98 01
.ps 10
.ft 2
.ps \n(99
.ft \n(98
.EN
.TL
\*(id User's Manual
.AU "MH 2C-518" 5292
Christopher J. Van Wyk
.AI
.MH
.AB
\*(id is a programming language to be used for describing
pictures.
.PP
The main use of \*(id is as a preprocessor to \*(tf,
so that pictures and text may reside in the same
file and be typeset together.
This manual contains many examples of this use of \*(id.
.PP
\*(id proper produces device-independent descriptions
of pictures, so pictures may also be displayed through
the
.UX
plot filters.
.PP
This document describes how to use the existing
implementation of \*(id.
.AE
.CS 24 8 33 0 0 8
.NH 1
Introduction
.PP
\*(id is a language for describing pictures.
It is intended primarily to operate as a
preprocessor to \*(tf[6],
much like \s-2EQN\s0[2],
\s-2TBL\s0[4],
\s-2REFER\s0[5],
and \s-2PIC\s0[1].
.PP
I have explained the principles that motivate
the form of \*(id elsewhere[7,\|8].
This document describes how to use
the existing implementation of \*(id
and treats several examples in depth.
.Ts
Paragraphs like this that appear in smaller
type may be skipped on first reading:
they present sidelights that
may be ignored safely by beginners.
.Te
.NH 1
Overview of \*(id
.PP
To take advantage of \*(id's capabilities,
you must believe that
.ce 1
.IT "complex numbers are good" .
.IP \(bu
Complex numbers have a natural correspondence
.nr 99 \n(.s
.nr 98 \n(.f
.af 98 01
.rm 11 
.as 11 "to points in the Cartesian (
.ps 10
.ft 2
.ds 12 "x\|\(miy
.ds 12 \x'0'\f2\s10\*(12\|\s\n(99\f(\n(98
.as 11 \*(12
.ps \n(99
.ft \n(98
.as 11 ") coordinate
.ps \n(99
.ft \n(98
\*(11
system.
.IP \(bu
Using complex numbers obviates the need for
distinguishing between ``points'' and ``dimensions.''
.IP \(bu
Complex numbers capture readily such common
operations as translation, rotation, and
reflection in the plane.
.LP
\*(id programs define pictures by means of
a system of simultaneous equations in the
significant points of the picture and
a set of drawing instructions to be
carried out with respect to those points.
\*(id solves the system of equations,
then draws the picture using the points
so determined.
.PP
All variables in \*(id programs are complex
numbers, with the usual operations:
.IP \(bu
component-wise addition and subtraction:
.nr 99 \n(.s
.nr 98 \n(.f
.af 98 01
.rm 11 
.ps 10
.ft 2
.ds 12 "\f1(\fPa\|\f1,\fPb\|\f1)\fP
.ds 13 "\ 
.as 12 "\*(13
.ds 13 "\(+-
.as 12 "\*(13
.ds 13 "\ 
.as 12 "\*(13
.ds 13 "\f1(\fPc\|\f1,\fPd\|\f1)\fP
.as 12 "\*(13
.ds 13 "\ 
.as 12 "\*(13
.ds 13 "\(eq
.as 12 "\*(13
.ds 13 "\ 
.as 12 "\*(13
.ds 13 "\f1(\fPa
.as 12 "\*(13
.ds 13 "\(+-
.as 12 "\|\*(13
.ds 13 "c
.as 12 "\*(13
.ds 13 "\f1,\fP
.as 12 "\|\*(13
.ds 13 "b
.as 12 "\*(13
.ds 13 "\(+-
.as 12 "\|\*(13
.ds 13 "d\|\f1)\fP
.as 12 "\*(13
.ds 12 \x'0'\f2\s10\*(12\s\n(99\f(\n(98
.as 11 \*(12
.ps \n(99
.ft \n(98
.as 11 "
.ps \n(99
.ft \n(98
\*(11
.IP \(bu
vector multiplication:
.nr 99 \n(.s
.nr 98 \n(.f
.af 98 01
.rm 11 
.ps 10
.ft 2
.ds 12 "\f1(\fPa\|\f1,\fPb\|\f1)\fP*\|\f1(\fPc\|\f1,\fPd\|\f1)\fP
.ds 13 "\ 
.as 12 "\*(13
.ds 13 "\(eq
.as 12 "\*(13
.ds 13 "\ 
.as 12 "\*(13
.ds 13 "\f1(\fPac
.as 12 "\*(13
.ds 13 "\(mi
.as 12 "\|\*(13
.ds 13 "bd
.as 12 "\*(13
.ds 13 "\f1,\fP
.as 12 "\|\*(13
.ds 13 "ad
.as 12 "\*(13
.ds 13 "\(pl
.as 12 "\|\*(13
.ds 13 "bc\|\f1)\fP
.as 12 "\*(13
.ds 12 \x'0'\f2\s10\*(12\s\n(99\f(\n(98
.as 11 \*(12
.ps \n(99
.ft \n(98
.as 11 "
.ps \n(99
.ft \n(98
\*(11
.IP \(bu
vector division:
.nr 99 \n(.s
.nr 98 \n(.f
.af 98 01
.rm 11 
.ps 10
.ft 2
.ds 12 "\f1(\fPa\|\f1,\fPb\|\f1)\fP\(sl\f1(\fPc\|\f1,\fPd\|\f1)\fP
.ds 13 "\ 
.as 12 "\*(13
.ds 13 "\(eq
.as 12 "\*(13
.ds 13 "\ 
.as 12 "\*(13
.ds 13 "\f1(\fPac
.as 12 "\*(13
.ds 13 "\(pl
.as 12 "\|\*(13
.ds 13 "bd
.as 12 "\*(13
.ds 13 "\f1,\fP
.as 12 "\|\*(13
.ds 13 "\(miad
.as 12 "\*(13
.ds 13 "\(pl
.as 12 "\|\*(13
.ds 13 "bc\|\f1)\fP\(sl\f1(\fP
.as 12 "\*(13
.ds 13 "c
.ds 14 "\f12\fP
.as 13 \v'-12u'\s-3\|\*(14\s+3\v'12u'
.as 12 "\*(13
.ds 13 "\(pl
.as 12 "\*(13
.ds 13 "d
.ds 14 "\f12\fP
.as 13 \v'-12u'\s-3\|\*(14\s+3\v'12u'
.as 12 "\*(13
.ds 13 "\f1)\fP
.as 12 "\*(13
.ds 12 \x'0'\f2\s10\*(12\s\n(99\f(\n(98
.as 11 \*(12
.ps \n(99
.ft \n(98
.as 11 "
.ps \n(99
.ft \n(98
\*(11
.IP \(bu
component manipulation:
.nr 99 \n(.s
.nr 98 \n(.f
.af 98 01
.rm 11 
.ps 10
.ft 2
.ft 1
.ds 12 "re
.ds 12 \f1\*(12\f2
.ft 2
.ds 13 "\f1(\fP\f1(\fPa\|\f1,\fPb\|\f1)\fP\f1)\fP
.as 12 "\*(13
.ds 13 "\ 
.as 12 "\*(13
.ds 13 "\(eq
.as 12 "\*(13
.ds 13 "\ 
.as 12 "\*(13
.ds 13 "a
.as 12 "\*(13
.ds 12 \x'0'\f2\s10\*(12\|\s\n(99\f(\n(98
.as 11 \*(12
.ps \n(99
.ft \n(98
.as 11 ",
.ps \n(99
.ft \n(98
\*(11
.nr 99 \n(.s
.nr 98 \n(.f
.af 98 01
.rm 11 
.ps 10
.ft 2
.ft 1
.ds 12 "im
.ds 12 \f1\*(12\f2
.ft 2
.ds 13 "\f1(\fP\f1(\fPa\|\f1,\fPb\|\f1)\fP\f1)\fP
.as 12 "\*(13
.ds 13 "\ 
.as 12 "\*(13
.ds 13 "\(eq
.as 12 "\*(13
.ds 13 "\ 
.as 12 "\*(13
.ds 13 "b
.as 12 "\*(13
.ds 12 \x'0'\f2\s10\*(12\|\s\n(99\f(\n(98
.as 11 \*(12
.ps \n(99
.ft \n(98
.as 11 ",
.ps \n(99
.ft \n(98
\*(11
and
.nr 99 \n(.s
.nr 98 \n(.f
.af 98 01
.rm 11 
.ps 10
.ft 2
.ft 1
.ds 12 "conj
.ds 12 \f1\*(12\f2
.ft 2
.ds 13 "\f1(\fP\f1(\fPa\|\f1,\fPb\|\f1)\fP\f1)\fP
.as 12 "\*(13
.ds 13 "\ 
.as 12 "\*(13
.ds 13 "\(eq
.as 12 "\*(13
.ds 13 "\ 
.as 12 "\*(13
.ds 13 "\f1(\fPa\|\f1,\fP\(mib\|\f1)\fP
.as 12 "\*(13
.ds 12 \x'0'\f2\s10\*(12\s\n(99\f(\n(98
.as 11 \*(12
.ps \n(99
.ft \n(98
.as 11 "
.ps \n(99
.ft \n(98
\*(11
.IP \(bu
vector magnitude calculation:
.nr 99 \n(.s
.nr 98 \n(.f
.af 98 01
.rm 11 
.ps 10
.ft 2
.ft 1
.ds 12 "abs
.ds 12 \f1\*(12\f2
.ft 2
.ds 13 "\f1(\fP\f1(\fPa\|\f1,\fPb\|\f1)\fP\f1)\fP
.as 12 "\*(13
.ds 13 "\ 
.as 12 "\*(13
.ds 13 "\(eq
.as 12 "\*(13
.ds 13 "\ 
.as 12 "\*(13
.ds 13 "a
.ds 14 "\f12\fP
.as 13 \v'-12u'\s-3\|\*(14\s+3\v'12u'
.ds 14 "\(pl
.as 13 "\*(14
.ds 14 "b
.ds 15 "\f12\fP
.as 14 \v'-12u'\s-3\|\*(15\s+3\v'12u'
.as 13 "\*(14
.nr 13 \w'\s10\*(13'
.ds 13 \v'0u'\s12\v'-.2m'\(sr\l'\n(13u\(rn'\v'.2m'\s10\v'0u'\h'-\n(13u'\*(13
.as 12 "\*(13
.ds 12 \x'0'\x'0-9u'\f2\s10\*(12\s\n(99\f(\n(98
.as 11 \*(12
.ps \n(99
.ft \n(98
.as 11 "
.ps \n(99
.ft \n(98
\*(11
.IP \(bu
unit vector function:
.nr 99 \n(.s
.nr 98 \n(.f
.af 98 01
.rm 11 
.ps 10
.ft 2
.ft 1
.ds 12 "cis
.ds 12 \f1\*(12\f2
.ft 2
.ds 13 "\f1(\fP
.as 12 "\*(13
.ds 13 "\(*h
.as 12 "\*(13
.ds 13 "\f1)\fP
.as 12 "\*(13
.ds 13 "\ 
.as 12 "\*(13
.ds 13 "\(eq
.as 12 "\*(13
.ds 13 "\ 
.as 12 "\*(13
.ds 13 "\f1cos\fP
.as 12 "\*(13
.ds 13 "\(*h
.as 12 "\*(13
.ds 13 "\(pl
.as 12 "\*(13
.ds 13 "i
.as 12 "\*(13
.ds 13 "\f1sin\fP
.as 12 "\|\*(13
.ds 13 "\(*h
.as 12 "\*(13
.ds 12 \x'0'\f2\s10\*(12\s\n(99\f(\n(98
.as 11 \*(12
.ps \n(99
.ft \n(98
.as 11 "
.ps \n(99
.ft \n(98
\*(11
.LP
A non-standard notation that has proved useful is
.nr 99 \n(.s
.nr 98 \n(.f
.af 98 01
.rm 11 
.ps 10
.ft 2
.ds 12 "\(*a
.ds 13 "\f1[\fP
.as 12 "\*(13
.ds 13 "x
.as 12 "\*(13
.ds 13 "\f1,\fP
.as 12 "\|\*(13
.ds 13 "y
.as 12 "\*(13
.ds 13 "\f1]\fP
.as 12 "\|\*(13
.ds 12 \x'0'\f2\s10\*(12\s\n(99\f(\n(98
.as 11 \*(12
.ps \n(99
.ft \n(98
.as 11 ", for complex 
.ps 10
.ft 2
.ds 12 "x
.ds 12 \x'0'\f2\s10\*(12\|\s\n(99\f(\n(98
.as 11 \*(12
.ps \n(99
.ft \n(98
.as 11 " and 
.ps 10
.ft 2
.ds 12 "y
.ds 12 \x'0'\f2\s10\*(12\|\s\n(99\f(\n(98
.as 11 \*(12
.ps \n(99
.ft \n(98
.as 11 ",
.ps \n(99
.ft \n(98
\*(11
.nr 99 \n(.s
.nr 98 \n(.f
.af 98 01
.rm 11 
.as 11 "defined by 
.ps 10
.ft 2
.ds 12 "x
.ds 13 "\(pl
.as 12 "\|\*(13
.ds 13 "\(*a
.as 12 "\*(13
.ds 13 "\f1(\fP
.as 12 "\*(13
.ds 13 "y
.as 12 "\*(13
.ds 13 "\(mi
.as 12 "\|\*(13
.ds 13 "x
.as 12 "\*(13
.ds 13 "\f1)\fP
.as 12 "\|\*(13
.ds 12 \x'0'\f2\s10\*(12\s\n(99\f(\n(98
.as 11 \*(12
.ps \n(99
.ft \n(98
.as 11 ", and
.ps \n(99
.ft \n(98
\*(11
.nr 99 \n(.s
.nr 98 \n(.f
.af 98 01
.rm 11 
.as 11 "meaning ``
.ps 10
.ft 2
.ds 12 "\(*a
.ds 12 \x'0'\f2\s10\*(12\s\n(99\f(\n(98
.as 11 \*(12
.ps \n(99
.ft \n(98
.as 11 " of the way from 
.ps 10
.ft 2
.ds 12 "x
.ds 12 \x'0'\f2\s10\*(12\|\s\n(99\f(\n(98
.as 11 \*(12
.ps \n(99
.ft \n(98
.as 11 " to 
.ps 10
.ft 2
.ds 12 "y
.ds 12 \x'0'\f2\s10\*(12\|\s\n(99\f(\n(98
.as 11 \*(12
.ps \n(99
.ft \n(98
.as 11 ".''
.ps \n(99
.ft \n(98
\*(11
.PP
Scalars are treated as vectors with null imaginary component.
For example, ``1'' is treated as ``(1,0).''
.PP
The scale of the coordinate system in which
\*(id programs are written is entirely a matter
of convenience.
The \*(id processor proper
produces output in the same coordinate
system as the input.
Postprocessors (``filters'') scale this coordinate
system to make sense for the device on which the
picture is displayed.
.PP
Some of the pictures below include captions keyed
to the associated programs.
Some of the labels are not produced by the program:
I added them to help explain the picture.
Such labels are parenthesized.
For pictures and programs that have not been
labeled, you may find that labeling them yourself
helps you understand the program.
.NH 1
Elements of the \*(id Language
.PP
This section presents statements that make up the
fundamental units of \*(id programs, so the
displayed program text represents fragments of
complete programs.
.nr 99 \n(.s
.nr 98 \n(.f
.af 98 01
.rm 11 
.as 11 "Text that appears between 
.ps 10
.ft 2
.ds 12 "\(sl*
.ds 12 \x'0'\f2\s10\*(12\|\s\n(99\f(\n(98
.as 11 \*(12
.ps \n(99
.ft \n(98
.as 11 " and 
.ps 10
.ft 2
.ds 12 "*\|\(sl
.ds 12 \x'0'\f2\s10\*(12\s\n(99\f(\n(98
.as 11 \*(12
.ps \n(99
.ft \n(98
.as 11 " is a comment.
.ps \n(99
.ft \n(98
\*(11
.NH 2
Boxes
.PP
The building blocks of \*(id programs are called
.IT boxes ,
which readers familiar with programming may think
of as procedures or subroutines.
In fact,
the picture drawn by an \*(id program must itself
be a box,
called
.IT main ;
we suppress this extra level
of box-nesting for all of Section 3.
.NH 3
Defining Boxes
.PP
Here is a simple box
and one instance of it:
.IS
...width 0.5
...colwid 8.0
...maxx 1.000000
...maxy 0.500000
...minx 0.000000
...miny 0.000000
.ne 0.25i
\h'1020u'\v'0u' (ne)\h'-\w' (ne)'u'
.sp -1
\h'1020u'\v'60u' (se)\h'-\w' (se)'u'
.sp -1
\h'900u'\v'0u'\h'-\w'(nw) 'u'(nw) \h'-\w'(nw) 'u'
.sp -1
\h'900u'\v'60u'\h'-\w'(sw) 'u'(sw) \h'-\w'(sw) 'u'
.sp -1
...line 0.000000 0.500000 1.000000 0.500000
\h'900u'\v'0u'\D'l 120u 0u'\h'-1019u'\v'0u'
.sp -1
...line 0.000000 0.000000 0.000000 0.500000
\h'900u'\v'60u'\D'l 0u -59u'\h'-899u'\v'0u'
.sp -1
...line 1.000000 0.000000 0.000000 0.000000
\h'1020u'\v'60u'\D'l -119u 0u'\h'-899u'\v'-59u'
.sp -1
...line 1.000000 0.500000 1.000000 0.000000
\h'1020u'\v'0u'\D'l 0u 60u'\h'-1019u'\v'-59u'
.sp -1
.IF
.P1
rect {
	var ne, nw, se, sw,
		wd, ht;
	nw = sw + (0,1)*ht;
	ne = nw + wd;
	se = sw + wd;
	conn ne to nw to sw to se to ne;
}
.P2
.LP
It is called
.IT rect ,
has six local complex variables:
.IT ne ,
.IT nw ,
.IT se ,
.IT sw ,
.IT wd ,
and
.IT ht ,
three equations among these variables,
and an instruction to draw four lines.
.NH 3
Placing Boxes
.PP
To ask for an instance of
.IT rect ,
we use a
.IT put
statement with a
.IT "parameter section"
containing enough additional
equations that the local variables of
this instance of
.IT rect
are determined uniquely.
For example, we might give the dimensions
.IT ht "" (
and
.IT wd )
and one of the corners
(say
.IT sw ):
.IS
...width 0.25
...maxx 0.500000
...maxy 1.000000
...minx 0.000000
...miny 0.000000
...line 0.000000 1.000000 0.500000 1.000000
.ne 0.50i
\h'930u'\v'0u'\D'l 60u 0u'\h'-989u'\v'0u'
.sp -1
...line 0.000000 0.000000 0.000000 1.000000
\h'930u'\v'120u'\D'l 0u -119u'\h'-929u'\v'0u'
.sp -1
...line 0.500000 0.000000 0.000000 0.000000
\h'990u'\v'120u'\D'l -59u 0u'\h'-929u'\v'-119u'
.sp -1
...line 0.500000 1.000000 0.500000 0.000000
\h'990u'\v'0u'\D'l 0u 120u'\h'-989u'\v'-119u'
.sp -1
.IF
.P1
put rect {
	ht = 2;
	wd = 1;
	sw = 0;
};
.P2
Any of the following put
statements would draw the same rectangle:
.nr 99 \n(.s
.nr 98 \n(.f
.af 98 01
.rm 11 
.as 11 "(C programmers will recognize the 
.ps 10
.ft 2
.ds 12 "\(sl*
.ds 12 \x'0'\f2\s10\*(12\|\s\n(99\f(\n(98
.as 11 \*(12
.ps \n(99
.ft \n(98
.as 11 " and 
.ps 10
.ft 2
.ds 12 "*\|\(sl
.ds 12 \x'0'\f2\s10\*(12\s\n(99\f(\n(98
.as 11 \*(12
.ps \n(99
.ft \n(98
.as 11 " comment brackets.)
.ps \n(99
.ft \n(98
\*(11
.P1
/* giving one corner, one dimension
   and a relation on the dimensions */
put rect {
	ht = 2;
	wd = 0.5*ht;
	nw = (0,2);
};
.P2
.P1
/* giving two adjacent corners
   and the perpendicular dimension */
put rect {
	nw = (0,2);
	sw = 0;
	wd = 1;
};
.P2
.P1
/* giving two diagonal corners
   and a relation on the dimensions */
put rect {
	ne = (1,2);
	sw = 0;
	wd = 0.5*ht;
};
.P2
.P1
/* giving three corners */
put rect {
	ne = (1,2);
	nw = (0,2);
	se = 1;
};
.P2
.P1
/* giving the center of a side,
   a corner, and another dimension */
put rect {
	(nw+sw)/2 = (0,1);
	nw = (0,2);
	wd = 1;
};
.P2
.LP
The put statement is to \*(id what a procedure
call is to a conventional programming language.
The difference is that none of the variables
of a box must be specified to be a parameter
whose value is expected in any call:
any of the box's variables may be set by the
put statement, and \*(id will determine the
rest by means of the equations
in the definition of the box.
This means we can give whatever
information we know about this instance of the box,
as long as it is enough to determine everything uniquely.
This mechanism is useful because we often want to
set down a rectangle by giving one of its corners,
but not necessarily the same corner each time;
in a conventional programming language, we would
need to provide a different procedure for each
corner, and the code to solve for the other
corners from it.
(Almost certainly, not all of the put statements
above are equally useful; but it is good to be
able to use any of them when the need arises.)
.Ts
Here is how \*(id solves the system of equations
implicit in a program:
First, all equations are placed on a queue.
Every time a box is called, the solutions
to these equations may\(emand probably will\(embe
different, so all the equations of a box
are enqueued separately for each time that
box is put.
(Of course, different copies of the equation
refer to different copies of the variable,
but \*(id keeps that straight.)
During processing, \*(id maintains two classes
of variables: dependent and independent.
Each dependent variable is represented as a
linear combination of independent variables
plus a constant term.
(Variables whose values are known are a trivial
case of dependent variables.)
All variables start out independent.
As long as there are equations on the queue, \*(id
examines the head equation:
if, after substituting for all dependent variables,
the equation is linear, \*(id determines new
information from it if possible\(emthat is,
\*(id tries to make one variable dependent
on the others, thus reducing the number of
independent variables\(emor decides
whether it is redundant or inconsistent;
if the equation remains non-linear after substitution,
\*(id adds it to the end of the queue and proceeds.
If \*(id ever goes through the whole queue without
discovering any new information, the system cannot
be solved
(by \*(id, anyway)
and \*(id complains bitterly.
If there are any independent variables left after
this processing, \*(id will complain too, because
there is no way they can become known.
.Te
.PP
The variables
.IT wd
and
.IT ht
above are complex numbers just like the corners,
so we can rotate the rectangle
by giving them complex non-real values:
.IS
...width 0.5
...maxx 0.707107
...maxy 2.121320
...minx -1.414214
...miny 0.000000
...line -1.414214 1.414214 -0.707107 2.121320
.ne 0.50i
\h'900u'\v'40u'\D'l 40u -39u'\h'-939u'\v'0u'
.sp -1
...line 0.000000 0.000000 -1.414214 1.414214
\h'980u'\v'120u'\D'l -79u -79u'\h'-899u'\v'-39u'
.sp -1
...line 0.707107 0.707107 0.000000 0.000000
\h'1020u'\v'80u'\D'l -39u 40u'\h'-979u'\v'-119u'
.sp -1
...line -0.707107 2.121320 0.707107 0.707107
\h'940u'\v'0u'\D'l 80u 80u'\h'-1019u'\v'-79u'
.sp -1
.IF
.P1
put rect {
	sw = 0;
	wd = (1,1)/abs((1,1));
	ht = 2*wd;
};
.P2
.LP
.nr 99 \n(.s
.nr 98 \n(.f
.af 98 01
.rm 11 
.as 11 "(The double parentheses are needed in ``
.ps 10
.ft 2
.ds 12 "abs\|\f1(\fP\f1(\fP\f11\fP\f1,\fP\f11\fP\f1)\fP\f1)\fP\f1\(fm\fP\f1\(fm\fP
.ds 12 \x'0'\f2\s10\*(12\s\n(99\f(\n(98
.as 11 \*(12
.ps \n(99
.ft \n(98
.as 11 " because
.ps \n(99
.ft \n(98
\*(11
.nr 99 \n(.s
.nr 98 \n(.f
.af 98 01
.rm 11 
.as 11 "``
.ps 10
.ft 2
.ds 12 "abs\|\f1(\fP\f11\fP\f1,\fP\f11\fP\f1)\fP
.ds 12 \x'0'\f2\s10\*(12\s\n(99\f(\n(98
.as 11 \*(12
.ps \n(99
.ft \n(98
.as 11 "'' is parsed as a function with two arguments.)
.ps \n(99
.ft \n(98
\*(11
One point about this example often confuses new users:
the vectors
.IT wd
and
.IT ht
point in the
.IT same
direction.
It is in the definition of
.IT rect
.nr 99 \n(.s
.nr 98 \n(.f
.af 98 01
.rm 11 
.as 11 "that the 
.ps 10
.ft 2
.ds 12 "ht
.ds 12 \x'0'\f2\s10\*(12\|\s\n(99\f(\n(98
.as 11 \*(12
.ps \n(99
.ft \n(98
.as 11 " vector is rotated ninety degrees
.ps \n(99
.ft \n(98
\*(11
and added to the southern points to arrive
at the northern points.
Thus, if we give a
.IT ht
that is perpendicular to
.IT wd ,
we get a very flat rectangle.
.PP
On the other hand, the definition of
.IT rect
does not assure that
.IT ht
and
.IT wd
will point in the same direction.
This put statement
draws a parallelogram:
.IS
...width 0.25
...maxx 0.707107
...maxy 1.707107
...minx 0.000000
...miny 0.000000
...line 0.000000 1.000000 0.707107 1.707107
.ne 0.60i
\h'930u'\v'60u'\D'l 60u -59u'\h'-989u'\v'0u'
.sp -1
...line 0.000000 0.000000 0.000000 1.000000
\h'930u'\v'145u'\D'l 0u -84u'\h'-929u'\v'-59u'
.sp -1
...line 0.707107 0.707107 0.000000 0.000000
\h'990u'\v'85u'\D'l -59u 60u'\h'-929u'\v'-144u'
.sp -1
...line 0.707107 1.707107 0.707107 0.707107
\h'990u'\v'0u'\D'l 0u 85u'\h'-989u'\v'-84u'
.sp -1
.IF
.P1
put rect {
	ht = 1;
	wd = (1,1)/abs((1,1));
	sw = 0;
};
.P2
.LP
Some people who feel that
a box called
.IT rect
should draw only rectangles
are disturbed by this example.
One remedy is to add another equation
to the definition of
.IT rect ,
asserting that two adjacent sides
are perpendicular;
\*(id will complain if this equation
is not satisfied
(although it won't stop drawing).
One such equation is
.P1
wd/abs(wd) = ht/abs(ht);
.P2
.PP
Here is a definition for box
.IT arrow
that keeps the head of the arrow symmetrical
about its shaft:
.IS
...maxx 1.000000
...maxy 1.000000
...minx 0.000000
...miny 0.000000
...line 0.000000 0.000000 0.068404 0.187939
.ne 0.25i
\h'930u'\v'60u'\D'l 4u -10u'\h'-933u'\v'-48u'
.sp -1
...line 0.187939 0.068404 0.000000 0.000000
\h'941u'\v'56u'\D'l -10u 4u'\h'-929u'\v'-59u'
.sp -1
...line 1.000000 1.000000 0.000000 0.000000
\h'990u'\v'0u'\D'l -59u 60u'\h'-929u'\v'-59u'
.sp -1
.IF
.P1
arrow {
	var hd, tl, head, wing;
	head = 0.1;
	wing = head*(tl-hd)/abs(tl-hd);
	conn hd to tl;
	conn hd + cis(25)*wing to hd to hd + cis(-25)*wing;
}
.P2
.LP
Note the definition of
.IT wing
in the example above:
the second part of the expression is a unit vector
that points from
.IT tl
to
.IT hd ;
this is multiplied by
.IT head ,
the length of the ``wings'' on the arrowhead.
.Ts
When a put
statement is interpreted, the equations in
its parameter section are processed before
the equations in its definition.
Thus, if there are inconsistent equations
between the put
statement
and the box definition, the equations in
the put
statement take precedence.
This can be useful to provide
default values for variables of a box.
For instance, if the definition of
.IT rect
gave such default values to
.IT ht
and
.IT wd ,
they would take effect unless overridden
by equations in the parameter section
of the put statement.
.Te
.Ts
\*(id ignores inconsistent equations, but it
does generate error messages about them.
To avoid this error message
about a particular equation, use a
tilde (``\f8~\fP'') instead of an equals
sign in the equation.
The tilde does
.IT not
give the equation any lower ``priority''
than an equation with an equals sign:
all it does is shut off the error message.
.nr 99 \n(.s
.nr 98 \n(.f
.af 98 01
.rm 11 
.as 11 "So, the two ordered systems ``
.ps 10
.ft 2
.ds 12 "x
.ds 13 "\ 
.as 12 "\|\*(13
.ds 13 "\(eq
.as 12 "\*(13
.ds 13 "\ 
.as 12 "\*(13
.ds 13 "\f11\fP
.as 12 "\*(13
.ds 12 \x'0'\f2\s10\*(12\s\n(99\f(\n(98
.as 11 \*(12
.ps \n(99
.ft \n(98
.as 11 ", 
.ps 10
.ft 2
.ds 12 "x
.ds 13 "\ 
.as 12 "\|\*(13
.ft 8
.ds 13 "~
.ds 13 \f8\*(13\f2
.ft 2
.as 12 "\*(13
.ds 13 "\ 
.as 12 "\*(13
.ds 13 "\f12\fP
.as 12 "\*(13
.ds 12 \x'0'\f2\s10\*(12\s\n(99\f(\n(98
.as 11 \*(12
.ps \n(99
.ft \n(98
.as 11 "''
.ps \n(99
.ft \n(98
\*(11
.nr 99 \n(.s
.nr 98 \n(.f
.af 98 01
.rm 11 
.as 11 "and ``
.ps 10
.ft 2
.ds 12 "x
.ds 13 "\ 
.as 12 "\|\*(13
.ft 8
.ds 13 "~
.ds 13 \f8\*(13\f2
.ft 2
.as 12 "\*(13
.ds 13 "\ 
.as 12 "\*(13
.ds 13 "\f12\fP
.as 12 "\*(13
.ds 12 \x'0'\f2\s10\*(12\s\n(99\f(\n(98
.as 11 \*(12
.ps \n(99
.ft \n(98
.as 11 ", 
.ps 10
.ft 2
.ds 12 "x
.ds 13 "\ 
.as 12 "\|\*(13
.ds 13 "\(eq
.as 12 "\*(13
.ds 13 "\ 
.as 12 "\*(13
.ds 13 "\f11\fP
.as 12 "\*(13
.ds 12 \x'0'\f2\s10\*(12\s\n(99\f(\n(98
.as 11 \*(12
.ps \n(99
.ft \n(98
.as 11 "'' are
.ps \n(99
.ft \n(98
\*(11
.IT different:
.nr 99 \n(.s
.nr 98 \n(.f
.af 98 01
.rm 11 
.as 11 "in the former, 
.ps 10
.ft 2
.ds 12 "x
.ds 12 \x'0'\f2\s10\*(12\|\s\n(99\f(\n(98
.as 11 \*(12
.ps \n(99
.ft \n(98
.as 11 " receives the value 1, and no error
.ps \n(99
.ft \n(98
\*(11
message appears when the second equation is processed;
.nr 99 \n(.s
.nr 98 \n(.f
.af 98 01
.rm 11 
.as 11 "in the latter, 
.ps 10
.ft 2
.ds 12 "x
.ds 12 \x'0'\f2\s10\*(12\|\s\n(99\f(\n(98
.as 11 \*(12
.ps \n(99
.ft \n(98
.as 11 " receives the value 2, and an error
.ps \n(99
.ft \n(98
\*(11
is generated when the second equation is encountered.
.Te
.NH 2
Special Boxes\(emCircles and Arcs
.PP
Boxes to draw circles and circular arcs are defined
in special library files.
.NH 3
Circles
.PP
The box named
.IT circle
has five local variables:
.IT center ,
.IT radius ,
.IT z1 ,
.IT z2 ,
and
.IT z3 .
The last three may be any points on the circle.
As above, we must give enough information to
determine a circle;
giving two points on it is insufficient, and
giving three collinear points is inconsistent.
Here are three ways to draw
a circle of radius one centered at the origin.
.IS
...width 0.5
...maxx 1.100000
...maxy 1.000000
...minx -1.000000
...miny -1.006308
...circle -0.422618 -0.906308 0.100000
.ne 0.48i
\h'927u'\v'109u'\D'c 11u'\h'-938u'\v'-108u'
.sp -1
...circle -0.707107 0.707107 0.100000
\h'911u'\v'17u'\D'c 11u'\h'-921u'\v'-16u'
.sp -1
...circle 1.000000 0.000000 0.100000
\h'1009u'\v'57u'\D'c 11u'\h'-1019u'\v'-56u'
.sp -1
\h'933u'\v'109u'\h'-\w'(z3)  'u'(z3)  \h'-\w'(z3)  'u'
.sp -1
\h'917u'\v'17u'\h'-\w'(z2) 'u'(z2) \h'-\w'(z2) 'u'
.sp -1
\h'1014u'\v'57u' (z1)\h'-\w' (z1)'u'
.sp -1
...circle 0.000000 0.000000 1.000000
\h'900u'\v'57u'\D'c 114u'\h'-1013u'\v'-56u'
.sp -1
.IF
.P1
/* giving center and radius */
put circle {
	center = 0;
	radius = 1;
};
.P2
.P1
/* giving center and a point on the circle */
put circle {
	center = 0;
	z1 = 1; /* could also have given z2 or z3 */
};
.P2
.P1
/* giving three points on the circle */
put circle {
	z1 = (1,0);
	z2 = cis(135);
	z3 = cis(235);
};
.P2
.LP
Once the circle has been determined, all five of its
internal variables are known.
So, if we ask for a circle giving three points, the
radius and center will be known afterward.
On the other hand, if we ask for a circle by giving
.nr 99 \n(.s
.nr 98 \n(.f
.af 98 01
.rm 11 
.as 11 "the center and the radius, the three points 
.ps 10
.ft 2
.ds 12 "z\|\f11\fP
.ds 12 \x'0'\f2\s10\*(12\s\n(99\f(\n(98
.as 11 \*(12
.ps \n(99
.ft \n(98
.as 11 ", 
.ps 10
.ft 2
.ds 12 "z\|\f12\fP
.ds 12 \x'0'\f2\s10\*(12\s\n(99\f(\n(98
.as 11 \*(12
.ps \n(99
.ft \n(98
.as 11 ",
.ps \n(99
.ft \n(98
\*(11
.nr 99 \n(.s
.nr 98 \n(.f
.af 98 01
.rm 11 
.as 11 "and 
.ps 10
.ft 2
.ds 12 "z\|\f13\fP
.ds 12 \x'0'\f2\s10\*(12\s\n(99\f(\n(98
.as 11 \*(12
.ps \n(99
.ft \n(98
.as 11 ", will be known, and will be on the circle,
.ps \n(99
.ft \n(98
\*(11
but there is no guarantee where they will be.
.NH 3
Arcs
.PP
Box
.IT arc
has eight local variables:
.IT center ,
.IT radius ,
.IT start ,
.IT midway ,
.IT end ,
.IT startang ,
.IT midang ,
and
.IT endang .
It is an arc centered at point
.IT center
with radius
.IT radius ,
starting at point
.IT start
at an angle
.IT startang ,
passing through point
.IT midway
at an angle
.IT midang ,
and ending at point
.IT end
at an angle
.IT endang .
.nr 99 \n(.s
.nr 98 \n(.f
.af 98 01
.rm 11 
.as 11 "(All angles are measured with respect to 
.ps 10
.ft 2
.ds 12 "center
.ds 12 \x'0'\f2\s10\*(12\|\s\n(99\f(\n(98
.as 11 \*(12
.ps \n(99
.ft \n(98
.as 11 ",
.ps \n(99
.ft \n(98
\*(11
.nr 99 \n(.s
.nr 98 \n(.f
.af 98 01
.rm 11 
.as 11 "in degrees, with the positive 
.ps 10
.ft 2
.ds 12 "x
.ds 12 \x'0'\f2\s10\*(12\|\s\n(99\f(\n(98
.as 11 \*(12
.ps \n(99
.ft \n(98
.as 11 "-axis taken to be
.ps \n(99
.ft \n(98
\*(11
zero degrees, and the counterclockwise direction to
be positive.)
.nr 99 \n(.s
.nr 98 \n(.f
.af 98 01
.rm 11 
.as 11 "Note that 
.ps 10
.ft 2
.ds 12 "midway
.ds 12 \x'0'\f2\s10\*(12\|\s\n(99\f(\n(98
.as 11 \*(12
.ps \n(99
.ft \n(98
.as 11 " is
.ps \n(99
.ft \n(98
\*(11
.IT not
necessarily the midpoint of the arc!
If neither
.IT midway
nor
.IT midang
is given, the arc is drawn
counterclockwise from
.IT start
to
.IT end .
Once again, a variety of put statements draw the same arc:
.IS
...maxx 1.100000
...maxy 1.000000
...minx -1.100000
...miny -1.000000
...circle -0.573576 -0.819152 0.100000
.ne 0.45i
\h'923u'\v'99u'\D'c 11u'\h'-933u'\v'-98u'
.sp -1
...circle -1.000000 0.000000 0.100000
\h'900u'\v'55u'\D'c 11u'\h'-910u'\v'-54u'
.sp -1
...circle 1.000000 0.000000 0.100000
\h'1009u'\v'55u'\D'c 11u'\h'-1019u'\v'-54u'
.sp -1
\h'929u'\v'99u' (end)\h'-\w' (end)'u'
.sp -1
\h'905u'\v'55u'\h'-\w'(midway) 'u'(midway) \h'-\w'(midway) 'u'
.sp -1
\h'1015u'\v'55u' (start)\h'-\w' (start)'u'
.sp -1
...arc 0.000000 0.000000 1.000000 0.000000 -0.573576 -0.819152 0.000000 4.101524 1.000000
\h'1015u'\v'55u'\D'a -54u 0u -30u 45u'\h'-928u'\v'-98u'
.sp -1
.IF
.P1
/* giving center, radius, and
   starting and ending angles */
put arc {
	center = 0;
	radius = 1;
	startang = 0;
	endang = 235;
};
.P2
.P1
/* giving center, starting point,
   and ending angle */
put arc {
	center = 0;
	start = 1;
	endang = 235;
};
.P2
.IS
...maxx 1.100000
...maxy 1.000000
...minx -1.100000
...miny -1.000000
...circle -0.573576 -0.819152 0.100000
.ne 0.45i
\h'923u'\v'99u'\D'c 11u'\h'-933u'\v'-98u'
.sp -1
...circle -1.000000 0.000000 0.100000
\h'900u'\v'55u'\D'c 11u'\h'-910u'\v'-54u'
.sp -1
...circle 1.000000 0.000000 0.100000
\h'1009u'\v'55u'\D'c 11u'\h'-1019u'\v'-54u'
.sp -1
\h'929u'\v'99u' (start)\h'-\w' (start)'u'
.sp -1
\h'905u'\v'55u'\h'-\w'(midway) 'u'(midway) \h'-\w'(midway) 'u'
.sp -1
\h'1015u'\v'55u' (end)\h'-\w' (end)'u'
.sp -1
...arc 0.000000 0.000000 1.000000 0.000000 -0.573576 -0.819152 0.000000 4.101524 1.000000
\h'1015u'\v'55u'\D'a -54u 0u -30u 45u'\h'-928u'\v'-98u'
.sp -1
.IF
.P1
/* giving three points on the arc */
put arc {
	start = cis(235);
	midway = -1;
	end = 0;
};
.P2
.NH 2
Other Elements of \*(id Pictures
.PP
\*(id pictures also may contain text and splines.
.NH 3
Text Captions
.PP
There are three commands to place text with respect to a point.
The
.IT left
command left-justifies the text with respect to the specified location:
the text will start there.
The
.IT right
command right-justifies the text so that it ends at the specified
location.
The default is to center the text at the point.
(The arrows in this picture point to the locations of the named points.)
.P1
left "some text" at x;
.P2
.P1
\&"some centered text" at y;
.P2
.P1
right "some other text" at z;
.P2
.IS
...colwid 6.0
...width 4.0
...maxx 7.000000
...maxy 0.000000
...minx 0.000000
...miny -1.000000
...line 6.000000 0.000000 6.093969 -0.034202
.ne 0.57i
\h'1063u'\v'0u'\D'l 13u 5u'\h'-1075u'\v'-4u'
.sp -1
...line 6.034202 -0.093969 6.000000 0.000000
\h'1068u'\v'13u'\D'l -4u -12u'\h'-1062u'\v'0u'
.sp -1
...line 6.000000 0.000000 7.000000 -1.000000
\h'1063u'\v'0u'\D'l 137u 137u'\h'-1199u'\v'-136u'
.sp -1
\h'1200u'\v'137u' (z)\h'-\w' (z)'u'
.sp -1
\h'1063u'\v'0u'\h'-\w'some other text'u'some other text\h'-\w'some other text'u'
.sp -1
...line 3.000000 0.000000 3.093969 -0.034202
\h'651u'\v'0u'\D'l 13u 5u'\h'-663u'\v'-4u'
.sp -1
...line 3.034202 -0.093969 3.000000 0.000000
\h'656u'\v'13u'\D'l -4u -12u'\h'-650u'\v'0u'
.sp -1
...line 3.000000 0.000000 4.000000 -1.000000
\h'651u'\v'0u'\D'l 137u 137u'\h'-788u'\v'-136u'
.sp -1
\h'789u'\v'137u' (y)\h'-\w' (y)'u'
.sp -1
\h'651u'\v'0u'\h'-\w'some centered text'u/2u'some centered text\h'-\w'some centered text'u/2u'
.sp -1
...line 0.000000 0.000000 0.093969 -0.034202
\h'240u'\v'0u'\D'l 13u 5u'\h'-252u'\v'-4u'
.sp -1
...line 0.034202 -0.093969 0.000000 0.000000
\h'245u'\v'13u'\D'l -4u -12u'\h'-239u'\v'0u'
.sp -1
...line 0.000000 0.000000 1.000000 -1.000000
\h'240u'\v'0u'\D'l 137u 137u'\h'-376u'\v'-136u'
.sp -1
\h'377u'\v'137u' (x)\h'-\w' (x)'u'
.sp -1
\h'240u'\v'0u'some text\h'-\w'some text'u'
.sp -1
.sp 137u
.sp 1
.sp 1
.IE
.LP
To include a double quote mark in a string, escape it with a back-slash.
If you have a line running through a point at which you place some text,
you may want to add a space to one end of the text so that the line
doesn't chop through the text.
The string may include \*(tf special characters (like \e(bu)
and commands to other preprocessors (notably \s-2EQN\s0),
but \*(id should be run before any other preprocessors.
.NH 3
Splines
.PP
\*(id provides quadratic splines that are drawn with a
B-spline basis:
the user supplies a sequence of guiding points, and \*(id
draws a smooth curve that is tangent to the polygonal
path they define at the midpoint of each segment;
the spline also starts at the first point and ends at the last.
.IS
...colwid 8.0
...width 1.0
...maxx 2.0
...minx -1.0
...maxy 2.0
...miny 0.0
...maxx 2.100000
...maxy 2.100000
...minx -1.100000
...miny -0.100000
...circle 2.000000 2.000000 0.100000
.ne 0.67i
\h'1072u'\v'0u'\D'c 16u'\h'-1087u'\v'0u'
.sp -1
...circle -1.000000 1.000000 0.100000
\h'832u'\v'80u'\D'c 16u'\h'-847u'\v'-79u'
.sp -1
...circle 1.000000 0.000000 0.100000
\h'992u'\v'160u'\D'c 16u'\h'-1007u'\v'-159u'
.sp -1
...circle 0.000000 0.000000 0.100000
\h'912u'\v'160u'\D'c 16u'\h'-927u'\v'-159u'
.sp -1
\h'1080u'\v'0u' (w)\h'-\w' (w)'u'
.sp -1
\h'840u'\v'80u'\h'-\w'(z) 'u'(z) \h'-\w'(z) 'u'
.sp -1
\h'1000u'\v'160u' (y)\h'-\w' (y)'u'
.sp -1
\h'920u'\v'160u'\h'-\w'(x) 'u'(x) \h'-\w'(x) 'u'
.sp -1
...spline 2.000000 2.000000
\h'1080u'\v'0u'\D'~ -239u 80u 160u 80u -79u 0u'\h'-919u'\v'-159u'
.sp -1
.IF
.P1
spline x to y to z to w;


.P2
.NH 1
Putting Boxes Together
.PP
In this section we present several complete
\*(id programs to show how to build up
pictures from boxes.
.NH 2
Naming Instances of Boxes
.PP
Most pictures involve more than placements of simple boxes.
And when pictures involve several boxes, certain geometrical
relationships should exist among them.
We can refer to the local variables of a box that has been put\(emall
we need to do is name the put statement.
Here is a simple example showing a diagram that could be used to illustrate
Pythagoras's Theorem for isoceles triangles:
.IS
...width 1.0
...maxx 3.000000
...maxy 2.000000
...minx 0.000000
...miny -1.000000
...line 2.000000 2.000000 3.000000 1.000000
.ne 1.00i
\h'1000u'\v'0u'\D'l 80u 80u'\h'-1079u'\v'-79u'
.sp -1
...line 1.000000 1.000000 2.000000 2.000000
\h'920u'\v'80u'\D'l 80u -79u'\h'-999u'\v'0u'
.sp -1
...line 2.000000 0.000000 1.000000 1.000000
\h'1000u'\v'160u'\D'l -79u -79u'\h'-919u'\v'-79u'
.sp -1
...line 3.000000 1.000000 2.000000 0.000000
\h'1080u'\v'80u'\D'l -79u 80u'\h'-999u'\v'-159u'
.sp -1
...line 1.000000 0.000000 2.000000 0.000000
\h'920u'\v'160u'\D'l 80u 0u'\h'-999u'\v'-159u'
.sp -1
...line 1.000000 -1.000000 1.000000 0.000000
\h'920u'\v'240u'\D'l 0u -79u'\h'-919u'\v'-159u'
.sp -1
...line 2.000000 -1.000000 1.000000 -1.000000
\h'1000u'\v'240u'\D'l -79u 0u'\h'-919u'\v'-239u'
.sp -1
...line 2.000000 0.000000 2.000000 -1.000000
\h'1000u'\v'160u'\D'l 0u 80u'\h'-999u'\v'-239u'
.sp -1
...line 0.000000 1.000000 1.000000 1.000000
\h'840u'\v'80u'\D'l 80u 0u'\h'-919u'\v'-79u'
.sp -1
...line 0.000000 0.000000 0.000000 1.000000
\h'840u'\v'160u'\D'l 0u -79u'\h'-839u'\v'-79u'
.sp -1
...line 1.000000 0.000000 0.000000 0.000000
\h'920u'\v'160u'\D'l -79u 0u'\h'-839u'\v'-159u'
.sp -1
...line 1.000000 1.000000 1.000000 0.000000
\h'920u'\v'80u'\D'l 0u 80u'\h'-919u'\v'-159u'
.sp -1
.IF
.P1
main {
	put first: rect {
		sw = 0;
		ht = wd = 1;
	};
	put next: rect {
		nw = first.se;
		ht = wd = first.ht;
	};
	put last: rect {
		sw = first.ne;
		se = next.ne;
		ht = wd;
	};
}
.P2
.LP
First we place an instance of
.IT rect
called
.IT first .
Then we place another
.IT rect
.nr 99 \n(.s
.nr 98 \n(.f
.af 98 01
.rm 11 
.as 11 "with its upper left corner (
.ps 10
.ft 2
.ds 12 "ne
.ds 12 \x'0'\f2\s10\*(12\|\s\n(99\f(\n(98
.as 11 \*(12
.ps \n(99
.ft \n(98
.as 11 ")
.ps \n(99
.ft \n(98
\*(11
at the lower right of
.IT first .
Finally, we draw a third square,
two of whose adjacent points are
identified with points on the first
two squares placed.
We could have used any two adjacent points on
.IT last :
if we had placed
.nr 99 \n(.s
.nr 98 \n(.f
.af 98 01
.rm 11 
.ps 10
.ft 2
.ds 12 "last.ne
.ds 12 \x'0'\f2\s10\*(12\|\s\n(99\f(\n(98
.as 11 \*(12
.ps \n(99
.ft \n(98
.as 11 " at 
.ps 10
.ft 2
.ds 12 "\^first.ne
.ds 12 \x'0'\f2\s10\*(12\|\s\n(99\f(\n(98
.as 11 \*(12
.ps \n(99
.ft \n(98
.as 11 "
.ps \n(99
.ft \n(98
\*(11
.nr 99 \n(.s
.nr 98 \n(.f
.af 98 01
.rm 11 
.as 11 "and 
.ps 10
.ft 2
.ds 12 "last.nw
.ds 12 \x'0'\f2\s10\*(12\|\s\n(99\f(\n(98
.as 11 \*(12
.ps \n(99
.ft \n(98
.as 11 " at 
.ps 10
.ft 2
.ds 12 "next.ne
.ds 12 \x'0'\f2\s10\*(12\|\s\n(99\f(\n(98
.as 11 \*(12
.ps \n(99
.ft \n(98
.as 11 ",
.ps \n(99
.ft \n(98
\*(11
\*(id would have figured all the relationships
out right, although the program might be quite
inscrutable to humans.
.PP
How can we circumscribe a triangle?
If we name the put statement that produces
the instance, we can just give its three
.nr 99 \n(.s
.nr 98 \n(.f
.af 98 01
.rm 11 
.as 11 "vertices as values for 
.ps 10
.ft 2
.ds 12 "z\|\f11\fP
.ds 12 \x'0'\f2\s10\*(12\s\n(99\f(\n(98
.as 11 \*(12
.ps \n(99
.ft \n(98
.as 11 ", 
.ps 10
.ft 2
.ds 12 "z\|\f12\fP
.ds 12 \x'0'\f2\s10\*(12\s\n(99\f(\n(98
.as 11 \*(12
.ps \n(99
.ft \n(98
.as 11 ", and 
.ps 10
.ft 2
.ds 12 "z\|\f13\fP
.ds 12 \x'0'\f2\s10\*(12\s\n(99\f(\n(98
.as 11 \*(12
.ps \n(99
.ft \n(98
.as 11 "
.ps \n(99
.ft \n(98
\*(11
in an instance of
.IT circle .
.IS
...maxx 2.081139
...maxy 3.081139
...minx -1.081139
...miny -0.081139
...circle 0.500000 1.500000 1.581139
.ne 1.00i
\h'840u'\v'120u'\D'c 240u'\h'-1079u'\v'-119u'
.sp -1
...line 1.000000 0.000000 0.000000 0.000000
\h'998u'\v'234u'\D'l -75u 0u'\h'-921u'\v'-233u'
.sp -1
...line 2.000000 2.000000 1.000000 0.000000
\h'1074u'\v'82u'\D'l -75u 152u'\h'-997u'\v'-233u'
.sp -1
...line 0.000000 0.000000 2.000000 2.000000
\h'922u'\v'234u'\D'l 152u -151u'\h'-1073u'\v'-81u'
.sp -1
.IF
.P1
triangle {
	var z1, z2, z3;
	conn z1 to z2 to z3 to z1;
}

main {
	put T: triangle {
		z1 = 0;
		z2 = 1;
		z3 = (2,2);
	};
	put circle {
		z1 = T.z1;
		z2 = T.z2;
		z3 = T.z3;
	};
}
.P2
.NH 2
Parameter Section Commands
.PP
Any \*(id statement may appear in the parameter
section of a put statement.
This section illustrates some uses of this feature.
.PP
Suppose we will need to draw
pictures of a linked list before and after
insertion of a new node.
We might start with this definition
of a
.IT listnode :
.IS
...width 1.0
...colwid 8.0
...maxx 2.000000
...maxy 1.000000
...minx 0.000000
...miny 0.000000
...line 1.000000 1.000000 2.000000 1.000000
.ne 0.50i
\h'960u'\v'0u'\D'l 120u 0u'\h'-1079u'\v'0u'
.sp -1
...line 1.000000 0.000000 1.000000 1.000000
\h'960u'\v'120u'\D'l 0u -119u'\h'-959u'\v'0u'
.sp -1
...line 2.000000 0.000000 1.000000 0.000000
\h'1080u'\v'120u'\D'l -119u 0u'\h'-959u'\v'-119u'
.sp -1
...line 2.000000 1.000000 2.000000 0.000000
\h'1080u'\v'0u'\D'l 0u 120u'\h'-1079u'\v'-119u'
.sp -1
...line 0.000000 1.000000 1.000000 1.000000
\h'840u'\v'0u'\D'l 120u 0u'\h'-959u'\v'0u'
.sp -1
...line 0.000000 0.000000 0.000000 1.000000
\h'840u'\v'120u'\D'l 0u -119u'\h'-839u'\v'0u'
.sp -1
...line 1.000000 0.000000 0.000000 0.000000
\h'960u'\v'120u'\D'l -119u 0u'\h'-839u'\v'-119u'
.sp -1
...line 1.000000 1.000000 1.000000 0.000000
\h'960u'\v'0u'\D'l 0u 120u'\h'-959u'\v'-119u'
.sp -1
.IF
.P1
listnode {
	put info: rect {
		var hook;
		hook = (nw + sw)/2;
		ht = lht;
		wd = lwd/2;
	};
	put next: rect {
		var c;
		c = (nw + se)/2;
		sw = info.se;
		ht = lht;
		wd = lwd/2;
	};
}
.P2
.LP
This version of
.IT listnode
depends on
.IT rect .
Notice that it references two variables
.nr 99 \n(.s
.nr 98 \n(.f
.af 98 01
.rm 11 
.as 11 "(
.ps 10
.ft 2
.ds 12 "lwd
.ds 12 \x'0'\f2\s10\*(12\|\s\n(99\f(\n(98
.as 11 \*(12
.ps \n(99
.ft \n(98
.as 11 " and 
.ps 10
.ft 2
.ds 12 "lht
.ds 12 \x'0'\f2\s10\*(12\|\s\n(99\f(\n(98
.as 11 \*(12
.ps \n(99
.ft \n(98
.as 11 ") that are not local to
.ps \n(99
.ft \n(98
\*(11
itself:
these variables must be defined in any
.nr 99 \n(.s
.nr 98 \n(.f
.af 98 01
.rm 11 
.as 11 "environment in which 
.ps 10
.ft 2
.ds 12 "listnode
.ds 12 \x'0'\f2\s10\*(12\|\s\n(99\f(\n(98
.as 11 \*(12
.ps \n(99
.ft \n(98
.as 11 " is put.
.ps \n(99
.ft \n(98
\*(11
(They are global to it.)
We have added statements that define new
.nr 99 \n(.s
.nr 98 \n(.f
.af 98 01
.rm 11 
.as 11 "variables (
.ps 10
.ft 2
.ds 12 "hook
.ds 12 \x'0'\f2\s10\*(12\|\s\n(99\f(\n(98
.as 11 \*(12
.ps \n(99
.ft \n(98
.as 11 " in 
.ps 10
.ft 2
.ds 12 "\^first
.ds 12 \x'0'\f2\s10\*(12\|\s\n(99\f(\n(98
.as 11 \*(12
.ps \n(99
.ft \n(98
.as 11 " and 
.ps 10
.ft 2
.ds 12 "c
.ds 12 \x'0'\f2\s10\*(12\|\s\n(99\f(\n(98
.as 11 \*(12
.ps \n(99
.ft \n(98
.as 11 " in 
.ps 10
.ft 2
.ds 12 "next
.ds 12 \x'0'\f2\s10\*(12\|\s\n(99\f(\n(98
.as 11 \*(12
.ps \n(99
.ft \n(98
.as 11 ")
.ps \n(99
.ft \n(98
\*(11
that are local to the particular instance of
.IT rect .
.PP
Now we draw the list as it is before insertion:
.IS
...width 2.0
...maxx 6.000000
...maxy 1.000000
...minx -1.000000
...miny -2.000000
...line 0.000000 0.500000 -0.181262 0.415476
.ne 0.86i
\h'789u'\v'34u'\D'l -11u 6u'\h'-775u'\v'-39u'
.sp -1
...line -0.181262 0.584524 0.000000 0.500000
\h'776u'\v'28u'\D'l 12u 6u'\h'-788u'\v'-33u'
.sp -1
...line -1.000000 0.500000 0.000000 0.500000
\h'720u'\v'34u'\D'l 69u 0u'\h'-788u'\v'-33u'
.sp -1
\h'720u'\v'34u'\h'-\w'list 'u'list \h'-\w'list 'u'
.sp -1
...line 2.000000 -1.500000 1.818738 -1.584524
\h'926u'\v'171u'\D'l -11u 6u'\h'-912u'\v'-176u'
.sp -1
...line 1.818738 -1.415476 2.000000 -1.500000
\h'913u'\v'166u'\D'l 12u 6u'\h'-925u'\v'-170u'
.sp -1
...line 1.000000 -1.500000 2.000000 -1.500000
\h'857u'\v'171u'\D'l 69u 0u'\h'-925u'\v'-170u'
.sp -1
\h'857u'\v'171u'\h'-\w'new 'u'new \h'-\w'new 'u'
.sp -1
...line 4.000000 0.500000 3.818738 0.415476
\h'1063u'\v'34u'\D'l -11u 6u'\h'-1049u'\v'-39u'
.sp -1
...line 3.818738 0.584524 4.000000 0.500000
\h'1050u'\v'28u'\D'l 12u 6u'\h'-1062u'\v'-33u'
.sp -1
...line 1.500000 0.500000 4.000000 0.500000
\h'891u'\v'34u'\D'l 171u 0u'\h'-1062u'\v'-33u'
.sp -1
...line 3.000000 -1.000000 4.000000 -1.000000
\h'994u'\v'137u'\D'l 69u 0u'\h'-1062u'\v'-136u'
.sp -1
...line 3.000000 -2.000000 3.000000 -1.000000
\h'994u'\v'206u'\D'l 0u -68u'\h'-993u'\v'-136u'
.sp -1
...line 4.000000 -2.000000 3.000000 -2.000000
\h'1063u'\v'206u'\D'l -68u 0u'\h'-993u'\v'-205u'
.sp -1
...line 4.000000 -1.000000 4.000000 -2.000000
\h'1063u'\v'137u'\D'l 0u 69u'\h'-1062u'\v'-205u'
.sp -1
...line 2.000000 -1.000000 3.000000 -1.000000
\h'926u'\v'137u'\D'l 69u 0u'\h'-993u'\v'-136u'
.sp -1
...line 2.000000 -2.000000 2.000000 -1.000000
\h'926u'\v'206u'\D'l 0u -68u'\h'-925u'\v'-136u'
.sp -1
...line 3.000000 -2.000000 2.000000 -2.000000
\h'994u'\v'206u'\D'l -68u 0u'\h'-925u'\v'-205u'
.sp -1
...line 3.000000 -1.000000 3.000000 -2.000000
\h'994u'\v'137u'\D'l 0u 69u'\h'-993u'\v'-205u'
.sp -1
...line 5.000000 1.000000 6.000000 1.000000
\h'1131u'\v'0u'\D'l 69u 0u'\h'-1199u'\v'0u'
.sp -1
...line 5.000000 0.000000 5.000000 1.000000
\h'1131u'\v'69u'\D'l 0u -68u'\h'-1130u'\v'0u'
.sp -1
...line 6.000000 0.000000 5.000000 0.000000
\h'1200u'\v'69u'\D'l -68u 0u'\h'-1130u'\v'-68u'
.sp -1
...line 6.000000 1.000000 6.000000 0.000000
\h'1200u'\v'0u'\D'l 0u 69u'\h'-1199u'\v'-68u'
.sp -1
...line 4.000000 1.000000 5.000000 1.000000
\h'1063u'\v'0u'\D'l 69u 0u'\h'-1130u'\v'0u'
.sp -1
...line 4.000000 0.000000 4.000000 1.000000
\h'1063u'\v'69u'\D'l 0u -68u'\h'-1062u'\v'0u'
.sp -1
...line 5.000000 0.000000 4.000000 0.000000
\h'1131u'\v'69u'\D'l -68u 0u'\h'-1062u'\v'-68u'
.sp -1
...line 5.000000 1.000000 5.000000 0.000000
\h'1131u'\v'0u'\D'l 0u 69u'\h'-1130u'\v'-68u'
.sp -1
...line 6.000000 1.000000 5.000000 0.000000
\h'1200u'\v'0u'\D'l -68u 69u'\h'-1130u'\v'-68u'
.sp -1
...line 1.000000 1.000000 2.000000 1.000000
\h'857u'\v'0u'\D'l 69u 0u'\h'-925u'\v'0u'
.sp -1
...line 1.000000 0.000000 1.000000 1.000000
\h'857u'\v'69u'\D'l 0u -68u'\h'-856u'\v'0u'
.sp -1
...line 2.000000 0.000000 1.000000 0.000000
\h'926u'\v'69u'\D'l -68u 0u'\h'-856u'\v'-68u'
.sp -1
...line 2.000000 1.000000 2.000000 0.000000
\h'926u'\v'0u'\D'l 0u 69u'\h'-925u'\v'-68u'
.sp -1
...line 0.000000 1.000000 1.000000 1.000000
\h'789u'\v'0u'\D'l 69u 0u'\h'-856u'\v'0u'
.sp -1
...line 0.000000 0.000000 0.000000 1.000000
\h'789u'\v'69u'\D'l 0u -68u'\h'-788u'\v'0u'
.sp -1
...line 1.000000 0.000000 0.000000 0.000000
\h'857u'\v'69u'\D'l -68u 0u'\h'-788u'\v'-68u'
.sp -1
...line 1.000000 1.000000 1.000000 0.000000
\h'857u'\v'0u'\D'l 0u 69u'\h'-856u'\v'-68u'
.sp -1
.IF
.P1
main {
	var lht, lwd;
	lht = 1;
	lwd = 2*lht;
	put first: listnode {
		info.sw = 0;
	};
	put last: listnode {
		info.sw = 2[first.info.sw,first.next.se];
		conn next.sw to next.ne;
	};
	put new: listnode {
		info.nw = 2[first.next.ne,first.next.se];
	};
	put arrow {
		hd = last.info.hook;
		tl = first.next.c;
	};
	put arrow {
		hd = new.info.hook;
		tl = hd - 1;
		right "new " at tl;
	};
	put arrow {
		hd = first.info.hook;
		tl = hd - 1;
		right "list " at tl;
	};
}
.P2
.LP
Here we have added statements directly to the
parameter section of two of the calls to
.IT arrow
to avoid either naming each instance of
.IT arrow
or naming the tails of these arrows so that
text could be placed there.
We have also added a statement to draw the
null pointer in box
.IT last .
.PP
The program to draw the list after insertion of the
new node remains largely unchanged:
the nodes haven't moved; only the arrows hooking them
together have moved.
.ne 4i
.IS
...maxx 6.000000
...maxy 1.000000
...minx -1.000000
...miny -2.000000
...line 0.000000 0.500000 -0.181262 0.415476
.ne 0.86i
\h'789u'\v'34u'\D'l -11u 6u'\h'-775u'\v'-39u'
.sp -1
...line -0.181262 0.584524 0.000000 0.500000
\h'776u'\v'28u'\D'l 12u 6u'\h'-788u'\v'-33u'
.sp -1
...line -1.000000 0.500000 0.000000 0.500000
\h'720u'\v'34u'\D'l 69u 0u'\h'-788u'\v'-33u'
.sp -1
\h'720u'\v'34u'\h'-\w'list 'u'list \h'-\w'list 'u'
.sp -1
...line 2.000000 -1.500000 1.818738 -1.584524
\h'926u'\v'171u'\D'l -11u 6u'\h'-912u'\v'-176u'
.sp -1
...line 1.818738 -1.415476 2.000000 -1.500000
\h'913u'\v'166u'\D'l 12u 6u'\h'-925u'\v'-170u'
.sp -1
...line 1.000000 -1.500000 2.000000 -1.500000
\h'857u'\v'171u'\D'l 69u 0u'\h'-925u'\v'-170u'
.sp -1
\h'857u'\v'171u'\h'-\w'new 'u'new \h'-\w'new 'u'
.sp -1
...line 4.000000 0.000000 4.022866 -0.198689
\h'1063u'\v'69u'\D'l 2u 14u'\h'-1063u'\v'-81u'
.sp -1
...line 3.862494 -0.145231 4.000000 0.000000
\h'1053u'\v'79u'\D'l 9u -9u'\h'-1062u'\v'-68u'
.sp -1
...line 3.500000 -1.500000 4.000000 0.000000
\h'1029u'\v'171u'\D'l 34u -102u'\h'-1062u'\v'-68u'
.sp -1
...line 2.000000 -1.000000 1.862494 -0.854769
\h'926u'\v'137u'\D'l -8u -9u'\h'-915u'\v'-126u'
.sp -1
...line 2.022866 -0.801311 2.000000 -1.000000
\h'927u'\v'124u'\D'l -1u 14u'\h'-925u'\v'-136u'
.sp -1
...line 1.500000 0.500000 2.000000 -1.000000
\h'891u'\v'34u'\D'l 34u 103u'\h'-925u'\v'-136u'
.sp -1
...line 3.000000 -1.000000 4.000000 -1.000000
\h'994u'\v'137u'\D'l 69u 0u'\h'-1062u'\v'-136u'
.sp -1
...line 3.000000 -2.000000 3.000000 -1.000000
\h'994u'\v'206u'\D'l 0u -68u'\h'-993u'\v'-136u'
.sp -1
...line 4.000000 -2.000000 3.000000 -2.000000
\h'1063u'\v'206u'\D'l -68u 0u'\h'-993u'\v'-205u'
.sp -1
...line 4.000000 -1.000000 4.000000 -2.000000
\h'1063u'\v'137u'\D'l 0u 69u'\h'-1062u'\v'-205u'
.sp -1
...line 2.000000 -1.000000 3.000000 -1.000000
\h'926u'\v'137u'\D'l 69u 0u'\h'-993u'\v'-136u'
.sp -1
...line 2.000000 -2.000000 2.000000 -1.000000
\h'926u'\v'206u'\D'l 0u -68u'\h'-925u'\v'-136u'
.sp -1
...line 3.000000 -2.000000 2.000000 -2.000000
\h'994u'\v'206u'\D'l -68u 0u'\h'-925u'\v'-205u'
.sp -1
...line 3.000000 -1.000000 3.000000 -2.000000
\h'994u'\v'137u'\D'l 0u 69u'\h'-993u'\v'-205u'
.sp -1
...line 5.000000 1.000000 6.000000 1.000000
\h'1131u'\v'0u'\D'l 69u 0u'\h'-1199u'\v'0u'
.sp -1
...line 5.000000 0.000000 5.000000 1.000000
\h'1131u'\v'69u'\D'l 0u -68u'\h'-1130u'\v'0u'
.sp -1
...line 6.000000 0.000000 5.000000 0.000000
\h'1200u'\v'69u'\D'l -68u 0u'\h'-1130u'\v'-68u'
.sp -1
...line 6.000000 1.000000 6.000000 0.000000
\h'1200u'\v'0u'\D'l 0u 69u'\h'-1199u'\v'-68u'
.sp -1
...line 4.000000 1.000000 5.000000 1.000000
\h'1063u'\v'0u'\D'l 69u 0u'\h'-1130u'\v'0u'
.sp -1
...line 4.000000 0.000000 4.000000 1.000000
\h'1063u'\v'69u'\D'l 0u -68u'\h'-1062u'\v'0u'
.sp -1
...line 5.000000 0.000000 4.000000 0.000000
\h'1131u'\v'69u'\D'l -68u 0u'\h'-1062u'\v'-68u'
.sp -1
...line 5.000000 1.000000 5.000000 0.000000
\h'1131u'\v'0u'\D'l 0u 69u'\h'-1130u'\v'-68u'
.sp -1
...line 6.000000 1.000000 5.000000 0.000000
\h'1200u'\v'0u'\D'l -68u 69u'\h'-1130u'\v'-68u'
.sp -1
...line 1.000000 1.000000 2.000000 1.000000
\h'857u'\v'0u'\D'l 69u 0u'\h'-925u'\v'0u'
.sp -1
...line 1.000000 0.000000 1.000000 1.000000
\h'857u'\v'69u'\D'l 0u -68u'\h'-856u'\v'0u'
.sp -1
...line 2.000000 0.000000 1.000000 0.000000
\h'926u'\v'69u'\D'l -68u 0u'\h'-856u'\v'-68u'
.sp -1
...line 2.000000 1.000000 2.000000 0.000000
\h'926u'\v'0u'\D'l 0u 69u'\h'-925u'\v'-68u'
.sp -1
...line 0.000000 1.000000 1.000000 1.000000
\h'789u'\v'0u'\D'l 69u 0u'\h'-856u'\v'0u'
.sp -1
...line 0.000000 0.000000 0.000000 1.000000
\h'789u'\v'69u'\D'l 0u -68u'\h'-788u'\v'0u'
.sp -1
...line 1.000000 0.000000 0.000000 0.000000
\h'857u'\v'69u'\D'l -68u 0u'\h'-788u'\v'-68u'
.sp -1
...line 1.000000 1.000000 1.000000 0.000000
\h'857u'\v'0u'\D'l 0u 69u'\h'-856u'\v'-68u'
.sp -1
.IF
.P1
main {
	var lht, lwd;
	lht = 1;
	lwd = 2*lht;
	put first: listnode {
		info.sw = 0;
	};
	put last: listnode {
		info.sw = 2[first.info.sw,first.next.se];
		conn next.sw to next.ne;
	};
	put new: listnode {
		info.nw = 2[first.next.ne,first.next.se];
	};
	/* These two arrows are different: */
	put arrow {
		hd = new.info.nw;
		tl = first.next.c;
	};
	put arrow {
		hd = last.info.sw;
		tl = new.next.c;
	}
	/* These are the same as before: */
	put arrow {
		hd = new.info.hook;
		tl = hd - 1;
		right "new " at tl;
	};
	put arrow {
		hd = first.info.hook;
		tl = hd - 1;
		right "list " at tl;
	};
}
.P2
.NH 2
A Shorter Version
.PP
The previous example is somewhat long-winded
because it demonstrates many features of \*(id
that really aren't needed.
For instance, it would probably have made better
sense to define
.IT listnode
as a basic element rather than building it out
of
.IT rect s.
This would reduce the need for delving deep
into the internals of boxes from outside
(e.g.
.IT first.info.hook ).
Here is the same example reworked:
.IS
...width 2
...maxx 6.000000
...maxy 1.000000
...minx -1.000000
...miny -2.000000
...line 0.000000 0.500000 -0.181262 0.415476
.ne 0.86i
\h'789u'\v'34u'\D'l -11u 6u'\h'-775u'\v'-39u'
.sp -1
...line -0.181262 0.584524 0.000000 0.500000
\h'776u'\v'28u'\D'l 12u 6u'\h'-788u'\v'-33u'
.sp -1
...line -1.000000 0.500000 0.000000 0.500000
\h'720u'\v'34u'\D'l 69u 0u'\h'-788u'\v'-33u'
.sp -1
\h'720u'\v'34u'\h'-\w'list 'u'list \h'-\w'list 'u'
.sp -1
...line 2.000000 -1.500000 1.818738 -1.584524
\h'926u'\v'171u'\D'l -11u 6u'\h'-912u'\v'-176u'
.sp -1
...line 1.818738 -1.415476 2.000000 -1.500000
\h'913u'\v'166u'\D'l 12u 6u'\h'-925u'\v'-170u'
.sp -1
...line 1.000000 -1.500000 2.000000 -1.500000
\h'857u'\v'171u'\D'l 69u 0u'\h'-925u'\v'-170u'
.sp -1
\h'857u'\v'171u'\h'-\w'new 'u'new \h'-\w'new 'u'
.sp -1
...line 4.000000 0.000000 4.022866 -0.198689
\h'1063u'\v'69u'\D'l 2u 14u'\h'-1063u'\v'-81u'
.sp -1
...line 3.862494 -0.145231 4.000000 0.000000
\h'1053u'\v'79u'\D'l 9u -9u'\h'-1062u'\v'-68u'
.sp -1
...line 3.500000 -1.500000 4.000000 0.000000
\h'1029u'\v'171u'\D'l 34u -102u'\h'-1062u'\v'-68u'
.sp -1
...line 2.000000 -1.000000 1.862494 -0.854769
\h'926u'\v'137u'\D'l -8u -9u'\h'-915u'\v'-126u'
.sp -1
...line 2.022866 -0.801311 2.000000 -1.000000
\h'927u'\v'124u'\D'l -1u 14u'\h'-925u'\v'-136u'
.sp -1
...line 1.500000 0.500000 2.000000 -1.000000
\h'891u'\v'34u'\D'l 34u 103u'\h'-925u'\v'-136u'
.sp -1
...line 3.000000 -2.000000 3.000000 -1.000000
\h'994u'\v'206u'\D'l 0u -68u'\h'-993u'\v'-136u'
.sp -1
...line 4.000000 -1.000000 2.000000 -1.000000
\h'1063u'\v'137u'\D'l -136u 0u'\h'-925u'\v'-136u'
.sp -1
...line 4.000000 -2.000000 4.000000 -1.000000
\h'1063u'\v'206u'\D'l 0u -68u'\h'-1062u'\v'-136u'
.sp -1
...line 2.000000 -2.000000 4.000000 -2.000000
\h'926u'\v'206u'\D'l 137u 0u'\h'-1062u'\v'-205u'
.sp -1
...line 2.000000 -1.000000 2.000000 -2.000000
\h'926u'\v'137u'\D'l 0u 69u'\h'-925u'\v'-205u'
.sp -1
...line 5.000000 0.000000 5.000000 1.000000
\h'1131u'\v'69u'\D'l 0u -68u'\h'-1130u'\v'0u'
.sp -1
...line 6.000000 1.000000 4.000000 1.000000
\h'1200u'\v'0u'\D'l -136u 0u'\h'-1062u'\v'0u'
.sp -1
...line 6.000000 0.000000 6.000000 1.000000
\h'1200u'\v'69u'\D'l 0u -68u'\h'-1199u'\v'0u'
.sp -1
...line 4.000000 0.000000 6.000000 0.000000
\h'1063u'\v'69u'\D'l 137u 0u'\h'-1199u'\v'-68u'
.sp -1
...line 4.000000 1.000000 4.000000 0.000000
\h'1063u'\v'0u'\D'l 0u 69u'\h'-1062u'\v'-68u'
.sp -1
...line 6.000000 1.000000 5.000000 0.000000
\h'1200u'\v'0u'\D'l -68u 69u'\h'-1130u'\v'-68u'
.sp -1
...line 1.000000 0.000000 1.000000 1.000000
\h'857u'\v'69u'\D'l 0u -68u'\h'-856u'\v'0u'
.sp -1
...line 2.000000 1.000000 0.000000 1.000000
\h'926u'\v'0u'\D'l -136u 0u'\h'-788u'\v'0u'
.sp -1
...line 2.000000 0.000000 2.000000 1.000000
\h'926u'\v'69u'\D'l 0u -68u'\h'-925u'\v'0u'
.sp -1
...line 0.000000 0.000000 2.000000 0.000000
\h'789u'\v'69u'\D'l 137u 0u'\h'-925u'\v'-68u'
.sp -1
...line 0.000000 1.000000 0.000000 0.000000
\h'789u'\v'0u'\D'l 0u 69u'\h'-788u'\v'-68u'
.sp -1
.sp 206u
.sp 1
.sp 1
.IE
.P1
listnode {
	var n, s, e, w, ne, nw, se, sw, next;
	n = s + (0,1)*lht;
	ne = n + 0.5*lwd = nw + lwd;
	se = s + 0.5*lwd = sw + lwd;
	e = (ne + se)/2;
	w = (nw + sw)/2;
	next = (ne + s)/2;
	conn nw to ne to se to sw to nw;
	conn n to s;
}

main {
	var lht, lwd;
	lht = 1;
	lwd = 2;
	put first: listnode {
		sw = 0;
	};
	put last: listnode {
		sw = 2[first.sw,first.se];
		conn s to ne;
	};
	put new: listnode {
		nw = 2[first.ne,first.se];
	};
	put arrow {
		hd = new.nw;
		tl = first.next;
	};
	put arrow {
		hd = last.sw;
		tl = new.next;
	};
	put arrow {
		hd = new.w;
		tl = hd - 1;
		right "new " at tl;
	};
	put arrow {
		hd = first.w;
		tl = hd - 1;
		right "list " at tl;
	};
}
.P2
Notice that equations need not be just a left side and a right side:
they may include several expressions that should be equal.
.NH 1
Iteration of \*(id Constructs
.NH 2
Pens
.PP
In Donald Knuth's \s-2METAFONT\s0[3]
system, pens are different
shapes\(emcircles, ellipses, and polygons\(emthat draw along
curves.
\*(id includes pens as a generalization of this idea:
.IT any
box may be used to draw along a line.
For instance, users may define ``dashed'' or ``dotted'' pens.
A pen statement looks like this:
.P1
.nr 99 \n(.s
.nr 98 \n(.f
.af 98 01
.rm 11 
.as 11 "conn 
.ps 10
.ft 2
.ds 12 "x
.ds 12 \x'0'\f2\s10\*(12\|\s\n(99\f(\n(98
.as 11 \*(12
.ps \n(99
.ft \n(98
.as 11 " to 
.ps 10
.ft 2
.ds 12 "y
.ds 12 \x'0'\f2\s10\*(12\|\s\n(99\f(\n(98
.as 11 \*(12
.ps \n(99
.ft \n(98
.as 11 "
.ps \n(99
.ft \n(98
\*(11
.nr 99 \n(.s
.nr 98 \n(.f
.af 98 01
.rm 11 
.as 11 "	using 
.ps 10
.ft 2
.ds 12 "n
.ds 12 \x'0'\f2\s10\*(12\|\s\n(99\f(\n(98
.as 11 \*(12
.ps \n(99
.ft \n(98
.as 11 " 
.ps 10
.ft 2
.ds 12 "pen
.ds 12 \x'0'\f2\s10\*(12\|\s\n(99\f(\n(98
.as 11 \*(12
.ps \n(99
.ft \n(98
.as 11 " {
.ps \n(99
.ft \n(98
\*(11
		...
.nr 99 \n(.s
.nr 98 \n(.f
.af 98 01
.rm 11 
.as 11 "	} <
.ps 10
.ft 2
.ds 12 "a
.ds 12 \x'0'\f2\s10\*(12\|\s\n(99\f(\n(98
.as 11 \*(12
.ps \n(99
.ft \n(98
.as 11 ",
.ps 10
.ft 2
.ds 12 "b
.ds 12 \x'0'\f2\s10\*(12\|\s\n(99\f(\n(98
.as 11 \*(12
.ps \n(99
.ft \n(98
.as 11 ">;
.ps \n(99
.ft \n(98
\*(11
.P2
.nr 99 \n(.s
.nr 98 \n(.f
.af 98 01
.rm 11 
.as 11 "(The only keywords in this statement are 
.ps 10
.ft 2
.ds 12 "conn
.ds 12 \x'0'\f2\s10\*(12\|\s\n(99\f(\n(98
.as 11 \*(12
.ps \n(99
.ft \n(98
.as 11 ", 
.ps 10
.ft 2
.ds 12 "to
.ds 12 \x'0'\f2\s10\*(12\s\n(99\f(\n(98
.as 11 \*(12
.ps \n(99
.ft \n(98
.as 11 ", and 
.ps 10
.ft 2
.ds 12 "using
.ds 12 \x'0'\f2\s10\*(12\|\s\n(99\f(\n(98
.as 11 \*(12
.ps \n(99
.ft \n(98
.as 11 ".)
.ps \n(99
.ft \n(98
\*(11
.IT Pen
may be any box.
.nr 99 \n(.s
.nr 98 \n(.f
.af 98 01
.rm 11 
.as 11 "\*(id will place 
.ps 10
.ft 2
.ds 12 "n
.ds 12 \x'0'\f2\s10\*(12\|\s\n(99\f(\n(98
.as 11 \*(12
.ps \n(99
.ft \n(98
.as 11 " copies of
.ps \n(99
.ft \n(98
\*(11
.IT pen
.nr 99 \n(.s
.nr 98 \n(.f
.af 98 01
.rm 11 
.as 11 "in the space from 
.ps 10
.ft 2
.ds 12 "x
.ds 12 \x'0'\f2\s10\*(12\|\s\n(99\f(\n(98
.as 11 \*(12
.ps \n(99
.ft \n(98
.as 11 " to 
.ps 10
.ft 2
.ds 12 "y
.ds 12 \x'0'\f2\s10\*(12\|\s\n(99\f(\n(98
.as 11 \*(12
.ps \n(99
.ft \n(98
.as 11 ".
.ps \n(99
.ft \n(98
\*(11
.nr 99 \n(.s
.nr 98 \n(.f
.af 98 01
.rm 11 
.ps 10
.ft 2
.ds 12 "a
.ds 12 \x'0'\f2\s10\*(12\|\s\n(99\f(\n(98
.as 11 \*(12
.ps \n(99
.ft \n(98
.as 11 " and 
.ps 10
.ft 2
.ds 12 "b
.ds 12 \x'0'\f2\s10\*(12\|\s\n(99\f(\n(98
.as 11 \*(12
.ps \n(99
.ft \n(98
.as 11 " are expressions known to
.ps \n(99
.ft \n(98
\*(11
.IT pen .
The first instance of
.IT pen
.nr 99 \n(.s
.nr 98 \n(.f
.af 98 01
.rm 11 
.as 11 "will have 
.ps 10
.ft 2
.ds 12 "a
.ds 12 \x'0'\f2\s10\*(12\|\s\n(99\f(\n(98
.as 11 \*(12
.ps \n(99
.ft \n(98
.as 11 " at 
.ps 10
.ft 2
.ds 12 "x
.ds 12 \x'0'\f2\s10\*(12\|\s\n(99\f(\n(98
.as 11 \*(12
.ps \n(99
.ft \n(98
.as 11 ", and
.ps \n(99
.ft \n(98
\*(11
the last instance of
.IT pen
.nr 99 \n(.s
.nr 98 \n(.f
.af 98 01
.rm 11 
.as 11 "will have 
.ps 10
.ft 2
.ds 12 "b
.ds 12 \x'0'\f2\s10\*(12\|\s\n(99\f(\n(98
.as 11 \*(12
.ps \n(99
.ft \n(98
.as 11 " at 
.ps 10
.ft 2
.ds 12 "y
.ds 12 \x'0'\f2\s10\*(12\|\s\n(99\f(\n(98
.as 11 \*(12
.ps \n(99
.ft \n(98
.as 11 ";
.ps \n(99
.ft \n(98
\*(11
every instance in between will have
.nr 99 \n(.s
.nr 98 \n(.f
.af 98 01
.rm 11 
.as 11 "its 
.ps 10
.ft 2
.ds 12 "a
.ds 12 \x'0'\f2\s10\*(12\|\s\n(99\f(\n(98
.as 11 \*(12
.ps \n(99
.ft \n(98
.as 11 " at the preceding one's 
.ps 10
.ft 2
.ds 12 "b
.ds 12 \x'0'\f2\s10\*(12\|\s\n(99\f(\n(98
.as 11 \*(12
.ps \n(99
.ft \n(98
.as 11 ",
.ps \n(99
.ft \n(98
\*(11
.nr 99 \n(.s
.nr 98 \n(.f
.af 98 01
.rm 11 
.as 11 "and its 
.ps 10
.ft 2
.ds 12 "b
.ds 12 \x'0'\f2\s10\*(12\|\s\n(99\f(\n(98
.as 11 \*(12
.ps \n(99
.ft \n(98
.as 11 " at the succeeding one's 
.ps 10
.ft 2
.ds 12 "a
.ds 12 \x'0'\f2\s10\*(12\|\s\n(99\f(\n(98
.as 11 \*(12
.ps \n(99
.ft \n(98
.as 11 ",
.ps \n(99
.ft \n(98
\*(11
as shown in this picture:
.IS
...colwid 6.0
...width 4.0
...maxx 8.000000
...maxy 0.500000
...minx 0.000000
...miny -0.500000
.ne 0.50i
\h'1200u'\v'60u'\h'-\w'\f2b\fP 'u'\f2b\fP \h'-\w'\f2b\fP 'u'
.sp -1
\h'1080u'\v'60u' \f2a\fP\h'-\w' \f2a\fP'u'
.sp -1
...line 7.000000 0.500000 8.000000 0.500000
\h'1080u'\v'0u'\D'l 120u 0u'\h'-1199u'\v'0u'
.sp -1
...line 7.000000 -0.500000 7.000000 0.500000
\h'1080u'\v'120u'\D'l 0u -119u'\h'-1079u'\v'0u'
.sp -1
...line 8.000000 -0.500000 7.000000 -0.500000
\h'1200u'\v'120u'\D'l -119u 0u'\h'-1079u'\v'-119u'
.sp -1
...line 8.000000 0.500000 8.000000 -0.500000
\h'1200u'\v'0u'\D'l 0u 120u'\h'-1199u'\v'-119u'
.sp -1
\h'1200u'\v'60u' \f2y\fP\h'-\w' \f2y\fP'u'
.sp -1
\h'1140u'\v'108u'\h'-\w'\f2n\fP'u/2u'\f2n\fP\h'-\w'\f2n\fP'u/2u'
.sp -1
\h'1020u'\v'60u'\h'-\w'...'u/2u'...\h'-\w'...'u/2u'
.sp -1
\h'960u'\v'60u'\h'-\w'\f2b\fP 'u'\f2b\fP \h'-\w'\f2b\fP 'u'
.sp -1
\h'840u'\v'60u' \f2a\fP\h'-\w' \f2a\fP'u'
.sp -1
...line 5.000000 0.500000 6.000000 0.500000
\h'840u'\v'0u'\D'l 120u 0u'\h'-959u'\v'0u'
.sp -1
...line 5.000000 -0.500000 5.000000 0.500000
\h'840u'\v'120u'\D'l 0u -119u'\h'-839u'\v'0u'
.sp -1
...line 6.000000 -0.500000 5.000000 -0.500000
\h'960u'\v'120u'\D'l -119u 0u'\h'-839u'\v'-119u'
.sp -1
...line 6.000000 0.500000 6.000000 -0.500000
\h'960u'\v'0u'\D'l 0u 120u'\h'-959u'\v'-119u'
.sp -1
\h'900u'\v'108u'\h'-\w'\f2i\fP+1'u/2u'\f2i\fP+1\h'-\w'\f2i\fP+1'u/2u'
.sp -1
\h'840u'\v'60u'\h'-\w'\f2b\fP 'u'\f2b\fP \h'-\w'\f2b\fP 'u'
.sp -1
\h'720u'\v'60u' \f2a\fP\h'-\w' \f2a\fP'u'
.sp -1
...line 4.000000 0.500000 5.000000 0.500000
\h'720u'\v'0u'\D'l 120u 0u'\h'-839u'\v'0u'
.sp -1
...line 4.000000 -0.500000 4.000000 0.500000
\h'720u'\v'120u'\D'l 0u -119u'\h'-719u'\v'0u'
.sp -1
...line 5.000000 -0.500000 4.000000 -0.500000
\h'840u'\v'120u'\D'l -119u 0u'\h'-719u'\v'-119u'
.sp -1
...line 5.000000 0.500000 5.000000 -0.500000
\h'840u'\v'0u'\D'l 0u 120u'\h'-839u'\v'-119u'
.sp -1
\h'780u'\v'108u'\h'-\w'\f2i\fP'u/2u'\f2i\fP\h'-\w'\f2i\fP'u/2u'
.sp -1
\h'720u'\v'60u'\h'-\w'\f2b\fP 'u'\f2b\fP \h'-\w'\f2b\fP 'u'
.sp -1
\h'600u'\v'60u' \f2a\fP\h'-\w' \f2a\fP'u'
.sp -1
...line 3.000000 0.500000 4.000000 0.500000
\h'600u'\v'0u'\D'l 120u 0u'\h'-719u'\v'0u'
.sp -1
...line 3.000000 -0.500000 3.000000 0.500000
\h'600u'\v'120u'\D'l 0u -119u'\h'-599u'\v'0u'
.sp -1
...line 4.000000 -0.500000 3.000000 -0.500000
\h'720u'\v'120u'\D'l -119u 0u'\h'-599u'\v'-119u'
.sp -1
...line 4.000000 0.500000 4.000000 -0.500000
\h'720u'\v'0u'\D'l 0u 120u'\h'-719u'\v'-119u'
.sp -1
\h'660u'\v'108u'\h'-\w'\f2i\fP\-1'u/2u'\f2i\fP\-1\h'-\w'\f2i\fP\-1'u/2u'
.sp -1
\h'540u'\v'60u'\h'-\w'...'u/2u'...\h'-\w'...'u/2u'
.sp -1
\h'480u'\v'60u'\h'-\w'\f2b\fP 'u'\f2b\fP \h'-\w'\f2b\fP 'u'
.sp -1
\h'360u'\v'60u' \f2a\fP\h'-\w' \f2a\fP'u'
.sp -1
...line 1.000000 0.500000 2.000000 0.500000
\h'360u'\v'0u'\D'l 120u 0u'\h'-479u'\v'0u'
.sp -1
...line 1.000000 -0.500000 1.000000 0.500000
\h'360u'\v'120u'\D'l 0u -119u'\h'-359u'\v'0u'
.sp -1
...line 2.000000 -0.500000 1.000000 -0.500000
\h'480u'\v'120u'\D'l -119u 0u'\h'-359u'\v'-119u'
.sp -1
...line 2.000000 0.500000 2.000000 -0.500000
\h'480u'\v'0u'\D'l 0u 120u'\h'-479u'\v'-119u'
.sp -1
\h'420u'\v'108u'\h'-\w'2'u/2u'2\h'-\w'2'u/2u'
.sp -1
\h'360u'\v'60u'\h'-\w'\f2b\fP 'u'\f2b\fP \h'-\w'\f2b\fP 'u'
.sp -1
\h'240u'\v'60u' \f2a\fP\h'-\w' \f2a\fP'u'
.sp -1
...line 0.000000 0.500000 1.000000 0.500000
\h'240u'\v'0u'\D'l 120u 0u'\h'-359u'\v'0u'
.sp -1
...line 0.000000 -0.500000 0.000000 0.500000
\h'240u'\v'120u'\D'l 0u -119u'\h'-239u'\v'0u'
.sp -1
...line 1.000000 -0.500000 0.000000 -0.500000
\h'360u'\v'120u'\D'l -119u 0u'\h'-239u'\v'-119u'
.sp -1
...line 1.000000 0.500000 1.000000 -0.500000
\h'360u'\v'0u'\D'l 0u 120u'\h'-359u'\v'-119u'
.sp -1
\h'300u'\v'108u'\h'-\w'1'u/2u'1\h'-\w'1'u/2u'
.sp -1
\h'240u'\v'60u'\h'-\w'\f2x\fP 'u'\f2x\fP \h'-\w'\f2x\fP 'u'
.sp -1
.sp 120u
.sp 1
.sp 1
.IE
.PP
Here is an example box that contains an angular wavy path:
.ne 2i
.IS
...colwid 9.0
...width 1.0
...maxx 1.000000
...maxy 0.200000
...minx 0.000000
...miny -0.200000
...line 0.250000 -0.200000 0.000000 0.000000
.ne 0.40i
\h'1020u'\v'96u'\D'l -59u -47u'\h'-959u'\v'-47u'
.sp -1
...line 0.750000 0.200000 0.250000 -0.200000
\h'1140u'\v'0u'\D'l -119u 96u'\h'-1019u'\v'-95u'
.sp -1
...line 1.000000 0.000000 0.750000 0.200000
\h'1200u'\v'48u'\D'l -59u -47u'\h'-1139u'\v'0u'
.sp -1
\h'1200u'\v'48u' (end)\h'-\w' (end)'u'
.sp -1
\h'960u'\v'48u'\h'-\w'(start) 'u'(start) \h'-\w'(start) 'u'
.sp -1
.sp 96u
.sp 1
.sp 1
.IE
.P1
wavy {
	var start, end, perp, pt1, pt2, ht;
	perp = (0,1)*(start - end)/abs(start - end);
	pt1 = 0.25[start,end] + perp*ht;
	pt2 = 0.75[start,end] - perp*ht;
	conn start to pt1 to pt2 to end;
}
.P2
.LP
Here we use
.IT wavy
as a pen to indicate that part of a rectangle is missing.
.IS
...maxx 2.000000
...maxy 1.000000
...minx 0.000000
...miny 0.000000
...line 1.352848 0.112861 1.280000 0.200000
.ne 0.50i
\h'1122u'\v'106u'\D'l -8u -9u'\h'-1113u'\v'-95u'
.sp -1
...line 1.127152 0.087139 1.352848 0.112861
\h'1095u'\v'110u'\D'l 27u -2u'\h'-1121u'\v'-105u'
.sp -1
...line 1.200000 0.000000 1.127152 0.087139
\h'1104u'\v'120u'\D'l -8u -9u'\h'-1094u'\v'-109u'
.sp -1
...line 1.432848 0.312861 1.360000 0.400000
\h'1132u'\v'82u'\D'l -8u -9u'\h'-1122u'\v'-71u'
.sp -1
...line 1.207152 0.287139 1.432848 0.312861
\h'1105u'\v'86u'\D'l 27u -2u'\h'-1131u'\v'-81u'
.sp -1
...line 1.280000 0.200000 1.207152 0.287139
\h'1114u'\v'96u'\D'l -8u -9u'\h'-1104u'\v'-85u'
.sp -1
...line 1.512848 0.512861 1.440000 0.600000
\h'1142u'\v'58u'\D'l -8u -9u'\h'-1132u'\v'-47u'
.sp -1
...line 1.287152 0.487139 1.512848 0.512861
\h'1114u'\v'62u'\D'l 27u -2u'\h'-1141u'\v'-57u'
.sp -1
...line 1.360000 0.400000 1.287152 0.487139
\h'1123u'\v'72u'\D'l -8u -9u'\h'-1113u'\v'-61u'
.sp -1
...line 1.592848 0.712861 1.520000 0.800000
\h'1151u'\v'34u'\D'l -8u -9u'\h'-1141u'\v'-23u'
.sp -1
...line 1.367152 0.687139 1.592848 0.712861
\h'1124u'\v'38u'\D'l 27u -2u'\h'-1150u'\v'-33u'
.sp -1
...line 1.440000 0.600000 1.367152 0.687139
\h'1133u'\v'48u'\D'l -8u -9u'\h'-1123u'\v'-37u'
.sp -1
...line 1.672848 0.912861 1.600000 1.000000
\h'1161u'\v'10u'\D'l -8u -9u'\h'-1151u'\v'0u'
.sp -1
...line 1.447152 0.887139 1.672848 0.912861
\h'1134u'\v'14u'\D'l 27u -2u'\h'-1160u'\v'-9u'
.sp -1
...line 1.520000 0.800000 1.447152 0.887139
\h'1142u'\v'24u'\D'l -8u -9u'\h'-1133u'\v'-13u'
.sp -1
...line 2.000000 1.000000 1.600000 1.000000
\h'1200u'\v'0u'\D'l -47u 0u'\h'-1151u'\v'0u'
.sp -1
...line 2.000000 0.000000 2.000000 1.000000
\h'1200u'\v'120u'\D'l 0u -119u'\h'-1199u'\v'0u'
.sp -1
...line 1.200000 0.000000 2.000000 0.000000
\h'1104u'\v'120u'\D'l 96u 0u'\h'-1199u'\v'-119u'
.sp -1
...line 0.952848 0.112861 0.880000 0.200000
\h'1074u'\v'106u'\D'l -8u -9u'\h'-1065u'\v'-95u'
.sp -1
...line 0.727152 0.087139 0.952848 0.112861
\h'1047u'\v'110u'\D'l 27u -2u'\h'-1073u'\v'-105u'
.sp -1
...line 0.800000 0.000000 0.727152 0.087139
\h'1056u'\v'120u'\D'l -8u -9u'\h'-1046u'\v'-109u'
.sp -1
...line 1.032848 0.312861 0.960000 0.400000
\h'1084u'\v'82u'\D'l -8u -9u'\h'-1074u'\v'-71u'
.sp -1
...line 0.807152 0.287139 1.032848 0.312861
\h'1057u'\v'86u'\D'l 27u -2u'\h'-1083u'\v'-81u'
.sp -1
...line 0.880000 0.200000 0.807152 0.287139
\h'1066u'\v'96u'\D'l -8u -9u'\h'-1056u'\v'-85u'
.sp -1
...line 1.112848 0.512861 1.040000 0.600000
\h'1094u'\v'58u'\D'l -8u -9u'\h'-1084u'\v'-47u'
.sp -1
...line 0.887152 0.487139 1.112848 0.512861
\h'1066u'\v'62u'\D'l 27u -2u'\h'-1093u'\v'-57u'
.sp -1
...line 0.960000 0.400000 0.887152 0.487139
\h'1075u'\v'72u'\D'l -8u -9u'\h'-1065u'\v'-61u'
.sp -1
...line 1.192848 0.712861 1.120000 0.800000
\h'1103u'\v'34u'\D'l -8u -9u'\h'-1093u'\v'-23u'
.sp -1
...line 0.967152 0.687139 1.192848 0.712861
\h'1076u'\v'38u'\D'l 27u -2u'\h'-1102u'\v'-33u'
.sp -1
...line 1.040000 0.600000 0.967152 0.687139
\h'1085u'\v'48u'\D'l -8u -9u'\h'-1075u'\v'-37u'
.sp -1
...line 1.272848 0.912861 1.200000 1.000000
\h'1113u'\v'10u'\D'l -8u -9u'\h'-1103u'\v'0u'
.sp -1
...line 1.047152 0.887139 1.272848 0.912861
\h'1086u'\v'14u'\D'l 27u -2u'\h'-1112u'\v'-9u'
.sp -1
...line 1.120000 0.800000 1.047152 0.887139
\h'1094u'\v'24u'\D'l -8u -9u'\h'-1085u'\v'-13u'
.sp -1
...line 0.000000 1.000000 1.200000 1.000000
\h'960u'\v'0u'\D'l 144u 0u'\h'-1103u'\v'0u'
.sp -1
...line 0.000000 0.000000 0.000000 1.000000
\h'960u'\v'120u'\D'l 0u -119u'\h'-959u'\v'0u'
.sp -1
...line 0.800000 0.000000 0.000000 0.000000
\h'1056u'\v'120u'\D'l -95u 0u'\h'-959u'\v'-119u'
.sp -1
.IF
.P1
main {
	var ne, nw, se, sw;
	var n1, s1, n2, s2;
	ne = nw + 2;
	se = sw + 2;
	ne = se + (0,1);
	n2 - 0.4 = n1 = 0.6[nw,ne];
	s2 - 0.4 = s1 = 0.4[sw,se];
	conn n1 to nw to sw to s1;
	conn n1 to s1
		using int(5*abs(n1-s1)) wavy {
			ht = -0.1;
		} <start,end>;
	conn n2 to ne to se to s2;
	conn n2 to s2
		using int(5*abs(n2-s2)) wavy {
			ht = -0.1;
		} <start,end>;
}
.P2
.LP
We can change
.IT wavy
to contain a smooth wave
by changing the word
.IT conn
in the fifth line of its definition to
.IT spline ,
and use the same instructions above to draw
the picture with the new pen.
.IS
...maxx 2.000000
...maxy 1.000000
...minx 0.000000
...miny 0.000000
...spline 1.200000 0.000000
.ne 0.50i
\h'1104u'\v'120u'\D'~ -8u -9u 27u -2u -8u -9u'\h'-1113u'\v'-95u'
.sp -1
...spline 1.280000 0.200000
\h'1114u'\v'96u'\D'~ -8u -9u 27u -2u -8u -9u'\h'-1122u'\v'-71u'
.sp -1
...spline 1.360000 0.400000
\h'1123u'\v'72u'\D'~ -8u -9u 27u -2u -8u -9u'\h'-1132u'\v'-47u'
.sp -1
...spline 1.440000 0.600000
\h'1133u'\v'48u'\D'~ -8u -9u 27u -2u -8u -9u'\h'-1141u'\v'-23u'
.sp -1
...spline 1.520000 0.800000
\h'1142u'\v'24u'\D'~ -8u -9u 27u -2u -8u -9u'\h'-1151u'\v'0u'
.sp -1
...line 2.000000 1.000000 1.600000 1.000000
\h'1200u'\v'0u'\D'l -47u 0u'\h'-1151u'\v'0u'
.sp -1
...line 2.000000 0.000000 2.000000 1.000000
\h'1200u'\v'120u'\D'l 0u -119u'\h'-1199u'\v'0u'
.sp -1
...line 1.200000 0.000000 2.000000 0.000000
\h'1104u'\v'120u'\D'l 96u 0u'\h'-1199u'\v'-119u'
.sp -1
...spline 0.800000 0.000000
\h'1056u'\v'120u'\D'~ -8u -9u 27u -2u -8u -9u'\h'-1065u'\v'-95u'
.sp -1
...spline 0.880000 0.200000
\h'1066u'\v'96u'\D'~ -8u -9u 27u -2u -8u -9u'\h'-1074u'\v'-71u'
.sp -1
...spline 0.960000 0.400000
\h'1075u'\v'72u'\D'~ -8u -9u 27u -2u -8u -9u'\h'-1084u'\v'-47u'
.sp -1
...spline 1.040000 0.600000
\h'1085u'\v'48u'\D'~ -8u -9u 27u -2u -8u -9u'\h'-1093u'\v'-23u'
.sp -1
...spline 1.120000 0.800000
\h'1094u'\v'24u'\D'~ -8u -9u 27u -2u -8u -9u'\h'-1103u'\v'0u'
.sp -1
...line 0.000000 1.000000 1.200000 1.000000
\h'960u'\v'0u'\D'l 144u 0u'\h'-1103u'\v'0u'
.sp -1
...line 0.000000 0.000000 0.000000 1.000000
\h'960u'\v'120u'\D'l 0u -119u'\h'-959u'\v'0u'
.sp -1
...line 0.800000 0.000000 0.000000 0.000000
\h'1056u'\v'120u'\D'l -95u 0u'\h'-959u'\v'-119u'
.sp -1
.sp 120u
.sp 1
.sp 1
.IE
.NH 2
Pens as For-Statements
.PP
The pen statement
.P1
.nr 99 \n(.s
.nr 98 \n(.f
.af 98 01
.rm 11 
.as 11 "conn 
.ps 10
.ft 2
.ds 12 "x
.ds 12 \x'0'\f2\s10\*(12\|\s\n(99\f(\n(98
.as 11 \*(12
.ps \n(99
.ft \n(98
.as 11 " to 
.ps 10
.ft 2
.ds 12 "y
.ds 12 \x'0'\f2\s10\*(12\|\s\n(99\f(\n(98
.as 11 \*(12
.ps \n(99
.ft \n(98
.as 11 "
.ps \n(99
.ft \n(98
\*(11
.nr 99 \n(.s
.nr 98 \n(.f
.af 98 01
.rm 11 
.as 11 "	using 
.ps 10
.ft 2
.ds 12 "n
.ds 12 \x'0'\f2\s10\*(12\|\s\n(99\f(\n(98
.as 11 \*(12
.ps \n(99
.ft \n(98
.as 11 " 
.ps 10
.ft 2
.ds 12 "pen
.ds 12 \x'0'\f2\s10\*(12\|\s\n(99\f(\n(98
.as 11 \*(12
.ps \n(99
.ft \n(98
.as 11 " {
.ps \n(99
.ft \n(98
\*(11
		...
.nr 99 \n(.s
.nr 98 \n(.f
.af 98 01
.rm 11 
.as 11 "	} <
.ps 10
.ft 2
.ds 12 "a
.ds 12 \x'0'\f2\s10\*(12\|\s\n(99\f(\n(98
.as 11 \*(12
.ps \n(99
.ft \n(98
.as 11 ",
.ps 10
.ft 2
.ds 12 "b
.ds 12 \x'0'\f2\s10\*(12\|\s\n(99\f(\n(98
.as 11 \*(12
.ps \n(99
.ft \n(98
.as 11 ">;
.ps \n(99
.ft \n(98
\*(11
.P2
.LP
has the same effect as
.P1
.nr 99 \n(.s
.nr 98 \n(.f
.af 98 01
.rm 11 
.as 11 "for 
.ps 10
.ft 2
.ds 12 "i
.ds 12 \x'0'\f2\s10\*(12\|\s\n(99\f(\n(98
.as 11 \*(12
.ps \n(99
.ft \n(98
.as 11 " = 1 to 
.ps 10
.ft 2
.ds 12 "n
.ds 12 \x'0'\f2\s10\*(12\|\s\n(99\f(\n(98
.as 11 \*(12
.ps \n(99
.ft \n(98
.as 11 " {
.ps \n(99
.ft \n(98
\*(11
.nr 99 \n(.s
.nr 98 \n(.f
.af 98 01
.rm 11 
.as 11 "	put 
.ps 10
.ft 2
.ds 12 "pen
.ds 12 \x'0'\f2\s10\*(12\|\s\n(99\f(\n(98
.as 11 \*(12
.ps \n(99
.ft \n(98
.as 11 " {
.ps \n(99
.ft \n(98
\*(11
.nr 99 \n(.s
.nr 98 \n(.f
.af 98 01
.rm 11 
.as 11 "		
.ps 10
.ft 2
.ds 12 "a
.ds 12 \x'0'\f2\s10\*(12\|\s\n(99\f(\n(98
.as 11 \*(12
.ps \n(99
.ft \n(98
.as 11 " = ((
.ps 10
.ft 2
.ds 12 "i
.ds 12 \x'0'\f2\s10\*(12\|\s\n(99\f(\n(98
.as 11 \*(12
.ps \n(99
.ft \n(98
.as 11 "-1)/
.ps 10
.ft 2
.ds 12 "n
.ds 12 \x'0'\f2\s10\*(12\|\s\n(99\f(\n(98
.as 11 \*(12
.ps \n(99
.ft \n(98
.as 11 ")[
.ps 10
.ft 2
.ds 12 "x
.ds 12 \x'0'\f2\s10\*(12\|\s\n(99\f(\n(98
.as 11 \*(12
.ps \n(99
.ft \n(98
.as 11 ",
.ps 10
.ft 2
.ds 12 "y
.ds 12 \x'0'\f2\s10\*(12\|\s\n(99\f(\n(98
.as 11 \*(12
.ps \n(99
.ft \n(98
.as 11 "];
.ps \n(99
.ft \n(98
\*(11
.nr 99 \n(.s
.nr 98 \n(.f
.af 98 01
.rm 11 
.as 11 "		
.ps 10
.ft 2
.ds 12 "b
.ds 12 \x'0'\f2\s10\*(12\|\s\n(99\f(\n(98
.as 11 \*(12
.ps \n(99
.ft \n(98
.as 11 " = (
.ps 10
.ft 2
.ds 12 "i
.ds 12 \x'0'\f2\s10\*(12\|\s\n(99\f(\n(98
.as 11 \*(12
.ps \n(99
.ft \n(98
.as 11 "/
.ps 10
.ft 2
.ds 12 "n
.ds 12 \x'0'\f2\s10\*(12\|\s\n(99\f(\n(98
.as 11 \*(12
.ps \n(99
.ft \n(98
.as 11 ")[
.ps 10
.ft 2
.ds 12 "x
.ds 12 \x'0'\f2\s10\*(12\|\s\n(99\f(\n(98
.as 11 \*(12
.ps \n(99
.ft \n(98
.as 11 ",
.ps 10
.ft 2
.ds 12 "y
.ds 12 \x'0'\f2\s10\*(12\|\s\n(99\f(\n(98
.as 11 \*(12
.ps \n(99
.ft \n(98
.as 11 "];
.ps \n(99
.ft \n(98
\*(11
		...
	};
}
.P2
.LP
imagining for a moment that \*(id had for-statements.
.Ts
This means a pen statement can be used to synthesize
a for-statement in an \*(id program.
Here is a pen statement to draw a dashed arc:
.IS
...maxx 1.000000
...maxy 1.000000
...minx -1.000000
...miny -1.000000
...arc 0.000000 0.000000 -0.951056 0.309017 -0.987688 0.156434 2.827433 2.984513 1.000000
.ne 1.00i
\h'966u'\v'83u'\D'a 114u 37u -118u -18u'\h'-960u'\v'-100u'
.sp -1
...arc 0.000000 0.000000 -0.809017 0.587785 -0.891006 0.453991 2.513274 2.670354 1.000000
\h'983u'\v'49u'\D'a 97u 71u -106u -53u'\h'-972u'\v'-65u'
.sp -1
...arc 0.000000 0.000000 -0.587785 0.809017 -0.707107 0.707107 2.199115 2.356194 1.000000
\h'1009u'\v'23u'\D'a 71u 97u -84u -84u'\h'-994u'\v'-34u'
.sp -1
...arc 0.000000 0.000000 -0.309017 0.951056 -0.453991 0.891006 1.884956 2.042035 1.000000
\h'1043u'\v'6u'\D'a 37u 114u -53u -106u'\h'-1025u'\v'-12u'
.sp -1
...arc 0.000000 0.000000 -0.000000 1.000000 -0.156435 0.987688 1.570796 1.727876 1.000000
\h'1080u'\v'0u'\D'a 0u 120u -18u -118u'\h'-1060u'\v'0u'
.sp -1
...arc 0.000000 0.000000 0.309017 0.951057 0.156434 0.987688 1.256637 1.413717 1.000000
\h'1117u'\v'6u'\D'a -36u 114u 19u -118u'\h'-1098u'\v'0u'
.sp -1
...arc 0.000000 0.000000 0.587785 0.809017 0.453991 0.891007 0.942478 1.099557 1.000000
\h'1151u'\v'23u'\D'a -70u 97u 54u -106u'\h'-1133u'\v'-12u'
.sp -1
...arc 0.000000 0.000000 0.809017 0.587785 0.707107 0.707107 0.628319 0.785398 1.000000
\h'1177u'\v'49u'\D'a -96u 71u 85u -84u'\h'-1164u'\v'-34u'
.sp -1
...arc 0.000000 0.000000 0.951057 0.309017 0.891007 0.453991 0.314159 0.471239 1.000000
\h'1194u'\v'83u'\D'a -113u 37u 107u -53u'\h'-1186u'\v'-65u'
.sp -1
...arc 0.000000 0.000000 1.000000 0.000000 0.987688 0.156434 0.000000 0.157080 1.000000
\h'1200u'\v'120u'\D'a -119u 0u 119u -18u'\h'-1198u'\v'-100u'
.sp -1
.IF
.P1
conn 0 to 180
	using 10 arc {
		center = 0;
		radius = 1;
	}<startang, 9+endang>;
.P2
.Te
.Ts
To draw a set of concentric circles
we can say:
.IS
...maxx 5.000000
...maxy 5.000000
...minx -5.000000
...miny -5.000000
...circle 0.000000 0.000000 5.000000
.ne 1.00i
\h'960u'\v'120u'\D'c 240u'\h'-1199u'\v'-119u'
.sp -1
...circle 0.000000 0.000000 4.000000
\h'984u'\v'120u'\D'c 192u'\h'-1175u'\v'-119u'
.sp -1
...circle 0.000000 0.000000 3.000000
\h'1008u'\v'120u'\D'c 144u'\h'-1151u'\v'-119u'
.sp -1
...circle 0.000000 0.000000 2.000000
\h'1032u'\v'120u'\D'c 96u'\h'-1127u'\v'-119u'
.sp -1
...circle 0.000000 0.000000 1.000000
\h'1056u'\v'120u'\D'c 48u'\h'-1103u'\v'-119u'
.sp -1
.IF
.P1
main {
	conn 1 to 6
		using 5 circle {
			center = 0;
			} <radius,radius+1>;
}
.P2
.sp 1
.Te
.Ts
In the first example, the second expression in angle
brackets is important: it means that each ``dash''
covers nine degrees.
In the second example, this expression is redundant:
its only purpose is to prevent \*(id from generating
a stream of error messages about inconsistent equations.
This contorted way of simulating for-statements
is necessary only because pens are meant to do
the right thing at each end of and all along a path that is
being drawn with some box, and not as general
iteration constructs.
.Te
.Ts
Why doesn't \*(id have
for-statements?
Notice that every variable in an \*(id program
is assigned a value exactly once.
Obviously the index of a for-statement must be
an exception to that rule.
Generating the index internally prevents the
need to have two kinds of variables\(emchanging
and fixed.
The local variables of boxes placed by pen statements
cannot be referenced outside the pen statement,
because the boxes are not named when they are placed.
A general for-statement could lead to the need to
generate automatically names for different instances of boxes,
a hard problem that I don't understand well enough yet.
.Te
.NH 2
Filling Regions
.PP
Because any box can be used as a pen, we can shade regions.
(We can have not only dashed and dotted ink, but checkered paint!)
Take box
.IT wavy ,
for instance.
First we construct a box
.IT brush ,
which consists of seven copies of
.IT wavy
going horizontally:
.IS
...maxx 7.000000
...maxy 0.300000
...minx 0.000000
...miny -0.300000
...line 6.250000 -0.300000 6.000000 0.000000
.ne 0.09i
\h'1174u'\v'21u'\D'l -8u -9u'\h'-1165u'\v'-9u'
.sp -1
...line 6.750000 0.300000 6.250000 -0.300000
\h'1191u'\v'0u'\D'l -16u 21u'\h'-1173u'\v'-20u'
.sp -1
...line 7.000000 0.000000 6.750000 0.300000
\h'1200u'\v'10u'\D'l -8u -9u'\h'-1190u'\v'0u'
.sp -1
...line 5.250000 -0.300000 5.000000 0.000000
\h'1140u'\v'21u'\D'l -8u -9u'\h'-1130u'\v'-9u'
.sp -1
...line 5.750000 0.300000 5.250000 -0.300000
\h'1157u'\v'0u'\D'l -16u 21u'\h'-1139u'\v'-20u'
.sp -1
...line 6.000000 0.000000 5.750000 0.300000
\h'1166u'\v'10u'\D'l -8u -9u'\h'-1156u'\v'0u'
.sp -1
...line 4.250000 -0.300000 4.000000 0.000000
\h'1106u'\v'21u'\D'l -8u -9u'\h'-1096u'\v'-9u'
.sp -1
...line 4.750000 0.300000 4.250000 -0.300000
\h'1123u'\v'0u'\D'l -16u 21u'\h'-1105u'\v'-20u'
.sp -1
...line 5.000000 0.000000 4.750000 0.300000
\h'1131u'\v'10u'\D'l -8u -9u'\h'-1122u'\v'0u'
.sp -1
...line 3.250000 -0.300000 3.000000 0.000000
\h'1071u'\v'21u'\D'l -8u -9u'\h'-1062u'\v'-9u'
.sp -1
...line 3.750000 0.300000 3.250000 -0.300000
\h'1089u'\v'0u'\D'l -16u 21u'\h'-1070u'\v'-20u'
.sp -1
...line 4.000000 0.000000 3.750000 0.300000
\h'1097u'\v'10u'\D'l -8u -9u'\h'-1088u'\v'0u'
.sp -1
...line 2.250000 -0.300000 2.000000 0.000000
\h'1037u'\v'21u'\D'l -8u -9u'\h'-1028u'\v'-9u'
.sp -1
...line 2.750000 0.300000 2.250000 -0.300000
\h'1054u'\v'0u'\D'l -16u 21u'\h'-1036u'\v'-20u'
.sp -1
...line 3.000000 0.000000 2.750000 0.300000
\h'1063u'\v'10u'\D'l -8u -9u'\h'-1053u'\v'0u'
.sp -1
...line 1.250000 -0.300000 1.000000 0.000000
\h'1003u'\v'21u'\D'l -8u -9u'\h'-993u'\v'-9u'
.sp -1
...line 1.750000 0.300000 1.250000 -0.300000
\h'1020u'\v'0u'\D'l -16u 21u'\h'-1002u'\v'-20u'
.sp -1
...line 2.000000 0.000000 1.750000 0.300000
\h'1029u'\v'10u'\D'l -8u -9u'\h'-1019u'\v'0u'
.sp -1
...line 0.250000 -0.300000 0.000000 0.000000
\h'969u'\v'21u'\D'l -8u -9u'\h'-959u'\v'-9u'
.sp -1
...line 0.750000 0.300000 0.250000 -0.300000
\h'986u'\v'0u'\D'l -16u 21u'\h'-968u'\v'-20u'
.sp -1
...line 1.000000 0.000000 0.750000 0.300000
\h'994u'\v'10u'\D'l -8u -9u'\h'-985u'\v'0u'
.sp -1
.IF
.P1
brush {
	var top, bot;
	var bwd, bht;
	var leftpt, rightpt;
	leftpt = 0.5*(top+bot) - bwd/2;
	rightpt = 0.5*(top+bot) + bwd/2;
	conn leftpt to rightpt
		using 7 wavy {
			ht = bht;
		}<start,end>;
}
.P2
Then we use ``brush'' to draw vertically
over the region of interest.
.IS
...maxx 1.000000
...maxy 0.933333
...minx -1.000000
...miny -0.933333
...line 0.785714 -0.933333 0.714286 -0.833333
.ne 0.93i
\h'1174u'\v'224u'\D'l -8u -11u'\h'-1165u'\v'-211u'
.sp -1
...line 0.928571 -0.733333 0.785714 -0.933333
\h'1191u'\v'200u'\D'l -16u 24u'\h'-1173u'\v'-223u'
.sp -1
...line 1.000000 -0.833333 0.928571 -0.733333
\h'1200u'\v'212u'\D'l -8u -11u'\h'-1190u'\v'-199u'
.sp -1
...line 0.500000 -0.933333 0.428571 -0.833333
\h'1140u'\v'224u'\D'l -8u -11u'\h'-1130u'\v'-211u'
.sp -1
...line 0.642857 -0.733333 0.500000 -0.933333
\h'1157u'\v'200u'\D'l -16u 24u'\h'-1139u'\v'-223u'
.sp -1
...line 0.714286 -0.833333 0.642857 -0.733333
\h'1166u'\v'212u'\D'l -8u -11u'\h'-1156u'\v'-199u'
.sp -1
...line 0.214286 -0.933333 0.142857 -0.833333
\h'1106u'\v'224u'\D'l -8u -11u'\h'-1096u'\v'-211u'
.sp -1
...line 0.357143 -0.733333 0.214286 -0.933333
\h'1123u'\v'200u'\D'l -16u 24u'\h'-1105u'\v'-223u'
.sp -1
...line 0.428571 -0.833333 0.357143 -0.733333
\h'1131u'\v'212u'\D'l -8u -11u'\h'-1122u'\v'-199u'
.sp -1
...line -0.071429 -0.933333 -0.142857 -0.833333
\h'1071u'\v'224u'\D'l -8u -11u'\h'-1062u'\v'-211u'
.sp -1
...line 0.071429 -0.733333 -0.071429 -0.933333
\h'1089u'\v'200u'\D'l -16u 24u'\h'-1070u'\v'-223u'
.sp -1
...line 0.142857 -0.833333 0.071429 -0.733333
\h'1097u'\v'212u'\D'l -8u -11u'\h'-1088u'\v'-199u'
.sp -1
...line -0.357143 -0.933333 -0.428571 -0.833333
\h'1037u'\v'224u'\D'l -8u -11u'\h'-1028u'\v'-211u'
.sp -1
...line -0.214286 -0.733333 -0.357143 -0.933333
\h'1054u'\v'200u'\D'l -16u 24u'\h'-1036u'\v'-223u'
.sp -1
...line -0.142857 -0.833333 -0.214286 -0.733333
\h'1063u'\v'212u'\D'l -8u -11u'\h'-1053u'\v'-199u'
.sp -1
...line -0.642857 -0.933333 -0.714286 -0.833333
\h'1003u'\v'224u'\D'l -8u -11u'\h'-993u'\v'-211u'
.sp -1
...line -0.500000 -0.733333 -0.642857 -0.933333
\h'1020u'\v'200u'\D'l -16u 24u'\h'-1002u'\v'-223u'
.sp -1
...line -0.428571 -0.833333 -0.500000 -0.733333
\h'1029u'\v'212u'\D'l -8u -11u'\h'-1019u'\v'-199u'
.sp -1
...line -0.928571 -0.933333 -1.000000 -0.833333
\h'969u'\v'224u'\D'l -8u -11u'\h'-959u'\v'-211u'
.sp -1
...line -0.785714 -0.733333 -0.928571 -0.933333
\h'986u'\v'200u'\D'l -16u 24u'\h'-968u'\v'-223u'
.sp -1
...line -0.714286 -0.833333 -0.785714 -0.733333
\h'994u'\v'212u'\D'l -8u -11u'\h'-985u'\v'-199u'
.sp -1
...line 0.785714 -0.600000 0.714286 -0.500000
\h'1174u'\v'184u'\D'l -8u -11u'\h'-1165u'\v'-171u'
.sp -1
...line 0.928571 -0.400000 0.785714 -0.600000
\h'1191u'\v'160u'\D'l -16u 24u'\h'-1173u'\v'-183u'
.sp -1
...line 1.000000 -0.500000 0.928571 -0.400000
\h'1200u'\v'172u'\D'l -8u -11u'\h'-1190u'\v'-159u'
.sp -1
...line 0.500000 -0.600000 0.428571 -0.500000
\h'1140u'\v'184u'\D'l -8u -11u'\h'-1130u'\v'-171u'
.sp -1
...line 0.642857 -0.400000 0.500000 -0.600000
\h'1157u'\v'160u'\D'l -16u 24u'\h'-1139u'\v'-183u'
.sp -1
...line 0.714286 -0.500000 0.642857 -0.400000
\h'1166u'\v'172u'\D'l -8u -11u'\h'-1156u'\v'-159u'
.sp -1
...line 0.214286 -0.600000 0.142857 -0.500000
\h'1106u'\v'184u'\D'l -8u -11u'\h'-1096u'\v'-171u'
.sp -1
...line 0.357143 -0.400000 0.214286 -0.600000
\h'1123u'\v'160u'\D'l -16u 24u'\h'-1105u'\v'-183u'
.sp -1
...line 0.428571 -0.500000 0.357143 -0.400000
\h'1131u'\v'172u'\D'l -8u -11u'\h'-1122u'\v'-159u'
.sp -1
...line -0.071429 -0.600000 -0.142857 -0.500000
\h'1071u'\v'184u'\D'l -8u -11u'\h'-1062u'\v'-171u'
.sp -1
...line 0.071429 -0.400000 -0.071429 -0.600000
\h'1089u'\v'160u'\D'l -16u 24u'\h'-1070u'\v'-183u'
.sp -1
...line 0.142857 -0.500000 0.071429 -0.400000
\h'1097u'\v'172u'\D'l -8u -11u'\h'-1088u'\v'-159u'
.sp -1
...line -0.357143 -0.600000 -0.428571 -0.500000
\h'1037u'\v'184u'\D'l -8u -11u'\h'-1028u'\v'-171u'
.sp -1
...line -0.214286 -0.400000 -0.357143 -0.600000
\h'1054u'\v'160u'\D'l -16u 24u'\h'-1036u'\v'-183u'
.sp -1
...line -0.142857 -0.500000 -0.214286 -0.400000
\h'1063u'\v'172u'\D'l -8u -11u'\h'-1053u'\v'-159u'
.sp -1
...line -0.642857 -0.600000 -0.714286 -0.500000
\h'1003u'\v'184u'\D'l -8u -11u'\h'-993u'\v'-171u'
.sp -1
...line -0.500000 -0.400000 -0.642857 -0.600000
\h'1020u'\v'160u'\D'l -16u 24u'\h'-1002u'\v'-183u'
.sp -1
...line -0.428571 -0.500000 -0.500000 -0.400000
\h'1029u'\v'172u'\D'l -8u -11u'\h'-1019u'\v'-159u'
.sp -1
...line -0.928571 -0.600000 -1.000000 -0.500000
\h'969u'\v'184u'\D'l -8u -11u'\h'-959u'\v'-171u'
.sp -1
...line -0.785714 -0.400000 -0.928571 -0.600000
\h'986u'\v'160u'\D'l -16u 24u'\h'-968u'\v'-183u'
.sp -1
...line -0.714286 -0.500000 -0.785714 -0.400000
\h'994u'\v'172u'\D'l -8u -11u'\h'-985u'\v'-159u'
.sp -1
...line 0.785714 -0.266667 0.714286 -0.166667
\h'1174u'\v'144u'\D'l -8u -11u'\h'-1165u'\v'-131u'
.sp -1
...line 0.928571 -0.066667 0.785714 -0.266667
\h'1191u'\v'120u'\D'l -16u 24u'\h'-1173u'\v'-143u'
.sp -1
...line 1.000000 -0.166667 0.928571 -0.066667
\h'1200u'\v'132u'\D'l -8u -11u'\h'-1190u'\v'-119u'
.sp -1
...line 0.500000 -0.266667 0.428571 -0.166667
\h'1140u'\v'144u'\D'l -8u -11u'\h'-1130u'\v'-131u'
.sp -1
...line 0.642857 -0.066667 0.500000 -0.266667
\h'1157u'\v'120u'\D'l -16u 24u'\h'-1139u'\v'-143u'
.sp -1
...line 0.714286 -0.166667 0.642857 -0.066667
\h'1166u'\v'132u'\D'l -8u -11u'\h'-1156u'\v'-119u'
.sp -1
...line 0.214286 -0.266667 0.142857 -0.166667
\h'1106u'\v'144u'\D'l -8u -11u'\h'-1096u'\v'-131u'
.sp -1
...line 0.357143 -0.066667 0.214286 -0.266667
\h'1123u'\v'120u'\D'l -16u 24u'\h'-1105u'\v'-143u'
.sp -1
...line 0.428571 -0.166667 0.357143 -0.066667
\h'1131u'\v'132u'\D'l -8u -11u'\h'-1122u'\v'-119u'
.sp -1
...line -0.071429 -0.266667 -0.142857 -0.166667
\h'1071u'\v'144u'\D'l -8u -11u'\h'-1062u'\v'-131u'
.sp -1
...line 0.071429 -0.066667 -0.071429 -0.266667
\h'1089u'\v'120u'\D'l -16u 24u'\h'-1070u'\v'-143u'
.sp -1
...line 0.142857 -0.166667 0.071429 -0.066667
\h'1097u'\v'132u'\D'l -8u -11u'\h'-1088u'\v'-119u'
.sp -1
...line -0.357143 -0.266667 -0.428571 -0.166667
\h'1037u'\v'144u'\D'l -8u -11u'\h'-1028u'\v'-131u'
.sp -1
...line -0.214286 -0.066667 -0.357143 -0.266667
\h'1054u'\v'120u'\D'l -16u 24u'\h'-1036u'\v'-143u'
.sp -1
...line -0.142857 -0.166667 -0.214286 -0.066667
\h'1063u'\v'132u'\D'l -8u -11u'\h'-1053u'\v'-119u'
.sp -1
...line -0.642857 -0.266667 -0.714286 -0.166667
\h'1003u'\v'144u'\D'l -8u -11u'\h'-993u'\v'-131u'
.sp -1
...line -0.500000 -0.066667 -0.642857 -0.266667
\h'1020u'\v'120u'\D'l -16u 24u'\h'-1002u'\v'-143u'
.sp -1
...line -0.428571 -0.166667 -0.500000 -0.066667
\h'1029u'\v'132u'\D'l -8u -11u'\h'-1019u'\v'-119u'
.sp -1
...line -0.928571 -0.266667 -1.000000 -0.166667
\h'969u'\v'144u'\D'l -8u -11u'\h'-959u'\v'-131u'
.sp -1
...line -0.785714 -0.066667 -0.928571 -0.266667
\h'986u'\v'120u'\D'l -16u 24u'\h'-968u'\v'-143u'
.sp -1
...line -0.714286 -0.166667 -0.785714 -0.066667
\h'994u'\v'132u'\D'l -8u -11u'\h'-985u'\v'-119u'
.sp -1
...line 0.785714 0.066667 0.714286 0.166667
\h'1174u'\v'104u'\D'l -8u -11u'\h'-1165u'\v'-91u'
.sp -1
...line 0.928571 0.266667 0.785714 0.066667
\h'1191u'\v'80u'\D'l -16u 24u'\h'-1173u'\v'-103u'
.sp -1
...line 1.000000 0.166667 0.928571 0.266667
\h'1200u'\v'92u'\D'l -8u -11u'\h'-1190u'\v'-79u'
.sp -1
...line 0.500000 0.066667 0.428571 0.166667
\h'1140u'\v'104u'\D'l -8u -11u'\h'-1130u'\v'-91u'
.sp -1
...line 0.642857 0.266667 0.500000 0.066667
\h'1157u'\v'80u'\D'l -16u 24u'\h'-1139u'\v'-103u'
.sp -1
...line 0.714286 0.166667 0.642857 0.266667
\h'1166u'\v'92u'\D'l -8u -11u'\h'-1156u'\v'-79u'
.sp -1
...line 0.214286 0.066667 0.142857 0.166667
\h'1106u'\v'104u'\D'l -8u -11u'\h'-1096u'\v'-91u'
.sp -1
...line 0.357143 0.266667 0.214286 0.066667
\h'1123u'\v'80u'\D'l -16u 24u'\h'-1105u'\v'-103u'
.sp -1
...line 0.428571 0.166667 0.357143 0.266667
\h'1131u'\v'92u'\D'l -8u -11u'\h'-1122u'\v'-79u'
.sp -1
...line -0.071429 0.066667 -0.142857 0.166667
\h'1071u'\v'104u'\D'l -8u -11u'\h'-1062u'\v'-91u'
.sp -1
...line 0.071429 0.266667 -0.071429 0.066667
\h'1089u'\v'80u'\D'l -16u 24u'\h'-1070u'\v'-103u'
.sp -1
...line 0.142857 0.166667 0.071429 0.266667
\h'1097u'\v'92u'\D'l -8u -11u'\h'-1088u'\v'-79u'
.sp -1
...line -0.357143 0.066667 -0.428571 0.166667
\h'1037u'\v'104u'\D'l -8u -11u'\h'-1028u'\v'-91u'
.sp -1
...line -0.214286 0.266667 -0.357143 0.066667
\h'1054u'\v'80u'\D'l -16u 24u'\h'-1036u'\v'-103u'
.sp -1
...line -0.142857 0.166667 -0.214286 0.266667
\h'1063u'\v'92u'\D'l -8u -11u'\h'-1053u'\v'-79u'
.sp -1
...line -0.642857 0.066667 -0.714286 0.166667
\h'1003u'\v'104u'\D'l -8u -11u'\h'-993u'\v'-91u'
.sp -1
...line -0.500000 0.266667 -0.642857 0.066667
\h'1020u'\v'80u'\D'l -16u 24u'\h'-1002u'\v'-103u'
.sp -1
...line -0.428571 0.166667 -0.500000 0.266667
\h'1029u'\v'92u'\D'l -8u -11u'\h'-1019u'\v'-79u'
.sp -1
...line -0.928571 0.066667 -1.000000 0.166667
\h'969u'\v'104u'\D'l -8u -11u'\h'-959u'\v'-91u'
.sp -1
...line -0.785714 0.266667 -0.928571 0.066667
\h'986u'\v'80u'\D'l -16u 24u'\h'-968u'\v'-103u'
.sp -1
...line -0.714286 0.166667 -0.785714 0.266667
\h'994u'\v'92u'\D'l -8u -11u'\h'-985u'\v'-79u'
.sp -1
...line 0.785714 0.400000 0.714286 0.500000
\h'1174u'\v'64u'\D'l -8u -11u'\h'-1165u'\v'-51u'
.sp -1
...line 0.928571 0.600000 0.785714 0.400000
\h'1191u'\v'40u'\D'l -16u 24u'\h'-1173u'\v'-63u'
.sp -1
...line 1.000000 0.500000 0.928571 0.600000
\h'1200u'\v'52u'\D'l -8u -11u'\h'-1190u'\v'-39u'
.sp -1
...line 0.500000 0.400000 0.428571 0.500000
\h'1140u'\v'64u'\D'l -8u -11u'\h'-1130u'\v'-51u'
.sp -1
...line 0.642857 0.600000 0.500000 0.400000
\h'1157u'\v'40u'\D'l -16u 24u'\h'-1139u'\v'-63u'
.sp -1
...line 0.714286 0.500000 0.642857 0.600000
\h'1166u'\v'52u'\D'l -8u -11u'\h'-1156u'\v'-39u'
.sp -1
...line 0.214286 0.400000 0.142857 0.500000
\h'1106u'\v'64u'\D'l -8u -11u'\h'-1096u'\v'-51u'
.sp -1
...line 0.357143 0.600000 0.214286 0.400000
\h'1123u'\v'40u'\D'l -16u 24u'\h'-1105u'\v'-63u'
.sp -1
...line 0.428571 0.500000 0.357143 0.600000
\h'1131u'\v'52u'\D'l -8u -11u'\h'-1122u'\v'-39u'
.sp -1
...line -0.071429 0.400000 -0.142857 0.500000
\h'1071u'\v'64u'\D'l -8u -11u'\h'-1062u'\v'-51u'
.sp -1
...line 0.071429 0.600000 -0.071429 0.400000
\h'1089u'\v'40u'\D'l -16u 24u'\h'-1070u'\v'-63u'
.sp -1
...line 0.142857 0.500000 0.071429 0.600000
\h'1097u'\v'52u'\D'l -8u -11u'\h'-1088u'\v'-39u'
.sp -1
...line -0.357143 0.400000 -0.428571 0.500000
\h'1037u'\v'64u'\D'l -8u -11u'\h'-1028u'\v'-51u'
.sp -1
...line -0.214286 0.600000 -0.357143 0.400000
\h'1054u'\v'40u'\D'l -16u 24u'\h'-1036u'\v'-63u'
.sp -1
...line -0.142857 0.500000 -0.214286 0.600000
\h'1063u'\v'52u'\D'l -8u -11u'\h'-1053u'\v'-39u'
.sp -1
...line -0.642857 0.400000 -0.714286 0.500000
\h'1003u'\v'64u'\D'l -8u -11u'\h'-993u'\v'-51u'
.sp -1
...line -0.500000 0.600000 -0.642857 0.400000
\h'1020u'\v'40u'\D'l -16u 24u'\h'-1002u'\v'-63u'
.sp -1
...line -0.428571 0.500000 -0.500000 0.600000
\h'1029u'\v'52u'\D'l -8u -11u'\h'-1019u'\v'-39u'
.sp -1
...line -0.928571 0.400000 -1.000000 0.500000
\h'969u'\v'64u'\D'l -8u -11u'\h'-959u'\v'-51u'
.sp -1
...line -0.785714 0.600000 -0.928571 0.400000
\h'986u'\v'40u'\D'l -16u 24u'\h'-968u'\v'-63u'
.sp -1
...line -0.714286 0.500000 -0.785714 0.600000
\h'994u'\v'52u'\D'l -8u -11u'\h'-985u'\v'-39u'
.sp -1
...line 0.785714 0.733333 0.714286 0.833333
\h'1174u'\v'24u'\D'l -8u -11u'\h'-1165u'\v'-11u'
.sp -1
...line 0.928571 0.933333 0.785714 0.733333
\h'1191u'\v'0u'\D'l -16u 24u'\h'-1173u'\v'-23u'
.sp -1
...line 1.000000 0.833333 0.928571 0.933333
\h'1200u'\v'12u'\D'l -8u -11u'\h'-1190u'\v'0u'
.sp -1
...line 0.500000 0.733333 0.428571 0.833333
\h'1140u'\v'24u'\D'l -8u -11u'\h'-1130u'\v'-11u'
.sp -1
...line 0.642857 0.933333 0.500000 0.733333
\h'1157u'\v'0u'\D'l -16u 24u'\h'-1139u'\v'-23u'
.sp -1
...line 0.714286 0.833333 0.642857 0.933333
\h'1166u'\v'12u'\D'l -8u -11u'\h'-1156u'\v'0u'
.sp -1
...line 0.214286 0.733333 0.142857 0.833333
\h'1106u'\v'24u'\D'l -8u -11u'\h'-1096u'\v'-11u'
.sp -1
...line 0.357143 0.933333 0.214286 0.733333
\h'1123u'\v'0u'\D'l -16u 24u'\h'-1105u'\v'-23u'
.sp -1
...line 0.428571 0.833333 0.357143 0.933333
\h'1131u'\v'12u'\D'l -8u -11u'\h'-1122u'\v'0u'
.sp -1
...line -0.071429 0.733333 -0.142857 0.833333
\h'1071u'\v'24u'\D'l -8u -11u'\h'-1062u'\v'-11u'
.sp -1
...line 0.071429 0.933333 -0.071429 0.733333
\h'1089u'\v'0u'\D'l -16u 24u'\h'-1070u'\v'-23u'
.sp -1
...line 0.142857 0.833333 0.071429 0.933333
\h'1097u'\v'12u'\D'l -8u -11u'\h'-1088u'\v'0u'
.sp -1
...line -0.357143 0.733333 -0.428571 0.833333
\h'1037u'\v'24u'\D'l -8u -11u'\h'-1028u'\v'-11u'
.sp -1
...line -0.214286 0.933333 -0.357143 0.733333
\h'1054u'\v'0u'\D'l -16u 24u'\h'-1036u'\v'-23u'
.sp -1
...line -0.142857 0.833333 -0.214286 0.933333
\h'1063u'\v'12u'\D'l -8u -11u'\h'-1053u'\v'0u'
.sp -1
...line -0.642857 0.733333 -0.714286 0.833333
\h'1003u'\v'24u'\D'l -8u -11u'\h'-993u'\v'-11u'
.sp -1
...line -0.500000 0.933333 -0.642857 0.733333
\h'1020u'\v'0u'\D'l -16u 24u'\h'-1002u'\v'-23u'
.sp -1
...line -0.428571 0.833333 -0.500000 0.933333
\h'1029u'\v'12u'\D'l -8u -11u'\h'-1019u'\v'0u'
.sp -1
...line -0.928571 0.733333 -1.000000 0.833333
\h'969u'\v'24u'\D'l -8u -11u'\h'-959u'\v'-11u'
.sp -1
...line -0.785714 0.933333 -0.928571 0.733333
\h'986u'\v'0u'\D'l -16u 24u'\h'-968u'\v'-23u'
.sp -1
...line -0.714286 0.833333 -0.785714 0.933333
\h'994u'\v'12u'\D'l -8u -11u'\h'-985u'\v'0u'
.sp -1
.IF
.P1
conn (0,1) to (0,-1)
	using 6 brush {
		bwd = 2;
		bht = 0.1;
		}<top,bot>;




.P2
.NH 1
Opaque Boxes
.PP
\*(id includes statements to blot out pieces
of a picture.
In this section we will sometimes place opaque boxes
without explicitly drawing any background.
In such cases, assume
that we have painted over
the area with pens as above.
.NH 2
Opaque Polygons
.PP
\*(id needs to know the vertices of a polygon in order
to opaque the area it covers.
The vertices are specified as a list in a
.IT bdlist
statement.
For instance, to opaque a rectangular region using the
.IT rect
box defined in Section 3, we could use the following statement:
.IS
...maxx 1.000000
...maxy 0.957143
...minx -1.000000
...miny -0.957143
...line -0.400000 0.600000 0.600000 0.600000
.ne 0.96i
\h'1032u'\v'43u'\D'l 120u 0u'\h'-1151u'\v'-42u'
.sp -1
...line -0.400000 -0.400000 -0.400000 0.600000
\h'1032u'\v'163u'\D'l 0u -119u'\h'-1031u'\v'-42u'
.sp -1
...line 0.600000 -0.400000 -0.400000 -0.400000
\h'1152u'\v'163u'\D'l -119u 0u'\h'-1031u'\v'-162u'
.sp -1
...line 0.600000 0.600000 0.600000 -0.400000
\h'1152u'\v'43u'\D'l 0u 120u'\h'-1151u'\v'-162u'
.sp -1
...line 0.785714 -0.957143 0.714286 -0.857143
\h'1174u'\v'230u'\D'l -8u -11u'\h'-1165u'\v'-217u'
.sp -1
...line 0.928571 -0.757143 0.785714 -0.957143
\h'1191u'\v'206u'\D'l -16u 24u'\h'-1173u'\v'-229u'
.sp -1
...line 1.000000 -0.857143 0.928571 -0.757143
\h'1200u'\v'218u'\D'l -8u -11u'\h'-1190u'\v'-205u'
.sp -1
...line 0.500000 -0.957143 0.428571 -0.857143
\h'1140u'\v'230u'\D'l -8u -11u'\h'-1130u'\v'-217u'
.sp -1
...line 0.642857 -0.757143 0.500000 -0.957143
\h'1157u'\v'206u'\D'l -16u 24u'\h'-1139u'\v'-229u'
.sp -1
...line 0.714286 -0.857143 0.642857 -0.757143
\h'1166u'\v'218u'\D'l -8u -11u'\h'-1156u'\v'-205u'
.sp -1
...line 0.214286 -0.957143 0.142857 -0.857143
\h'1106u'\v'230u'\D'l -8u -11u'\h'-1096u'\v'-217u'
.sp -1
...line 0.357143 -0.757143 0.214286 -0.957143
\h'1123u'\v'206u'\D'l -16u 24u'\h'-1105u'\v'-229u'
.sp -1
...line 0.428571 -0.857143 0.357143 -0.757143
\h'1131u'\v'218u'\D'l -8u -11u'\h'-1122u'\v'-205u'
.sp -1
...line -0.071429 -0.957143 -0.142857 -0.857143
\h'1071u'\v'230u'\D'l -8u -11u'\h'-1062u'\v'-217u'
.sp -1
...line 0.071429 -0.757143 -0.071429 -0.957143
\h'1089u'\v'206u'\D'l -16u 24u'\h'-1070u'\v'-229u'
.sp -1
...line 0.142857 -0.857143 0.071429 -0.757143
\h'1097u'\v'218u'\D'l -8u -11u'\h'-1088u'\v'-205u'
.sp -1
...line -0.357143 -0.957143 -0.428571 -0.857143
\h'1037u'\v'230u'\D'l -8u -11u'\h'-1028u'\v'-217u'
.sp -1
...line -0.214286 -0.757143 -0.357143 -0.957143
\h'1054u'\v'206u'\D'l -16u 24u'\h'-1036u'\v'-229u'
.sp -1
...line -0.142857 -0.857143 -0.214286 -0.757143
\h'1063u'\v'218u'\D'l -8u -11u'\h'-1053u'\v'-205u'
.sp -1
...line -0.642857 -0.957143 -0.714286 -0.857143
\h'1003u'\v'230u'\D'l -8u -11u'\h'-993u'\v'-217u'
.sp -1
...line -0.500000 -0.757143 -0.642857 -0.957143
\h'1020u'\v'206u'\D'l -16u 24u'\h'-1002u'\v'-229u'
.sp -1
...line -0.428571 -0.857143 -0.500000 -0.757143
\h'1029u'\v'218u'\D'l -8u -11u'\h'-1019u'\v'-205u'
.sp -1
...line -0.928571 -0.957143 -1.000000 -0.857143
\h'969u'\v'230u'\D'l -8u -11u'\h'-959u'\v'-217u'
.sp -1
...line -0.785714 -0.757143 -0.928571 -0.957143
\h'986u'\v'206u'\D'l -16u 24u'\h'-968u'\v'-229u'
.sp -1
...line -0.714286 -0.857143 -0.785714 -0.757143
\h'994u'\v'218u'\D'l -8u -11u'\h'-985u'\v'-205u'
.sp -1
...line 0.785714 -0.671429 0.714286 -0.571429
\h'1174u'\v'195u'\D'l -8u -11u'\h'-1165u'\v'-182u'
.sp -1
...line 0.928571 -0.471429 0.785714 -0.671429
\h'1191u'\v'171u'\D'l -16u 24u'\h'-1173u'\v'-194u'
.sp -1
...line 1.000000 -0.571429 0.928571 -0.471429
\h'1200u'\v'183u'\D'l -8u -11u'\h'-1190u'\v'-170u'
.sp -1
...line 0.500000 -0.671429 0.428571 -0.571429
\h'1140u'\v'195u'\D'l -8u -11u'\h'-1130u'\v'-182u'
.sp -1
...line 0.642857 -0.471429 0.500000 -0.671429
\h'1157u'\v'171u'\D'l -16u 24u'\h'-1139u'\v'-194u'
.sp -1
...line 0.714286 -0.571429 0.642857 -0.471429
\h'1166u'\v'183u'\D'l -8u -11u'\h'-1156u'\v'-170u'
.sp -1
...line 0.214286 -0.671429 0.142857 -0.571429
\h'1106u'\v'195u'\D'l -8u -11u'\h'-1096u'\v'-182u'
.sp -1
...line 0.357143 -0.471429 0.214286 -0.671429
\h'1123u'\v'171u'\D'l -16u 24u'\h'-1105u'\v'-194u'
.sp -1
...line 0.428571 -0.571429 0.357143 -0.471429
\h'1131u'\v'183u'\D'l -8u -11u'\h'-1122u'\v'-170u'
.sp -1
...line -0.071429 -0.671429 -0.142857 -0.571429
\h'1071u'\v'195u'\D'l -8u -11u'\h'-1062u'\v'-182u'
.sp -1
...line 0.071429 -0.471429 -0.071429 -0.671429
\h'1089u'\v'171u'\D'l -16u 24u'\h'-1070u'\v'-194u'
.sp -1
...line 0.142857 -0.571429 0.071429 -0.471429
\h'1097u'\v'183u'\D'l -8u -11u'\h'-1088u'\v'-170u'
.sp -1
...line -0.357143 -0.671429 -0.428571 -0.571429
\h'1037u'\v'195u'\D'l -8u -11u'\h'-1028u'\v'-182u'
.sp -1
...line -0.214286 -0.471429 -0.357143 -0.671429
\h'1054u'\v'171u'\D'l -16u 24u'\h'-1036u'\v'-194u'
.sp -1
...line -0.142857 -0.571429 -0.214286 -0.471429
\h'1063u'\v'183u'\D'l -8u -11u'\h'-1053u'\v'-170u'
.sp -1
...line -0.642857 -0.671429 -0.714286 -0.571429
\h'1003u'\v'195u'\D'l -8u -11u'\h'-993u'\v'-182u'
.sp -1
...line -0.500000 -0.471429 -0.642857 -0.671429
\h'1020u'\v'171u'\D'l -16u 24u'\h'-1002u'\v'-194u'
.sp -1
...line -0.428571 -0.571429 -0.500000 -0.471429
\h'1029u'\v'183u'\D'l -8u -11u'\h'-1019u'\v'-170u'
.sp -1
...line -0.928571 -0.671429 -1.000000 -0.571429
\h'969u'\v'195u'\D'l -8u -11u'\h'-959u'\v'-182u'
.sp -1
...line -0.785714 -0.471429 -0.928571 -0.671429
\h'986u'\v'171u'\D'l -16u 24u'\h'-968u'\v'-194u'
.sp -1
...line -0.714286 -0.571429 -0.785714 -0.471429
\h'994u'\v'183u'\D'l -8u -11u'\h'-985u'\v'-170u'
.sp -1
...line 0.785714 -0.385714 0.714286 -0.285714
\h'1174u'\v'161u'\D'l -8u -11u'\h'-1165u'\v'-148u'
.sp -1
...line 0.928571 -0.185714 0.785714 -0.385714
\h'1191u'\v'137u'\D'l -16u 24u'\h'-1173u'\v'-160u'
.sp -1
...line 1.000000 -0.285714 0.928571 -0.185714
\h'1200u'\v'149u'\D'l -8u -11u'\h'-1190u'\v'-136u'
.sp -1
...line 0.642857 -0.185714 0.600000 -0.245714
\h'1157u'\v'137u'\D'l -4u 7u'\h'-1151u'\v'-143u'
.sp -1
...line 0.714286 -0.285714 0.642857 -0.185714
\h'1166u'\v'149u'\D'l -8u -11u'\h'-1156u'\v'-136u'
.sp -1
...line -0.400000 -0.325714 -0.428571 -0.285714
\h'1032u'\v'154u'\D'l -2u -4u'\h'-1028u'\v'-148u'
.sp -1
...line -0.642857 -0.385714 -0.714286 -0.285714
\h'1003u'\v'161u'\D'l -8u -11u'\h'-993u'\v'-148u'
.sp -1
...line -0.500000 -0.185714 -0.642857 -0.385714
\h'1020u'\v'137u'\D'l -16u 24u'\h'-1002u'\v'-160u'
.sp -1
...line -0.428571 -0.285714 -0.500000 -0.185714
\h'1029u'\v'149u'\D'l -8u -11u'\h'-1019u'\v'-136u'
.sp -1
...line -0.928571 -0.385714 -1.000000 -0.285714
\h'969u'\v'161u'\D'l -8u -11u'\h'-959u'\v'-148u'
.sp -1
...line -0.785714 -0.185714 -0.928571 -0.385714
\h'986u'\v'137u'\D'l -16u 24u'\h'-968u'\v'-160u'
.sp -1
...line -0.714286 -0.285714 -0.785714 -0.185714
\h'994u'\v'149u'\D'l -8u -11u'\h'-985u'\v'-136u'
.sp -1
...line 0.785714 -0.100000 0.714286 0.000000
\h'1174u'\v'127u'\D'l -8u -11u'\h'-1165u'\v'-114u'
.sp -1
...line 0.928571 0.100000 0.785714 -0.100000
\h'1191u'\v'103u'\D'l -16u 24u'\h'-1173u'\v'-126u'
.sp -1
...line 1.000000 0.000000 0.928571 0.100000
\h'1200u'\v'115u'\D'l -8u -11u'\h'-1190u'\v'-102u'
.sp -1
...line 0.642857 0.100000 0.600000 0.040000
\h'1157u'\v'103u'\D'l -4u 7u'\h'-1151u'\v'-109u'
.sp -1
...line 0.714286 0.000000 0.642857 0.100000
\h'1166u'\v'115u'\D'l -8u -11u'\h'-1156u'\v'-102u'
.sp -1
...line -0.400000 -0.040000 -0.428571 0.000000
\h'1032u'\v'120u'\D'l -2u -4u'\h'-1028u'\v'-114u'
.sp -1
...line -0.642857 -0.100000 -0.714286 0.000000
\h'1003u'\v'127u'\D'l -8u -11u'\h'-993u'\v'-114u'
.sp -1
...line -0.500000 0.100000 -0.642857 -0.100000
\h'1020u'\v'103u'\D'l -16u 24u'\h'-1002u'\v'-126u'
.sp -1
...line -0.428571 0.000000 -0.500000 0.100000
\h'1029u'\v'115u'\D'l -8u -11u'\h'-1019u'\v'-102u'
.sp -1
...line -0.928571 -0.100000 -1.000000 0.000000
\h'969u'\v'127u'\D'l -8u -11u'\h'-959u'\v'-114u'
.sp -1
...line -0.785714 0.100000 -0.928571 -0.100000
\h'986u'\v'103u'\D'l -16u 24u'\h'-968u'\v'-126u'
.sp -1
...line -0.714286 0.000000 -0.785714 0.100000
\h'994u'\v'115u'\D'l -8u -11u'\h'-985u'\v'-102u'
.sp -1
...line 0.785714 0.185714 0.714286 0.285714
\h'1174u'\v'93u'\D'l -8u -11u'\h'-1165u'\v'-80u'
.sp -1
...line 0.928571 0.385714 0.785714 0.185714
\h'1191u'\v'69u'\D'l -16u 24u'\h'-1173u'\v'-92u'
.sp -1
...line 1.000000 0.285714 0.928571 0.385714
\h'1200u'\v'81u'\D'l -8u -11u'\h'-1190u'\v'-68u'
.sp -1
...line 0.642857 0.385714 0.600000 0.325714
\h'1157u'\v'69u'\D'l -4u 7u'\h'-1151u'\v'-75u'
.sp -1
...line 0.714286 0.285714 0.642857 0.385714
\h'1166u'\v'81u'\D'l -8u -11u'\h'-1156u'\v'-68u'
.sp -1
...line -0.400000 0.245714 -0.428571 0.285714
\h'1032u'\v'85u'\D'l -2u -4u'\h'-1028u'\v'-80u'
.sp -1
...line -0.642857 0.185714 -0.714286 0.285714
\h'1003u'\v'93u'\D'l -8u -11u'\h'-993u'\v'-80u'
.sp -1
...line -0.500000 0.385714 -0.642857 0.185714
\h'1020u'\v'69u'\D'l -16u 24u'\h'-1002u'\v'-92u'
.sp -1
...line -0.428571 0.285714 -0.500000 0.385714
\h'1029u'\v'81u'\D'l -8u -11u'\h'-1019u'\v'-68u'
.sp -1
...line -0.928571 0.185714 -1.000000 0.285714
\h'969u'\v'93u'\D'l -8u -11u'\h'-959u'\v'-80u'
.sp -1
...line -0.785714 0.385714 -0.928571 0.185714
\h'986u'\v'69u'\D'l -16u 24u'\h'-968u'\v'-92u'
.sp -1
...line -0.714286 0.285714 -0.785714 0.385714
\h'994u'\v'81u'\D'l -8u -11u'\h'-985u'\v'-68u'
.sp -1
...line 0.785714 0.471429 0.714286 0.571429
\h'1174u'\v'58u'\D'l -8u -11u'\h'-1165u'\v'-45u'
.sp -1
...line 0.928571 0.671429 0.785714 0.471429
\h'1191u'\v'34u'\D'l -16u 24u'\h'-1173u'\v'-57u'
.sp -1
...line 1.000000 0.571429 0.928571 0.671429
\h'1200u'\v'46u'\D'l -8u -11u'\h'-1190u'\v'-33u'
.sp -1
...line 0.642857 0.671429 0.591837 0.600000
\h'1157u'\v'34u'\D'l -5u 9u'\h'-1150u'\v'-42u'
.sp -1
...line 0.714286 0.571429 0.642857 0.671429
\h'1166u'\v'46u'\D'l -8u -11u'\h'-1156u'\v'-33u'
.sp -1
...line 0.357143 0.671429 0.306122 0.600000
\h'1123u'\v'34u'\D'l -5u 9u'\h'-1116u'\v'-42u'
.sp -1
...line 0.408163 0.600000 0.357143 0.671429
\h'1129u'\v'43u'\D'l -5u -8u'\h'-1122u'\v'-33u'
.sp -1
...line 0.071429 0.671429 0.020408 0.600000
\h'1089u'\v'34u'\D'l -5u 9u'\h'-1081u'\v'-42u'
.sp -1
...line 0.122449 0.600000 0.071429 0.671429
\h'1095u'\v'43u'\D'l -5u -8u'\h'-1088u'\v'-33u'
.sp -1
...line -0.400000 0.531429 -0.428571 0.571429
\h'1032u'\v'51u'\D'l -2u -4u'\h'-1028u'\v'-45u'
.sp -1
...line -0.214286 0.671429 -0.265306 0.600000
\h'1054u'\v'34u'\D'l -5u 9u'\h'-1047u'\v'-42u'
.sp -1
...line -0.163265 0.600000 -0.214286 0.671429
\h'1060u'\v'43u'\D'l -5u -8u'\h'-1053u'\v'-33u'
.sp -1
...line -0.642857 0.471429 -0.714286 0.571429
\h'1003u'\v'58u'\D'l -8u -11u'\h'-993u'\v'-45u'
.sp -1
...line -0.500000 0.671429 -0.642857 0.471429
\h'1020u'\v'34u'\D'l -16u 24u'\h'-1002u'\v'-57u'
.sp -1
...line -0.428571 0.571429 -0.500000 0.671429
\h'1029u'\v'46u'\D'l -8u -11u'\h'-1019u'\v'-33u'
.sp -1
...line -0.928571 0.471429 -1.000000 0.571429
\h'969u'\v'58u'\D'l -8u -11u'\h'-959u'\v'-45u'
.sp -1
...line -0.785714 0.671429 -0.928571 0.471429
\h'986u'\v'34u'\D'l -16u 24u'\h'-968u'\v'-57u'
.sp -1
...line -0.714286 0.571429 -0.785714 0.671429
\h'994u'\v'46u'\D'l -8u -11u'\h'-985u'\v'-33u'
.sp -1
...line 0.785714 0.757143 0.714286 0.857143
\h'1174u'\v'24u'\D'l -8u -11u'\h'-1165u'\v'-11u'
.sp -1
...line 0.928571 0.957143 0.785714 0.757143
\h'1191u'\v'0u'\D'l -16u 24u'\h'-1173u'\v'-23u'
.sp -1
...line 1.000000 0.857143 0.928571 0.957143
\h'1200u'\v'12u'\D'l -8u -11u'\h'-1190u'\v'0u'
.sp -1
...line 0.500000 0.757143 0.428571 0.857143
\h'1140u'\v'24u'\D'l -8u -11u'\h'-1130u'\v'-11u'
.sp -1
...line 0.642857 0.957143 0.500000 0.757143
\h'1157u'\v'0u'\D'l -16u 24u'\h'-1139u'\v'-23u'
.sp -1
...line 0.714286 0.857143 0.642857 0.957143
\h'1166u'\v'12u'\D'l -8u -11u'\h'-1156u'\v'0u'
.sp -1
...line 0.214286 0.757143 0.142857 0.857143
\h'1106u'\v'24u'\D'l -8u -11u'\h'-1096u'\v'-11u'
.sp -1
...line 0.357143 0.957143 0.214286 0.757143
\h'1123u'\v'0u'\D'l -16u 24u'\h'-1105u'\v'-23u'
.sp -1
...line 0.428571 0.857143 0.357143 0.957143
\h'1131u'\v'12u'\D'l -8u -11u'\h'-1122u'\v'0u'
.sp -1
...line -0.071429 0.757143 -0.142857 0.857143
\h'1071u'\v'24u'\D'l -8u -11u'\h'-1062u'\v'-11u'
.sp -1
...line 0.071429 0.957143 -0.071429 0.757143
\h'1089u'\v'0u'\D'l -16u 24u'\h'-1070u'\v'-23u'
.sp -1
...line 0.142857 0.857143 0.071429 0.957143
\h'1097u'\v'12u'\D'l -8u -11u'\h'-1088u'\v'0u'
.sp -1
...line -0.357143 0.757143 -0.428571 0.857143
\h'1037u'\v'24u'\D'l -8u -11u'\h'-1028u'\v'-11u'
.sp -1
...line -0.214286 0.957143 -0.357143 0.757143
\h'1054u'\v'0u'\D'l -16u 24u'\h'-1036u'\v'-23u'
.sp -1
...line -0.142857 0.857143 -0.214286 0.957143
\h'1063u'\v'12u'\D'l -8u -11u'\h'-1053u'\v'0u'
.sp -1
...line -0.642857 0.757143 -0.714286 0.857143
\h'1003u'\v'24u'\D'l -8u -11u'\h'-993u'\v'-11u'
.sp -1
...line -0.500000 0.957143 -0.642857 0.757143
\h'1020u'\v'0u'\D'l -16u 24u'\h'-1002u'\v'-23u'
.sp -1
...line -0.428571 0.857143 -0.500000 0.957143
\h'1029u'\v'12u'\D'l -8u -11u'\h'-1019u'\v'0u'
.sp -1
...line -0.928571 0.757143 -1.000000 0.857143
\h'969u'\v'24u'\D'l -8u -11u'\h'-959u'\v'-11u'
.sp -1
...line -0.785714 0.957143 -0.928571 0.757143
\h'986u'\v'0u'\D'l -16u 24u'\h'-968u'\v'-23u'
.sp -1
...line -0.714286 0.857143 -0.785714 0.957143
\h'994u'\v'12u'\D'l -8u -11u'\h'-985u'\v'0u'
.sp -1
.IF
.P1
put rect {
	opaque;
	bdlist = sw, se, ne, nw;
	sw = (-0.4,-0.4);
	wd = ht = 1;
};




.P2
.LP
The sides of the rectangle are drawn by
.IT rect :
they are not supplied automatically by the opaqueing routine.
If we wanted to save only the interior of the rectangle,
we could use almost the same statement:
.IS
...minx -1.0
...maxx 1.0
...miny -1.0
...maxy 1.0
...maxx 0.600000
...maxy 0.600000
...minx -0.400000
...miny -0.400000
...line -0.400000 0.600000 0.600000 0.600000
.ne 1.00i
\h'1032u'\v'48u'\D'l 120u 0u'\h'-1151u'\v'-47u'
.sp -1
...line -0.400000 -0.400000 -0.400000 0.600000
\h'1032u'\v'168u'\D'l 0u -119u'\h'-1031u'\v'-47u'
.sp -1
...line 0.600000 -0.400000 -0.400000 -0.400000
\h'1152u'\v'168u'\D'l -119u 0u'\h'-1031u'\v'-167u'
.sp -1
...line 0.600000 0.600000 0.600000 -0.400000
\h'1152u'\v'48u'\D'l 0u 120u'\h'-1151u'\v'-167u'
.sp -1
...line 0.500000 -0.385714 0.428571 -0.285714
\h'1140u'\v'166u'\D'l -8u -11u'\h'-1130u'\v'-153u'
.sp -1
...line 0.600000 -0.245714 0.500000 -0.385714
\h'1152u'\v'149u'\D'l -11u 17u'\h'-1139u'\v'-165u'
.sp -1
...line 0.214286 -0.385714 0.142857 -0.285714
\h'1106u'\v'166u'\D'l -8u -11u'\h'-1096u'\v'-153u'
.sp -1
...line 0.357143 -0.185714 0.214286 -0.385714
\h'1123u'\v'142u'\D'l -16u 24u'\h'-1105u'\v'-165u'
.sp -1
...line 0.428571 -0.285714 0.357143 -0.185714
\h'1131u'\v'154u'\D'l -8u -11u'\h'-1122u'\v'-141u'
.sp -1
...line -0.071429 -0.385714 -0.142857 -0.285714
\h'1071u'\v'166u'\D'l -8u -11u'\h'-1062u'\v'-153u'
.sp -1
...line 0.071429 -0.185714 -0.071429 -0.385714
\h'1089u'\v'142u'\D'l -16u 24u'\h'-1070u'\v'-165u'
.sp -1
...line 0.142857 -0.285714 0.071429 -0.185714
\h'1097u'\v'154u'\D'l -8u -11u'\h'-1088u'\v'-141u'
.sp -1
...line -0.357143 -0.385714 -0.400000 -0.325714
\h'1037u'\v'166u'\D'l -4u -6u'\h'-1031u'\v'-158u'
.sp -1
...line -0.214286 -0.185714 -0.357143 -0.385714
\h'1054u'\v'142u'\D'l -16u 24u'\h'-1036u'\v'-165u'
.sp -1
...line -0.142857 -0.285714 -0.214286 -0.185714
\h'1063u'\v'154u'\D'l -8u -11u'\h'-1053u'\v'-141u'
.sp -1
...line 0.500000 -0.100000 0.428571 0.000000
\h'1140u'\v'132u'\D'l -8u -11u'\h'-1130u'\v'-119u'
.sp -1
...line 0.600000 0.040000 0.500000 -0.100000
\h'1152u'\v'115u'\D'l -11u 17u'\h'-1139u'\v'-131u'
.sp -1
...line 0.214286 -0.100000 0.142857 0.000000
\h'1106u'\v'132u'\D'l -8u -11u'\h'-1096u'\v'-119u'
.sp -1
...line 0.357143 0.100000 0.214286 -0.100000
\h'1123u'\v'108u'\D'l -16u 24u'\h'-1105u'\v'-131u'
.sp -1
...line 0.428571 0.000000 0.357143 0.100000
\h'1131u'\v'120u'\D'l -8u -11u'\h'-1122u'\v'-107u'
.sp -1
...line -0.071429 -0.100000 -0.142857 0.000000
\h'1071u'\v'132u'\D'l -8u -11u'\h'-1062u'\v'-119u'
.sp -1
...line 0.071429 0.100000 -0.071429 -0.100000
\h'1089u'\v'108u'\D'l -16u 24u'\h'-1070u'\v'-131u'
.sp -1
...line 0.142857 0.000000 0.071429 0.100000
\h'1097u'\v'120u'\D'l -8u -11u'\h'-1088u'\v'-107u'
.sp -1
...line -0.357143 -0.100000 -0.400000 -0.040000
\h'1037u'\v'132u'\D'l -4u -6u'\h'-1031u'\v'-124u'
.sp -1
...line -0.214286 0.100000 -0.357143 -0.100000
\h'1054u'\v'108u'\D'l -16u 24u'\h'-1036u'\v'-131u'
.sp -1
...line -0.142857 0.000000 -0.214286 0.100000
\h'1063u'\v'120u'\D'l -8u -11u'\h'-1053u'\v'-107u'
.sp -1
...line 0.500000 0.185714 0.428571 0.285714
\h'1140u'\v'98u'\D'l -8u -11u'\h'-1130u'\v'-85u'
.sp -1
...line 0.600000 0.325714 0.500000 0.185714
\h'1152u'\v'81u'\D'l -11u 17u'\h'-1139u'\v'-97u'
.sp -1
...line 0.214286 0.185714 0.142857 0.285714
\h'1106u'\v'98u'\D'l -8u -11u'\h'-1096u'\v'-85u'
.sp -1
...line 0.357143 0.385714 0.214286 0.185714
\h'1123u'\v'74u'\D'l -16u 24u'\h'-1105u'\v'-97u'
.sp -1
...line 0.428571 0.285714 0.357143 0.385714
\h'1131u'\v'86u'\D'l -8u -11u'\h'-1122u'\v'-73u'
.sp -1
...line -0.071429 0.185714 -0.142857 0.285714
\h'1071u'\v'98u'\D'l -8u -11u'\h'-1062u'\v'-85u'
.sp -1
...line 0.071429 0.385714 -0.071429 0.185714
\h'1089u'\v'74u'\D'l -16u 24u'\h'-1070u'\v'-97u'
.sp -1
...line 0.142857 0.285714 0.071429 0.385714
\h'1097u'\v'86u'\D'l -8u -11u'\h'-1088u'\v'-73u'
.sp -1
...line -0.357143 0.185714 -0.400000 0.245714
\h'1037u'\v'98u'\D'l -4u -6u'\h'-1031u'\v'-90u'
.sp -1
...line -0.214286 0.385714 -0.357143 0.185714
\h'1054u'\v'74u'\D'l -16u 24u'\h'-1036u'\v'-97u'
.sp -1
...line -0.142857 0.285714 -0.214286 0.385714
\h'1063u'\v'86u'\D'l -8u -11u'\h'-1053u'\v'-73u'
.sp -1
...line 0.500000 0.471429 0.428571 0.571429
\h'1140u'\v'63u'\D'l -8u -11u'\h'-1130u'\v'-50u'
.sp -1
...line 0.591837 0.600000 0.500000 0.471429
\h'1151u'\v'48u'\D'l -10u 15u'\h'-1139u'\v'-62u'
.sp -1
...line 0.214286 0.471429 0.142857 0.571429
\h'1106u'\v'63u'\D'l -8u -11u'\h'-1096u'\v'-50u'
.sp -1
...line 0.306122 0.600000 0.214286 0.471429
\h'1117u'\v'48u'\D'l -10u 15u'\h'-1105u'\v'-62u'
.sp -1
...line 0.428571 0.571429 0.408163 0.600000
\h'1131u'\v'51u'\D'l -1u -2u'\h'-1128u'\v'-47u'
.sp -1
...line -0.071429 0.471429 -0.142857 0.571429
\h'1071u'\v'63u'\D'l -8u -11u'\h'-1062u'\v'-50u'
.sp -1
...line 0.020408 0.600000 -0.071429 0.471429
\h'1082u'\v'48u'\D'l -10u 15u'\h'-1070u'\v'-62u'
.sp -1
...line 0.142857 0.571429 0.122449 0.600000
\h'1097u'\v'51u'\D'l -1u -2u'\h'-1094u'\v'-47u'
.sp -1
...line -0.357143 0.471429 -0.400000 0.531429
\h'1037u'\v'63u'\D'l -4u -6u'\h'-1031u'\v'-55u'
.sp -1
...line -0.265306 0.600000 -0.357143 0.471429
\h'1048u'\v'48u'\D'l -10u 15u'\h'-1036u'\v'-62u'
.sp -1
...line -0.142857 0.571429 -0.163265 0.600000
\h'1063u'\v'51u'\D'l -1u -2u'\h'-1059u'\v'-47u'
.sp -1
.IF
.P1
put rect {
	opaque exterior;
	bdlist = sw, se, ne, nw;
	sw = (-0.4,-0.4);
	wd = ht = 1;
};
.P2
.PP
If we plan to opaque a lot of rectangles,
we should include a
.IT bdlist
in the definition of
.IT rect .
Such a default
.IT bdlist
would be referenced only if the parameter section
of the put statement included an opaque statement
.IT and
did not include its own
.IT bdlist .
.NH 2
Opaque Circular Arc Polygons
.PP
The edges of opaque regions can also be circular arcs.
.Ts
This generalization of the simple boundary statement
is the most recent addition to \*(id.
It avoids treating circles and their sectors and segments
as special cases, and makes opaqueing circular
arc polygons much easier.
.Te
.LP
To specify a circular arc edge, one gives its endpoints
and a point through which it passes;
this ``pass-through'' point is marked in the boundary
list by the symbol ``\f8^\fP''.
For example, the boundary list for the sector shown below is
.\".IS
.\"...libfile sector
.\"main {
.\"	put background {
.\"	};
.\"put sector {
.\"	center = (-1,-1);
.\"	radius = 2;
.\"	startang = 30;
.\"	endang = 60;
.\"	opaque;
.\"};
.\"}
.\".IF
.P1
boundary = center, cis(30), ^ cis(45), cis(60);





.P2
.PP
Another common opaque arc is the segment:
.\".IS
.\"...libfile segment
.\"main {
.\"	put background {
.\"	};
.\"put segment {
.\"	center = (-1,-1);
.\"	radius = 2;
.\"	startang = 0;
.\"	endang = 90;
.\"	opaque;
.\"};
.\"}
.\".IF
.P1
boundary = cis(0), ^ cis(45), cis(90);










.P2
.PP
One can construct an opaque circle out of two semicircular edges:
.IS
...maxx 1.000000
...maxy 1.000000
...minx -1.000000
...miny -1.000000
...circle 0.000000 0.000000 1.000000
.ne 1.00i
\h'960u'\v'120u'\D'c 240u'\h'-1199u'\v'-119u'
.sp -1
...arc 0.000000 0.000000 0.500000 0.000000 0.500000 0.000000 0.000000 6.283185 0.500000
\h'1140u'\v'120u'\D'a -59u 0u 60u 0u'\h'-1139u'\v'-119u'
.sp -1
...line 0.453088 -0.891466 0.428571 -0.857143
\h'1134u'\v'227u'\D'l -2u -3u'\h'-1130u'\v'-222u'
.sp -1
...line 0.642857 -0.757143 0.627545 -0.778581
\h'1157u'\v'211u'\D'l -1u 3u'\h'-1154u'\v'-212u'
.sp -1
...line 0.646799 -0.762661 0.642857 -0.757143
\h'1158u'\v'212u'\D'l 0u 0u'\h'-1156u'\v'-210u'
.sp -1
...line 0.214286 -0.957143 0.142857 -0.857143
\h'1106u'\v'235u'\D'l -8u -11u'\h'-1096u'\v'-222u'
.sp -1
...line 0.357143 -0.757143 0.214286 -0.957143
\h'1123u'\v'211u'\D'l -16u 24u'\h'-1105u'\v'-234u'
.sp -1
...line 0.428571 -0.857143 0.357143 -0.757143
\h'1131u'\v'223u'\D'l -8u -11u'\h'-1122u'\v'-210u'
.sp -1
...line -0.071429 -0.957143 -0.142857 -0.857143
\h'1071u'\v'235u'\D'l -8u -11u'\h'-1062u'\v'-222u'
.sp -1
...line 0.071429 -0.757143 -0.071429 -0.957143
\h'1089u'\v'211u'\D'l -16u 24u'\h'-1070u'\v'-234u'
.sp -1
...line 0.142857 -0.857143 0.071429 -0.757143
\h'1097u'\v'223u'\D'l -8u -11u'\h'-1088u'\v'-210u'
.sp -1
...line -0.380158 -0.924922 -0.428571 -0.857143
\h'1034u'\v'231u'\D'l -5u -7u'\h'-1028u'\v'-222u'
.sp -1
...line -0.214286 -0.757143 -0.344128 -0.938923
\h'1054u'\v'211u'\D'l -15u 22u'\h'-1038u'\v'-232u'
.sp -1
...line -0.142857 -0.857143 -0.214286 -0.757143
\h'1063u'\v'223u'\D'l -8u -11u'\h'-1053u'\v'-210u'
.sp -1
...line -0.500000 -0.757143 -0.553890 -0.832590
\h'1020u'\v'211u'\D'l -5u 9u'\h'-1013u'\v'-219u'
.sp -1
...line -0.428571 -0.857143 -0.500000 -0.757143
\h'1029u'\v'223u'\D'l -8u -11u'\h'-1019u'\v'-210u'
.sp -1
...line 0.765619 -0.643295 0.714286 -0.571429
\h'1172u'\v'197u'\D'l -5u -8u'\h'-1165u'\v'-188u'
.sp -1
...line 0.500000 -0.671429 0.428571 -0.571429
\h'1140u'\v'201u'\D'l -8u -11u'\h'-1130u'\v'-188u'
.sp -1
...line 0.642857 -0.471429 0.500000 -0.671429
\h'1157u'\v'177u'\D'l -16u 24u'\h'-1139u'\v'-200u'
.sp -1
...line 0.714286 -0.571429 0.642857 -0.471429
\h'1166u'\v'189u'\D'l -8u -11u'\h'-1156u'\v'-176u'
.sp -1
...line 0.214286 -0.671429 0.142857 -0.571429
\h'1106u'\v'201u'\D'l -8u -11u'\h'-1096u'\v'-188u'
.sp -1
...line 0.357143 -0.471429 0.214286 -0.671429
\h'1123u'\v'177u'\D'l -16u 24u'\h'-1105u'\v'-200u'
.sp -1
...line 0.428571 -0.571429 0.357143 -0.471429
\h'1131u'\v'189u'\D'l -8u -11u'\h'-1122u'\v'-176u'
.sp -1
...line -0.071429 -0.671429 -0.142857 -0.571429
\h'1071u'\v'201u'\D'l -8u -11u'\h'-1062u'\v'-188u'
.sp -1
...line 0.053035 -0.497179 -0.071429 -0.671429
\h'1086u'\v'180u'\D'l -14u 21u'\h'-1070u'\v'-200u'
.sp -1
...line 0.142857 -0.571429 0.086457 -0.492468
\h'1097u'\v'189u'\D'l -6u -8u'\h'-1089u'\v'-178u'
.sp -1
...line -0.357143 -0.671429 -0.428571 -0.571429
\h'1037u'\v'201u'\D'l -8u -11u'\h'-1028u'\v'-188u'
.sp -1
...line -0.214286 -0.471429 -0.357143 -0.671429
\h'1054u'\v'177u'\D'l -16u 24u'\h'-1036u'\v'-200u'
.sp -1
...line -0.142857 -0.571429 -0.214286 -0.471429
\h'1063u'\v'189u'\D'l -8u -11u'\h'-1053u'\v'-176u'
.sp -1
...line -0.642857 -0.671429 -0.714286 -0.571429
\h'1003u'\v'201u'\D'l -8u -11u'\h'-993u'\v'-188u'
.sp -1
...line -0.500000 -0.471429 -0.642857 -0.671429
\h'1020u'\v'177u'\D'l -16u 24u'\h'-1002u'\v'-200u'
.sp -1
...line -0.428571 -0.571429 -0.500000 -0.471429
\h'1029u'\v'189u'\D'l -8u -11u'\h'-1019u'\v'-176u'
.sp -1
...line -0.785714 -0.471429 -0.838355 -0.545125
\h'986u'\v'177u'\D'l -5u 9u'\h'-978u'\v'-184u'
.sp -1
...line -0.714286 -0.571429 -0.785714 -0.471429
\h'994u'\v'189u'\D'l -8u -11u'\h'-985u'\v'-176u'
.sp -1
...line 0.785714 -0.385714 0.714286 -0.285714
\h'1174u'\v'166u'\D'l -8u -11u'\h'-1165u'\v'-153u'
.sp -1
...line 0.928571 -0.185714 0.785714 -0.385714
\h'1191u'\v'142u'\D'l -16u 24u'\h'-1173u'\v'-165u'
.sp -1
...line 0.969887 -0.243556 0.928571 -0.185714
\h'1196u'\v'149u'\D'l -4u -6u'\h'-1190u'\v'-141u'
.sp -1
...line 0.500000 -0.385714 0.428571 -0.285714
\h'1140u'\v'166u'\D'l -8u -11u'\h'-1130u'\v'-153u'
.sp -1
...line 0.642857 -0.185714 0.500000 -0.385714
\h'1157u'\v'142u'\D'l -16u 24u'\h'-1139u'\v'-165u'
.sp -1
...line 0.714286 -0.285714 0.642857 -0.185714
\h'1166u'\v'154u'\D'l -8u -11u'\h'-1156u'\v'-141u'
.sp -1
...line 0.428571 -0.285714 0.419177 -0.272563
\h'1131u'\v'154u'\D'l 0u -1u'\h'-1129u'\v'-152u'
.sp -1
...line -0.357143 -0.385714 -0.428571 -0.285714
\h'1037u'\v'166u'\D'l -8u -11u'\h'-1028u'\v'-153u'
.sp -1
...line -0.342097 -0.364650 -0.357143 -0.385714
\h'1039u'\v'164u'\D'l -1u 3u'\h'-1036u'\v'-165u'
.sp -1
...line -0.642857 -0.385714 -0.714286 -0.285714
\h'1003u'\v'166u'\D'l -8u -11u'\h'-993u'\v'-153u'
.sp -1
...line -0.500000 -0.185714 -0.642857 -0.385714
\h'1020u'\v'142u'\D'l -16u 24u'\h'-1002u'\v'-165u'
.sp -1
...line -0.428571 -0.285714 -0.500000 -0.185714
\h'1029u'\v'154u'\D'l -8u -11u'\h'-1019u'\v'-141u'
.sp -1
...line -0.785714 -0.185714 -0.924805 -0.380441
\h'986u'\v'142u'\D'l -16u 23u'\h'-968u'\v'-165u'
.sp -1
...line -0.714286 -0.285714 -0.785714 -0.185714
\h'994u'\v'154u'\D'l -8u -11u'\h'-985u'\v'-141u'
.sp -1
...line 0.785714 -0.100000 0.714286 0.000000
\h'1174u'\v'132u'\D'l -8u -11u'\h'-1165u'\v'-119u'
.sp -1
...line 0.928571 0.100000 0.785714 -0.100000
\h'1191u'\v'108u'\D'l -16u 24u'\h'-1173u'\v'-131u'
.sp -1
...line 1.000000 0.000000 0.928571 0.100000
\h'1200u'\v'120u'\D'l -8u -11u'\h'-1190u'\v'-107u'
.sp -1
...line 0.500000 -0.100000 0.492041 -0.088857
\h'1140u'\v'132u'\D'l 0u 0u'\h'-1138u'\v'-130u'
.sp -1
...line 0.642857 0.100000 0.500000 -0.100000
\h'1157u'\v'108u'\D'l -16u 24u'\h'-1139u'\v'-131u'
.sp -1
...line 0.714286 0.000000 0.642857 0.100000
\h'1166u'\v'120u'\D'l -8u -11u'\h'-1156u'\v'-107u'
.sp -1
...line -0.642857 -0.100000 -0.714286 0.000000
\h'1003u'\v'132u'\D'l -8u -11u'\h'-993u'\v'-119u'
.sp -1
...line -0.500000 0.100000 -0.642857 -0.100000
\h'1020u'\v'108u'\D'l -16u 24u'\h'-1002u'\v'-131u'
.sp -1
...line -0.492041 0.088857 -0.500000 0.100000
\h'1021u'\v'109u'\D'l 0u 0u'\h'-1019u'\v'-107u'
.sp -1
...line -0.928571 -0.100000 -1.000000 0.000000
\h'969u'\v'132u'\D'l -8u -11u'\h'-959u'\v'-119u'
.sp -1
...line -0.785714 0.100000 -0.928571 -0.100000
\h'986u'\v'108u'\D'l -16u 24u'\h'-968u'\v'-131u'
.sp -1
...line -0.714286 0.000000 -0.785714 0.100000
\h'994u'\v'120u'\D'l -8u -11u'\h'-985u'\v'-107u'
.sp -1
...line 0.785714 0.185714 0.714286 0.285714
\h'1174u'\v'98u'\D'l -8u -11u'\h'-1165u'\v'-85u'
.sp -1
...line 0.924805 0.380441 0.785714 0.185714
\h'1191u'\v'74u'\D'l -16u 23u'\h'-1173u'\v'-97u'
.sp -1
...line 0.500000 0.185714 0.428571 0.285714
\h'1140u'\v'98u'\D'l -8u -11u'\h'-1130u'\v'-85u'
.sp -1
...line 0.642857 0.385714 0.500000 0.185714
\h'1157u'\v'74u'\D'l -16u 24u'\h'-1139u'\v'-97u'
.sp -1
...line 0.714286 0.285714 0.642857 0.385714
\h'1166u'\v'86u'\D'l -8u -11u'\h'-1156u'\v'-73u'
.sp -1
...line 0.357143 0.385714 0.342097 0.364650
\h'1123u'\v'74u'\D'l -1u 3u'\h'-1120u'\v'-75u'
.sp -1
...line 0.428571 0.285714 0.357143 0.385714
\h'1131u'\v'86u'\D'l -8u -11u'\h'-1122u'\v'-73u'
.sp -1
...line -0.419177 0.272563 -0.428571 0.285714
\h'1030u'\v'87u'\D'l 0u -1u'\h'-1028u'\v'-85u'
.sp -1
...line -0.642857 0.185714 -0.714286 0.285714
\h'1003u'\v'98u'\D'l -8u -11u'\h'-993u'\v'-85u'
.sp -1
...line -0.500000 0.385714 -0.642857 0.185714
\h'1020u'\v'74u'\D'l -16u 24u'\h'-1002u'\v'-97u'
.sp -1
...line -0.428571 0.285714 -0.500000 0.385714
\h'1029u'\v'86u'\D'l -8u -11u'\h'-1019u'\v'-73u'
.sp -1
...line -0.928571 0.185714 -0.969887 0.243556
\h'969u'\v'98u'\D'l -4u -6u'\h'-963u'\v'-90u'
.sp -1
...line -0.785714 0.385714 -0.928571 0.185714
\h'986u'\v'74u'\D'l -16u 24u'\h'-968u'\v'-97u'
.sp -1
...line -0.714286 0.285714 -0.785714 0.385714
\h'994u'\v'86u'\D'l -8u -11u'\h'-985u'\v'-73u'
.sp -1
...line 0.785714 0.471429 0.714286 0.571429
\h'1174u'\v'63u'\D'l -8u -11u'\h'-1165u'\v'-50u'
.sp -1
...line 0.838355 0.545125 0.785714 0.471429
\h'1181u'\v'55u'\D'l -5u 9u'\h'-1173u'\v'-62u'
.sp -1
...line 0.500000 0.471429 0.428571 0.571429
\h'1140u'\v'63u'\D'l -8u -11u'\h'-1130u'\v'-50u'
.sp -1
...line 0.642857 0.671429 0.500000 0.471429
\h'1157u'\v'39u'\D'l -16u 24u'\h'-1139u'\v'-62u'
.sp -1
...line 0.714286 0.571429 0.642857 0.671429
\h'1166u'\v'51u'\D'l -8u -11u'\h'-1156u'\v'-38u'
.sp -1
...line 0.214286 0.471429 0.142857 0.571429
\h'1106u'\v'63u'\D'l -8u -11u'\h'-1096u'\v'-50u'
.sp -1
...line 0.357143 0.671429 0.214286 0.471429
\h'1123u'\v'39u'\D'l -16u 24u'\h'-1105u'\v'-62u'
.sp -1
...line 0.428571 0.571429 0.357143 0.671429
\h'1131u'\v'51u'\D'l -8u -11u'\h'-1122u'\v'-38u'
.sp -1
...line -0.086457 0.492468 -0.142857 0.571429
\h'1070u'\v'61u'\D'l -6u -8u'\h'-1062u'\v'-50u'
.sp -1
...line 0.071429 0.671429 -0.053035 0.497179
\h'1089u'\v'39u'\D'l -14u 21u'\h'-1073u'\v'-59u'
.sp -1
...line 0.142857 0.571429 0.071429 0.671429
\h'1097u'\v'51u'\D'l -8u -11u'\h'-1088u'\v'-38u'
.sp -1
...line -0.357143 0.471429 -0.428571 0.571429
\h'1037u'\v'63u'\D'l -8u -11u'\h'-1028u'\v'-50u'
.sp -1
...line -0.214286 0.671429 -0.357143 0.471429
\h'1054u'\v'39u'\D'l -16u 24u'\h'-1036u'\v'-62u'
.sp -1
...line -0.142857 0.571429 -0.214286 0.671429
\h'1063u'\v'51u'\D'l -8u -11u'\h'-1053u'\v'-38u'
.sp -1
...line -0.642857 0.471429 -0.714286 0.571429
\h'1003u'\v'63u'\D'l -8u -11u'\h'-993u'\v'-50u'
.sp -1
...line -0.500000 0.671429 -0.642857 0.471429
\h'1020u'\v'39u'\D'l -16u 24u'\h'-1002u'\v'-62u'
.sp -1
...line -0.428571 0.571429 -0.500000 0.671429
\h'1029u'\v'51u'\D'l -8u -11u'\h'-1019u'\v'-38u'
.sp -1
...line -0.714286 0.571429 -0.765619 0.643295
\h'994u'\v'51u'\D'l -5u -8u'\h'-987u'\v'-42u'
.sp -1
...line 0.500000 0.757143 0.428571 0.857143
\h'1140u'\v'29u'\D'l -8u -11u'\h'-1130u'\v'-16u'
.sp -1
...line 0.553891 0.832590 0.500000 0.757143
\h'1146u'\v'20u'\D'l -5u 9u'\h'-1139u'\v'-28u'
.sp -1
...line 0.214286 0.757143 0.142857 0.857143
\h'1106u'\v'29u'\D'l -8u -11u'\h'-1096u'\v'-16u'
.sp -1
...line 0.344128 0.938923 0.214286 0.757143
\h'1121u'\v'7u'\D'l -15u 22u'\h'-1105u'\v'-28u'
.sp -1
...line 0.428571 0.857143 0.380158 0.924922
\h'1131u'\v'17u'\D'l -5u -7u'\h'-1125u'\v'-8u'
.sp -1
...line -0.071429 0.757143 -0.142857 0.857143
\h'1071u'\v'29u'\D'l -8u -11u'\h'-1062u'\v'-16u'
.sp -1
...line 0.071429 0.957143 -0.071429 0.757143
\h'1089u'\v'5u'\D'l -16u 24u'\h'-1070u'\v'-28u'
.sp -1
...line 0.142857 0.857143 0.071429 0.957143
\h'1097u'\v'17u'\D'l -8u -11u'\h'-1088u'\v'-4u'
.sp -1
...line -0.357143 0.757143 -0.428571 0.857143
\h'1037u'\v'29u'\D'l -8u -11u'\h'-1028u'\v'-16u'
.sp -1
...line -0.214286 0.957143 -0.357143 0.757143
\h'1054u'\v'5u'\D'l -16u 24u'\h'-1036u'\v'-28u'
.sp -1
...line -0.142857 0.857143 -0.214286 0.957143
\h'1063u'\v'17u'\D'l -8u -11u'\h'-1053u'\v'-4u'
.sp -1
...line -0.642857 0.757143 -0.646799 0.762661
\h'1003u'\v'29u'\D'l 0u 0u'\h'-1001u'\v'-27u'
.sp -1
...line -0.627544 0.778581 -0.642857 0.757143
\h'1005u'\v'27u'\D'l -1u 3u'\h'-1002u'\v'-28u'
.sp -1
...line -0.428571 0.857143 -0.453088 0.891466
\h'1029u'\v'17u'\D'l -2u -3u'\h'-1025u'\v'-12u'
.sp -1
.IF
.P1
boundary = cis(0), ^ cis(90), cis(180), ^ cis(270);






.P2
.LP
Here, the outer circle has an opaque exterior,
while the inner circle has an opaque interior.
.NH 2
Order is Important
.PP
Without the ability to opaque,
the order in which boxes are put does not matter.
But when some boxes are opaque, order obviously
.IT does
matter.
Put statements are executed
in the order in which they appear in the box definition.
When an opaque box is drawn, the opaquing is done
.IT first ,
then the lines of the box are drawn;
so, for instance, an opaque
.IT listnode
does include the line down its middle separating its
.IT info
field from its
.IT next
field.
.NH 2
Some Hard Facts
.PP
Neither text nor splines can be used to opaque objects,
nor will they be clipped properly if they are in a
picture and an opaque box is placed over them.
.Ts
The problem with text is that \*(id operates as a \*(tf preprocessor,
so it cannot determine anything about the size of the
text, and it needs to know that if it is to do anything
involving opaquing and text.
.Te
.Ts
The problem with splines is more subtle.
When a line or circular arc is chopped,
it is easy to specify the lines or circular arcs that remain.
But when a spline is chopped, the guiding points of the resulting curve pieces
are hard to determine.
.Te
.NH 1
Paper Commands
.PP
\*(id includes two commands that are analogous
to the way people draw on paper.
.NH 2
Construct
.PP
The
.IT construct
statement looks just like a put statement,
with the keyword
.IT put
replaced by
.IT construct .
It is best to think of it as laying a sheet of
tracing paper over the current drawing.
Anything constructed will be drawn on this sheet.
When you return to the layer underneath,
you may refer to any of the local variables
as with a put statement, but the lines and curves
in the constructed picture don't show.
.IS
...maxy 2.0
...minx -1.0
...maxx 1.0
...maxx 0.542262
...maxy 0.500000
...minx 0.457738
...miny -1.500000
...line 0.500000 -1.000000 0.457738 -0.909369
.ne 1.75i
\h'1140u'\v'360u'\D'l -4u -10u'\h'-1134u'\v'-348u'
.sp -1
...line 0.542262 -0.909369 0.500000 -1.000000
\h'1145u'\v'349u'\D'l -4u 11u'\h'-1139u'\v'-359u'
.sp -1
...line 0.500000 -1.000000 0.500000 0.000000
\h'1140u'\v'360u'\D'l 0u -119u'\h'-1139u'\v'-239u'
.sp -1
\h'1140u'\v'420u'\h'-\w'bottom'u/2u'bottom\h'-\w'bottom'u/2u'
.sp -1
\h'1140u'\v'180u'\h'-\w'top'u/2u'top\h'-\w'top'u/2u'
.sp -1
.IF
.P1
main {
	construct A: rect {
		sw = 0;
		wd = ht = 1;
	};
	construct B: rect {
		n = A.s - (0,1);
		wd = ht = 1;
	};
	'top' at A.c;
	'bottom' at B.c;
	put arrow {
		hd = B.n;
		tl = A.s;
	};
}
.P2
.LP
Here we have used ``invisible boxes'' to place the
arrow around the text without drawing the boxes.
.NH 2
Draw
.PP
The
construct command may also be used to localize the
effects of opaque boxes.
We saw above how to draw a filled polygon:
paint over the area, then opaque the exterior
of the polygon.
But how can we draw
.IT two
filled polygons in the same picture?
.PP
One solution is to construct them both, then use the
.IT draw
command to add them to the main picture.
The draw command transfers the contents of the
named sheet of tracing paper to the sheet below.
.IS
...width 2.0
...colwid 8.0
...maxx 1.500000
...maxy 1.000000
...minx -0.475528
...miny -0.000000
...circle 1.000000 0.500000 0.500000
.ne 1.01i
\h'957u'\v'121u'\D'c 243u'\h'-1199u'\v'-120u'
.sp -1
...line 1.443966 0.729988 1.400000 0.714286
\h'1186u'\v'66u'\D'l -10u 4u'\h'-1175u'\v'-68u'
.sp -1
...line 1.300000 0.821429 1.413687 0.780826
\h'1151u'\v'43u'\D'l 28u 10u'\h'-1178u'\v'-52u'
.sp -1
...line 1.362942 0.843908 1.300000 0.821429
\h'1167u'\v'38u'\D'l -14u 5u'\h'-1150u'\v'-42u'
.sp -1
...line 1.489215 0.603291 1.400000 0.571429
\h'1197u'\v'96u'\D'l -21u 8u'\h'-1175u'\v'-103u'
.sp -1
...line 1.300000 0.678571 1.487374 0.611652
\h'1151u'\v'78u'\D'l 46u 16u'\h'-1196u'\v'-93u'
.sp -1
...line 1.400000 0.714286 1.300000 0.678571
\h'1176u'\v'69u'\D'l -23u 9u'\h'-1150u'\v'-77u'
.sp -1
...line 1.498689 0.463818 1.400000 0.428571
\h'1200u'\v'130u'\D'l -23u 9u'\h'-1175u'\v'-138u'
.sp -1
...line 1.300000 0.535714 1.498755 0.464731
\h'1151u'\v'113u'\D'l 48u 17u'\h'-1199u'\v'-129u'
.sp -1
...line 1.400000 0.571429 1.300000 0.535714
\h'1176u'\v'104u'\D'l -23u 9u'\h'-1150u'\v'-112u'
.sp -1
...line 1.461538 0.307692 1.400000 0.285714
\h'1191u'\v'168u'\D'l -14u 5u'\h'-1175u'\v'-173u'
.sp -1
...line 1.300000 0.392857 1.470871 0.331832
\h'1151u'\v'148u'\D'l 42u 15u'\h'-1192u'\v'-161u'
.sp -1
...line 1.400000 0.428571 1.300000 0.392857
\h'1176u'\v'139u'\D'l -23u 9u'\h'-1150u'\v'-147u'
.sp -1
...line 1.300000 0.250000 1.408257 0.211337
\h'1151u'\v'182u'\D'l 26u 9u'\h'-1177u'\v'-191u'
.sp -1
...line 1.400000 0.285714 1.300000 0.250000
\h'1176u'\v'174u'\D'l -23u 9u'\h'-1150u'\v'-181u'
.sp -1
...line 1.300000 0.107143 1.306379 0.104865
\h'1151u'\v'217u'\D'l 2u 1u'\h'-1152u'\v'-216u'
.sp -1
...line 1.316742 0.113122 1.300000 0.107143
\h'1155u'\v'215u'\D'l -3u 1u'\h'-1150u'\v'-216u'
.sp -1
...line 1.300000 0.892857 1.200000 0.857143
\h'1151u'\v'26u'\D'l -23u 9u'\h'-1126u'\v'-34u'
.sp -1
...line 1.100000 0.964286 1.300000 0.892857
\h'1103u'\v'9u'\D'l 49u 17u'\h'-1150u'\v'-25u'
.sp -1
...line 1.142193 0.979355 1.100000 0.964286
\h'1113u'\v'5u'\D'l -9u 4u'\h'-1102u'\v'-8u'
.sp -1
...line 1.300000 0.750000 1.200000 0.714286
\h'1151u'\v'61u'\D'l -23u 9u'\h'-1126u'\v'-68u'
.sp -1
...line 1.100000 0.821429 1.300000 0.750000
\h'1103u'\v'43u'\D'l 49u 17u'\h'-1150u'\v'-60u'
.sp -1
...line 1.200000 0.857143 1.100000 0.821429
\h'1127u'\v'35u'\D'l -23u 9u'\h'-1102u'\v'-42u'
.sp -1
...line 1.300000 0.607143 1.200000 0.571429
\h'1151u'\v'95u'\D'l -23u 9u'\h'-1126u'\v'-103u'
.sp -1
...line 1.100000 0.678571 1.300000 0.607143
\h'1103u'\v'78u'\D'l 49u 17u'\h'-1150u'\v'-94u'
.sp -1
...line 1.200000 0.714286 1.100000 0.678571
\h'1127u'\v'69u'\D'l -23u 9u'\h'-1102u'\v'-77u'
.sp -1
...line 1.300000 0.464286 1.200000 0.428571
\h'1151u'\v'130u'\D'l -23u 9u'\h'-1126u'\v'-138u'
.sp -1
...line 1.100000 0.535714 1.300000 0.464286
\h'1103u'\v'113u'\D'l 49u 17u'\h'-1150u'\v'-129u'
.sp -1
...line 1.200000 0.571429 1.100000 0.535714
\h'1127u'\v'104u'\D'l -23u 9u'\h'-1102u'\v'-112u'
.sp -1
...line 1.300000 0.321429 1.200000 0.285714
\h'1151u'\v'165u'\D'l -23u 9u'\h'-1126u'\v'-173u'
.sp -1
...line 1.100000 0.392857 1.300000 0.321429
\h'1103u'\v'148u'\D'l 49u 17u'\h'-1150u'\v'-164u'
.sp -1
...line 1.200000 0.428571 1.100000 0.392857
\h'1127u'\v'139u'\D'l -23u 9u'\h'-1102u'\v'-147u'
.sp -1
...line 1.300000 0.178571 1.200000 0.142857
\h'1151u'\v'200u'\D'l -23u 9u'\h'-1126u'\v'-207u'
.sp -1
...line 1.100000 0.250000 1.300000 0.178571
\h'1103u'\v'182u'\D'l 49u 17u'\h'-1150u'\v'-199u'
.sp -1
...line 1.200000 0.285714 1.100000 0.250000
\h'1127u'\v'174u'\D'l -23u 9u'\h'-1102u'\v'-181u'
.sp -1
...line 1.100000 0.107143 1.235294 0.058824
\h'1103u'\v'217u'\D'l 33u 12u'\h'-1135u'\v'-228u'
.sp -1
...line 1.200000 0.142857 1.100000 0.107143
\h'1127u'\v'208u'\D'l -23u 9u'\h'-1102u'\v'-216u'
.sp -1
...line 1.100000 0.892857 1.000000 0.857143
\h'1103u'\v'26u'\D'l -23u 9u'\h'-1078u'\v'-34u'
.sp -1
...line 0.900000 0.964286 1.100000 0.892857
\h'1054u'\v'9u'\D'l 49u 17u'\h'-1102u'\v'-25u'
.sp -1
...line 1.000000 1.000000 0.900000 0.964286
\h'1079u'\v'0u'\D'l -23u 9u'\h'-1053u'\v'-8u'
.sp -1
...line 1.100000 0.750000 1.000000 0.714286
\h'1103u'\v'61u'\D'l -23u 9u'\h'-1078u'\v'-68u'
.sp -1
...line 0.900000 0.821429 1.100000 0.750000
\h'1054u'\v'43u'\D'l 49u 17u'\h'-1102u'\v'-60u'
.sp -1
...line 1.000000 0.857143 0.900000 0.821429
\h'1079u'\v'35u'\D'l -23u 9u'\h'-1053u'\v'-42u'
.sp -1
...line 1.100000 0.607143 1.000000 0.571429
\h'1103u'\v'95u'\D'l -23u 9u'\h'-1078u'\v'-103u'
.sp -1
...line 0.900000 0.678571 1.100000 0.607143
\h'1054u'\v'78u'\D'l 49u 17u'\h'-1102u'\v'-94u'
.sp -1
...line 1.000000 0.714286 0.900000 0.678571
\h'1079u'\v'69u'\D'l -23u 9u'\h'-1053u'\v'-77u'
.sp -1
...line 1.100000 0.464286 1.000000 0.428571
\h'1103u'\v'130u'\D'l -23u 9u'\h'-1078u'\v'-138u'
.sp -1
...line 0.900000 0.535714 1.100000 0.464286
\h'1054u'\v'113u'\D'l 49u 17u'\h'-1102u'\v'-129u'
.sp -1
...line 1.000000 0.571429 0.900000 0.535714
\h'1079u'\v'104u'\D'l -23u 9u'\h'-1053u'\v'-112u'
.sp -1
...line 1.100000 0.321429 1.000000 0.285714
\h'1103u'\v'165u'\D'l -23u 9u'\h'-1078u'\v'-173u'
.sp -1
...line 0.900000 0.392857 1.100000 0.321429
\h'1054u'\v'148u'\D'l 49u 17u'\h'-1102u'\v'-164u'
.sp -1
...line 1.000000 0.428571 0.900000 0.392857
\h'1079u'\v'139u'\D'l -23u 9u'\h'-1053u'\v'-147u'
.sp -1
...line 1.100000 0.178571 1.000000 0.142857
\h'1103u'\v'200u'\D'l -23u 9u'\h'-1078u'\v'-207u'
.sp -1
...line 0.900000 0.250000 1.100000 0.178571
\h'1054u'\v'182u'\D'l 49u 17u'\h'-1102u'\v'-199u'
.sp -1
...line 1.000000 0.285714 0.900000 0.250000
\h'1079u'\v'174u'\D'l -23u 9u'\h'-1053u'\v'-181u'
.sp -1
...line 1.100000 0.035714 1.000000 -0.000000
\h'1103u'\v'234u'\D'l -23u 9u'\h'-1078u'\v'-242u'
.sp -1
...line 0.900000 0.107143 1.100000 0.035714
\h'1054u'\v'217u'\D'l 49u 17u'\h'-1102u'\v'-233u'
.sp -1
...line 1.000000 0.142857 0.900000 0.107143
\h'1079u'\v'208u'\D'l -23u 9u'\h'-1053u'\v'-216u'
.sp -1
...line 0.900000 0.892857 0.800000 0.857143
\h'1054u'\v'26u'\D'l -23u 9u'\h'-1029u'\v'-34u'
.sp -1
...line 0.764706 0.941176 0.900000 0.892857
\h'1021u'\v'14u'\D'l 33u 12u'\h'-1053u'\v'-25u'
.sp -1
...line 0.900000 0.750000 0.800000 0.714286
\h'1054u'\v'61u'\D'l -23u 9u'\h'-1029u'\v'-68u'
.sp -1
...line 0.700000 0.821429 0.900000 0.750000
\h'1006u'\v'43u'\D'l 49u 17u'\h'-1053u'\v'-60u'
.sp -1
...line 0.800000 0.857143 0.700000 0.821429
\h'1030u'\v'35u'\D'l -23u 9u'\h'-1005u'\v'-42u'
.sp -1
...line 0.900000 0.607143 0.800000 0.571429
\h'1054u'\v'95u'\D'l -23u 9u'\h'-1029u'\v'-103u'
.sp -1
...line 0.700000 0.678571 0.900000 0.607143
\h'1006u'\v'78u'\D'l 49u 17u'\h'-1053u'\v'-94u'
.sp -1
...line 0.800000 0.714286 0.700000 0.678571
\h'1030u'\v'69u'\D'l -23u 9u'\h'-1005u'\v'-77u'
.sp -1
...line 0.900000 0.464286 0.800000 0.428571
\h'1054u'\v'130u'\D'l -23u 9u'\h'-1029u'\v'-138u'
.sp -1
...line 0.700000 0.535714 0.900000 0.464286
\h'1006u'\v'113u'\D'l 49u 17u'\h'-1053u'\v'-129u'
.sp -1
...line 0.800000 0.571429 0.700000 0.535714
\h'1030u'\v'104u'\D'l -23u 9u'\h'-1005u'\v'-112u'
.sp -1
...line 0.900000 0.321429 0.800000 0.285714
\h'1054u'\v'165u'\D'l -23u 9u'\h'-1029u'\v'-173u'
.sp -1
...line 0.700000 0.392857 0.900000 0.321429
\h'1006u'\v'148u'\D'l 49u 17u'\h'-1053u'\v'-164u'
.sp -1
...line 0.800000 0.428571 0.700000 0.392857
\h'1030u'\v'139u'\D'l -23u 9u'\h'-1005u'\v'-147u'
.sp -1
...line 0.900000 0.178571 0.800000 0.142857
\h'1054u'\v'200u'\D'l -23u 9u'\h'-1029u'\v'-207u'
.sp -1
...line 0.700000 0.250000 0.900000 0.178571
\h'1006u'\v'182u'\D'l 49u 17u'\h'-1053u'\v'-199u'
.sp -1
...line 0.800000 0.285714 0.700000 0.250000
\h'1030u'\v'174u'\D'l -23u 9u'\h'-1005u'\v'-181u'
.sp -1
...line 0.900000 0.035714 0.857807 0.020645
\h'1054u'\v'234u'\D'l -9u 4u'\h'-1043u'\v'-237u'
.sp -1
...line 0.700000 0.107143 0.900000 0.035714
\h'1006u'\v'217u'\D'l 49u 17u'\h'-1053u'\v'-233u'
.sp -1
...line 0.800000 0.142857 0.700000 0.107143
\h'1030u'\v'208u'\D'l -23u 9u'\h'-1005u'\v'-216u'
.sp -1
...line 0.700000 0.892857 0.683258 0.886878
\h'1006u'\v'26u'\D'l -3u 1u'\h'-1001u'\v'-26u'
.sp -1
...line 0.693621 0.895135 0.700000 0.892857
\h'1004u'\v'25u'\D'l 2u 1u'\h'-1005u'\v'-25u'
.sp -1
...line 0.700000 0.750000 0.600000 0.714286
\h'1006u'\v'61u'\D'l -23u 9u'\h'-980u'\v'-68u'
.sp -1
...line 0.591743 0.788663 0.700000 0.750000
\h'979u'\v'51u'\D'l 26u 9u'\h'-1005u'\v'-60u'
.sp -1
...line 0.700000 0.607143 0.600000 0.571429
\h'1006u'\v'95u'\D'l -23u 9u'\h'-980u'\v'-103u'
.sp -1
...line 0.529129 0.668168 0.700000 0.607143
\h'964u'\v'81u'\D'l 42u 15u'\h'-1005u'\v'-94u'
.sp -1
...line 0.600000 0.714286 0.538462 0.692308
\h'981u'\v'69u'\D'l -14u 5u'\h'-965u'\v'-74u'
.sp -1
...line 0.700000 0.464286 0.600000 0.428571
\h'1006u'\v'130u'\D'l -23u 9u'\h'-980u'\v'-138u'
.sp -1
...line 0.501245 0.535269 0.700000 0.464286
\h'957u'\v'113u'\D'l 48u 17u'\h'-1005u'\v'-129u'
.sp -1
...line 0.600000 0.571429 0.501311 0.536183
\h'981u'\v'104u'\D'l -23u 9u'\h'-956u'\v'-112u'
.sp -1
...line 0.700000 0.321429 0.600000 0.285714
\h'1006u'\v'165u'\D'l -23u 9u'\h'-980u'\v'-173u'
.sp -1
...line 0.512626 0.388348 0.700000 0.321429
\h'960u'\v'149u'\D'l 46u 16u'\h'-1005u'\v'-164u'
.sp -1
...line 0.600000 0.428571 0.510785 0.396709
\h'981u'\v'139u'\D'l -21u 8u'\h'-959u'\v'-146u'
.sp -1
...line 0.700000 0.178571 0.637057 0.156092
\h'1006u'\v'200u'\D'l -14u 5u'\h'-989u'\v'-204u'
.sp -1
...line 0.586313 0.219174 0.700000 0.178571
\h'978u'\v'190u'\D'l 28u 10u'\h'-1005u'\v'-199u'
.sp -1
...line 0.600000 0.285714 0.556034 0.270012
\h'981u'\v'174u'\D'l -10u 4u'\h'-970u'\v'-176u'
.sp -1
...line -0.475528 0.654508 0.000000 1.000000
\h'720u'\v'84u'\D'l 116u -83u'\h'-835u'\v'0u'
.sp -1
...line -0.293893 0.095491 -0.475528 0.654508
\h'764u'\v'220u'\D'l -43u -135u'\h'-719u'\v'-83u'
.sp -1
...line 0.293893 0.095491 -0.293893 0.095491
\h'907u'\v'220u'\D'l -142u 0u'\h'-763u'\v'-219u'
.sp -1
...line 0.475528 0.654508 0.293893 0.095491
\h'951u'\v'84u'\D'l -43u 136u'\h'-906u'\v'-219u'
.sp -1
...line 0.000000 1.000000 0.475528 0.654508
\h'836u'\v'0u'\D'l 116u 84u'\h'-950u'\v'-83u'
.sp -1
...line 0.178571 0.171429 0.151451 0.095491
\h'879u'\v'201u'\D'l -6u 18u'\h'-871u'\v'-219u'
.sp -1
...line 0.205692 0.095491 0.178571 0.171429
\h'886u'\v'220u'\D'l -6u -17u'\h'-878u'\v'-200u'
.sp -1
...line 0.035714 0.171429 0.008594 0.095491
\h'844u'\v'201u'\D'l -6u 18u'\h'-837u'\v'-219u'
.sp -1
...line 0.062835 0.095491 0.035714 0.171429
\h'851u'\v'220u'\D'l -6u -17u'\h'-843u'\v'-200u'
.sp -1
...line -0.107143 0.171429 -0.134263 0.095492
\h'810u'\v'201u'\D'l -6u 18u'\h'-802u'\v'-219u'
.sp -1
...line -0.080022 0.095491 -0.107143 0.171429
\h'816u'\v'220u'\D'l -6u -17u'\h'-809u'\v'-200u'
.sp -1
...line -0.250000 0.171429 -0.277120 0.095491
\h'775u'\v'201u'\D'l -6u 18u'\h'-767u'\v'-219u'
.sp -1
...line -0.222880 0.095491 -0.250000 0.171429
\h'781u'\v'220u'\D'l -6u -17u'\h'-774u'\v'-200u'
.sp -1
...line 0.250000 0.114286 0.214286 0.214286
\h'896u'\v'215u'\D'l -8u -23u'\h'-887u'\v'-190u'
.sp -1
...line 0.321429 0.314286 0.250000 0.114286
\h'914u'\v'167u'\D'l -16u 49u'\h'-895u'\v'-214u'
.sp -1
...line 0.344235 0.250429 0.321429 0.314286
\h'919u'\v'182u'\D'l -5u -15u'\h'-913u'\v'-166u'
.sp -1
...line 0.107143 0.114286 0.071429 0.214286
\h'862u'\v'215u'\D'l -8u -23u'\h'-852u'\v'-190u'
.sp -1
...line 0.178571 0.314286 0.107143 0.114286
\h'879u'\v'167u'\D'l -16u 49u'\h'-861u'\v'-214u'
.sp -1
...line 0.214286 0.214286 0.178571 0.314286
\h'888u'\v'191u'\D'l -8u -23u'\h'-878u'\v'-166u'
.sp -1
...line -0.035714 0.114286 -0.071429 0.214286
\h'827u'\v'215u'\D'l -8u -23u'\h'-817u'\v'-190u'
.sp -1
...line 0.035714 0.314286 -0.035714 0.114286
\h'844u'\v'167u'\D'l -16u 49u'\h'-826u'\v'-214u'
.sp -1
...line 0.071429 0.214286 0.035714 0.314286
\h'853u'\v'191u'\D'l -8u -23u'\h'-843u'\v'-166u'
.sp -1
...line -0.178571 0.114286 -0.214286 0.214286
\h'792u'\v'215u'\D'l -8u -23u'\h'-782u'\v'-190u'
.sp -1
...line -0.107143 0.314286 -0.178571 0.114286
\h'810u'\v'167u'\D'l -16u 49u'\h'-791u'\v'-214u'
.sp -1
...line -0.071429 0.214286 -0.107143 0.314286
\h'818u'\v'191u'\D'l -8u -23u'\h'-809u'\v'-166u'
.sp -1
...line -0.250000 0.314286 -0.310208 0.145704
\h'775u'\v'167u'\D'l -14u 41u'\h'-759u'\v'-207u'
.sp -1
...line -0.214286 0.214286 -0.250000 0.314286
\h'783u'\v'191u'\D'l -8u -23u'\h'-774u'\v'-166u'
.sp -1
...line 0.368540 0.325232 0.357143 0.357143
\h'925u'\v'164u'\D'l -2u -7u'\h'-921u'\v'-155u'
.sp -1
...line 0.250000 0.257143 0.214286 0.357143
\h'896u'\v'180u'\D'l -8u -23u'\h'-887u'\v'-155u'
.sp -1
...line 0.321429 0.457143 0.250000 0.257143
\h'914u'\v'132u'\D'l -16u 49u'\h'-895u'\v'-179u'
.sp -1
...line 0.357143 0.357143 0.321429 0.457143
\h'922u'\v'156u'\D'l -8u -23u'\h'-913u'\v'-131u'
.sp -1
...line 0.107143 0.257143 0.071429 0.357143
\h'862u'\v'180u'\D'l -8u -23u'\h'-852u'\v'-155u'
.sp -1
...line 0.178571 0.457143 0.107143 0.257143
\h'879u'\v'132u'\D'l -16u 49u'\h'-861u'\v'-179u'
.sp -1
...line 0.214286 0.357143 0.178571 0.457143
\h'888u'\v'156u'\D'l -8u -23u'\h'-878u'\v'-131u'
.sp -1
...line -0.035714 0.257143 -0.071429 0.357143
\h'827u'\v'180u'\D'l -8u -23u'\h'-817u'\v'-155u'
.sp -1
...line 0.035714 0.457143 -0.035714 0.257143
\h'844u'\v'132u'\D'l -16u 49u'\h'-826u'\v'-179u'
.sp -1
...line 0.071429 0.357143 0.035714 0.457143
\h'853u'\v'156u'\D'l -8u -23u'\h'-843u'\v'-131u'
.sp -1
...line -0.178571 0.257143 -0.214286 0.357143
\h'792u'\v'180u'\D'l -8u -23u'\h'-782u'\v'-155u'
.sp -1
...line -0.107143 0.457143 -0.178571 0.257143
\h'810u'\v'132u'\D'l -16u 49u'\h'-791u'\v'-179u'
.sp -1
...line -0.071429 0.357143 -0.107143 0.457143
\h'818u'\v'156u'\D'l -8u -23u'\h'-809u'\v'-131u'
.sp -1
...line -0.321429 0.257143 -0.357143 0.357143
\h'757u'\v'180u'\D'l -8u -23u'\h'-748u'\v'-155u'
.sp -1
...line -0.250000 0.457143 -0.321429 0.257143
\h'775u'\v'132u'\D'l -16u 49u'\h'-756u'\v'-179u'
.sp -1
...line -0.214286 0.357143 -0.250000 0.457143
\h'783u'\v'156u'\D'l -8u -23u'\h'-774u'\v'-131u'
.sp -1
...line -0.392857 0.457143 -0.402567 0.429956
\h'740u'\v'132u'\D'l -1u 7u'\h'-737u'\v'-138u'
.sp -1
...line -0.357143 0.357143 -0.392857 0.457143
\h'749u'\v'156u'\D'l -8u -23u'\h'-739u'\v'-131u'
.sp -1
...line 0.392845 0.400035 0.357143 0.500000
\h'931u'\v'146u'\D'l -8u -23u'\h'-921u'\v'-120u'
.sp -1
...line 0.250000 0.400000 0.214286 0.500000
\h'896u'\v'146u'\D'l -8u -23u'\h'-887u'\v'-120u'
.sp -1
...line 0.321429 0.600000 0.250000 0.400000
\h'914u'\v'97u'\D'l -16u 49u'\h'-895u'\v'-145u'
.sp -1
...line 0.357143 0.500000 0.321429 0.600000
\h'922u'\v'121u'\D'l -8u -23u'\h'-913u'\v'-96u'
.sp -1
...line 0.107143 0.400000 0.071429 0.500000
\h'862u'\v'146u'\D'l -8u -23u'\h'-852u'\v'-120u'
.sp -1
...line 0.178571 0.600000 0.107143 0.400000
\h'879u'\v'97u'\D'l -16u 49u'\h'-861u'\v'-145u'
.sp -1
...line 0.214286 0.500000 0.178571 0.600000
\h'888u'\v'121u'\D'l -8u -23u'\h'-878u'\v'-96u'
.sp -1
...line -0.035714 0.400000 -0.071429 0.500000
\h'827u'\v'146u'\D'l -8u -23u'\h'-817u'\v'-120u'
.sp -1
...line 0.035714 0.600000 -0.035714 0.400000
\h'844u'\v'97u'\D'l -16u 49u'\h'-826u'\v'-145u'
.sp -1
...line 0.071429 0.500000 0.035714 0.600000
\h'853u'\v'121u'\D'l -8u -23u'\h'-843u'\v'-96u'
.sp -1
...line -0.178571 0.400000 -0.214286 0.500000
\h'792u'\v'146u'\D'l -8u -23u'\h'-782u'\v'-120u'
.sp -1
...line -0.107143 0.600000 -0.178571 0.400000
\h'810u'\v'97u'\D'l -16u 49u'\h'-791u'\v'-145u'
.sp -1
...line -0.071429 0.500000 -0.107143 0.600000
\h'818u'\v'121u'\D'l -8u -23u'\h'-809u'\v'-96u'
.sp -1
...line -0.321429 0.400000 -0.357143 0.500000
\h'757u'\v'146u'\D'l -8u -23u'\h'-748u'\v'-120u'
.sp -1
...line -0.250000 0.600000 -0.321429 0.400000
\h'775u'\v'97u'\D'l -16u 49u'\h'-756u'\v'-145u'
.sp -1
...line -0.214286 0.500000 -0.250000 0.600000
\h'783u'\v'121u'\D'l -8u -23u'\h'-774u'\v'-96u'
.sp -1
...line -0.392857 0.600000 -0.426872 0.504759
\h'740u'\v'97u'\D'l -7u 23u'\h'-731u'\v'-119u'
.sp -1
...line -0.357143 0.500000 -0.392857 0.600000
\h'749u'\v'121u'\D'l -8u -23u'\h'-739u'\v'-96u'
.sp -1
...line 0.392857 0.542857 0.357143 0.642857
\h'931u'\v'111u'\D'l -8u -23u'\h'-921u'\v'-86u'
.sp -1
...line 0.441549 0.679196 0.392857 0.542857
\h'943u'\v'78u'\D'l -11u 33u'\h'-930u'\v'-110u'
.sp -1
...line 0.250000 0.542857 0.214286 0.642857
\h'896u'\v'111u'\D'l -8u -23u'\h'-887u'\v'-86u'
.sp -1
...line 0.321429 0.742857 0.250000 0.542857
\h'914u'\v'62u'\D'l -16u 49u'\h'-895u'\v'-110u'
.sp -1
...line 0.357143 0.642857 0.321429 0.742857
\h'922u'\v'87u'\D'l -8u -23u'\h'-913u'\v'-61u'
.sp -1
...line 0.107143 0.542857 0.071429 0.642857
\h'862u'\v'111u'\D'l -8u -23u'\h'-852u'\v'-86u'
.sp -1
...line 0.178571 0.742857 0.107143 0.542857
\h'879u'\v'62u'\D'l -16u 49u'\h'-861u'\v'-110u'
.sp -1
...line 0.214286 0.642857 0.178571 0.742857
\h'888u'\v'87u'\D'l -8u -23u'\h'-878u'\v'-61u'
.sp -1
...line -0.035714 0.542857 -0.071429 0.642857
\h'827u'\v'111u'\D'l -8u -23u'\h'-817u'\v'-86u'
.sp -1
...line 0.035714 0.742857 -0.035714 0.542857
\h'844u'\v'62u'\D'l -16u 49u'\h'-826u'\v'-110u'
.sp -1
...line 0.071429 0.642857 0.035714 0.742857
\h'853u'\v'87u'\D'l -8u -23u'\h'-843u'\v'-61u'
.sp -1
...line -0.178571 0.542857 -0.214286 0.642857
\h'792u'\v'111u'\D'l -8u -23u'\h'-782u'\v'-86u'
.sp -1
...line -0.107143 0.742857 -0.178571 0.542857
\h'810u'\v'62u'\D'l -16u 49u'\h'-791u'\v'-110u'
.sp -1
...line -0.071429 0.642857 -0.107143 0.742857
\h'818u'\v'87u'\D'l -8u -23u'\h'-809u'\v'-61u'
.sp -1
...line -0.321429 0.542857 -0.357143 0.642857
\h'757u'\v'111u'\D'l -8u -23u'\h'-748u'\v'-86u'
.sp -1
...line -0.250000 0.742857 -0.321429 0.542857
\h'775u'\v'62u'\D'l -16u 49u'\h'-756u'\v'-110u'
.sp -1
...line -0.214286 0.642857 -0.250000 0.742857
\h'783u'\v'87u'\D'l -8u -23u'\h'-774u'\v'-61u'
.sp -1
...line -0.406498 0.704662 -0.451177 0.579562
\h'737u'\v'72u'\D'l -10u 30u'\h'-725u'\v'-101u'
.sp -1
...line -0.357143 0.642857 -0.384837 0.720400
\h'749u'\v'87u'\D'l -6u -18u'\h'-741u'\v'-67u'
.sp -1
...line 0.392857 0.685714 0.378939 0.724684
\h'931u'\v'76u'\D'l -2u -8u'\h'-927u'\v'-66u'
.sp -1
...line 0.401040 0.708627 0.392857 0.685714
\h'933u'\v'71u'\D'l -1u 6u'\h'-930u'\v'-75u'
.sp -1
...line 0.250000 0.685714 0.214286 0.785714
\h'896u'\v'76u'\D'l -8u -23u'\h'-887u'\v'-51u'
.sp -1
...line 0.287615 0.791036 0.250000 0.685714
\h'905u'\v'51u'\D'l -8u 26u'\h'-895u'\v'-75u'
.sp -1
...line 0.107143 0.685714 0.071429 0.785714
\h'862u'\v'76u'\D'l -8u -23u'\h'-852u'\v'-51u'
.sp -1
...line 0.174189 0.873444 0.107143 0.685714
\h'878u'\v'31u'\D'l -15u 46u'\h'-861u'\v'-75u'
.sp -1
...line 0.214286 0.785714 0.186025 0.864845
\h'888u'\v'52u'\D'l -6u -18u'\h'-880u'\v'-32u'
.sp -1
...line -0.035714 0.685714 -0.071429 0.785714
\h'827u'\v'76u'\D'l -8u -23u'\h'-817u'\v'-51u'
.sp -1
...line 0.035714 0.885714 -0.035714 0.685714
\h'844u'\v'28u'\D'l -16u 49u'\h'-826u'\v'-75u'
.sp -1
...line 0.071429 0.785714 0.035714 0.885714
\h'853u'\v'52u'\D'l -8u -23u'\h'-843u'\v'-27u'
.sp -1
...line -0.178571 0.685714 -0.214286 0.785714
\h'792u'\v'76u'\D'l -8u -23u'\h'-782u'\v'-51u'
.sp -1
...line -0.107143 0.885714 -0.178571 0.685714
\h'810u'\v'28u'\D'l -16u 49u'\h'-791u'\v'-75u'
.sp -1
...line -0.071429 0.785714 -0.107143 0.885714
\h'818u'\v'52u'\D'l -8u -23u'\h'-809u'\v'-27u'
.sp -1
...line -0.321429 0.685714 -0.344328 0.749831
\h'757u'\v'76u'\D'l -5u -15u'\h'-751u'\v'-60u'
.sp -1
...line -0.282482 0.794765 -0.321429 0.685714
\h'767u'\v'50u'\D'l -8u 26u'\h'-756u'\v'-75u'
.sp -1
...line -0.214286 0.785714 -0.230902 0.832240
\h'783u'\v'52u'\D'l -3u -10u'\h'-778u'\v'-40u'
.sp -1
...line 0.107143 0.828571 0.071429 0.928571
\h'862u'\v'42u'\D'l -8u -23u'\h'-852u'\v'-16u'
.sp -1
...line 0.133680 0.902876 0.107143 0.828571
\h'868u'\v'24u'\D'l -5u 18u'\h'-861u'\v'-41u'
.sp -1
...line -0.035714 0.828571 -0.071429 0.928571
\h'827u'\v'42u'\D'l -8u -23u'\h'-817u'\v'-16u'
.sp -1
...line 0.020255 0.985284 -0.035714 0.828571
\h'840u'\v'4u'\D'l -13u 38u'\h'-826u'\v'-41u'
.sp -1
...line 0.071429 0.928571 0.062008 0.954948
\h'853u'\v'17u'\D'l -1u -5u'\h'-850u'\v'-10u'
.sp -1
...line -0.178571 0.828571 -0.190393 0.861671
\h'792u'\v'42u'\D'l -2u -7u'\h'-788u'\v'-33u'
.sp -1
...line -0.158465 0.884868 -0.178571 0.828571
\h'797u'\v'28u'\D'l -4u 14u'\h'-791u'\v'-41u'
.sp -1
...line -0.071429 0.928571 -0.076967 0.944080
\h'818u'\v'17u'\D'l 0u -3u'\h'-816u'\v'-13u'
.sp -1
.IF
.P1
null {
}

pentagon {
	var center, radius,
		pt1, pt2, pt3, pt4, pt5;
	pt1 = center + radius;
	pt2 = center + cis(72)*radius;
	pt3 = center + cis(144)*radius;
	pt4 = center + cis(-144)*radius;
	pt5 = center + cis(-72)*radius;
	conn pt1 to pt2 to pt3 to pt4 to pt5 to pt1;
	bdlist = pt1, pt2, pt3, pt4, pt5;
}

main {
	construct A: null {
		conn (0,1) to 0
			using 7 brush {
				bwd = 1;
				bht = 0.1;
				}<top,bot>;
		put pentagon {
			center = (0,0.5);
			radius = (0,0.5);
			opaque exterior;
		};
	};
	construct B: null {
		conn (0.5,0.5) to (1.5,0.5)
			using 5 brush {
				bwd = (0,1);
				bht = 0.1;
				}<top,bot>;
		put circle {
			center = (1,0.5);
			radius = 0.5;
			opaque exterior;
		};
	};
	draw A;
	draw B;
}
.P2
.LP
Even put statements can be added to the parameter sections
of construct (and put) statements!
Believe it or not, box
.IT null
defined above is one of the most useful:
it gives us a way to name a set of commands and variables
so that we may reference them later, yet it doesn't
require us to define a box that will be used only once.
.PP
Given construct and draw, why do we need a special box
.IT hole
to opaque a circular area without drawing anything?
Why not just construct an opaque circle, then draw it
on the main picture?
The problem is that the effect of opaquing is localized
just as much as the drawing, so an opaque constructed
circle won't opaque anything that lies underneath.
.NH 1
Library Files
.PP
Library files are available to draw common figures and for special
figures like circles and arcs.
To include a library file as part of an \*(id program,
include the line
.P1
.nr 99 \n(.s
.nr 98 \n(.f
.af 98 01
.rm 11 
.as 11 "\&...libfile 
.ps 10
.ft 2
.ds 12 "name
.ds 12 \x'0'\f2\s10\*(12\|\s\n(99\f(\n(98
.as 11 \*(12
.ps \n(99
.ft \n(98
.as 11 "
.ps \n(99
.ft \n(98
\*(11
.P2
in your \*(id program (between the .IS and .IE lines that mark its
start and end.)
This section describes available library files that have been alluded
to up to now.
.NH 2
Rectangle
.PP
File
.IT rect
contains the definition of box
.IT rect ,
which looks like the definition in Section 3, with
.nr 99 \n(.s
.nr 98 \n(.f
.af 98 01
.rm 11 
.as 11 "five more variables:  
.ps 10
.ft 2
.ds 12 "n
.ds 12 \x'0'\f2\s10\*(12\|\s\n(99\f(\n(98
.as 11 \*(12
.ps \n(99
.ft \n(98
.as 11 ", 
.ps 10
.ft 2
.ds 12 "s
.ds 12 \x'0'\f2\s10\*(12\|\s\n(99\f(\n(98
.as 11 \*(12
.ps \n(99
.ft \n(98
.as 11 ", 
.ps 10
.ft 2
.ds 12 "e
.ds 12 \x'0'\f2\s10\*(12\|\s\n(99\f(\n(98
.as 11 \*(12
.ps \n(99
.ft \n(98
.as 11 ", 
.ps 10
.ft 2
.ds 12 "w
.ds 12 \x'0'\f2\s10\*(12\|\s\n(99\f(\n(98
.as 11 \*(12
.ps \n(99
.ft \n(98
.as 11 ", and 
.ps 10
.ft 2
.ds 12 "c
.ds 12 \x'0'\f2\s10\*(12\|\s\n(99\f(\n(98
.as 11 \*(12
.ps \n(99
.ft \n(98
.as 11 ",
.ps \n(99
.ft \n(98
\*(11
which are the four compass points and the center,
respectively.
.P1
rect {
	var ne, nw, sw, se,
	n, e, w, s, c,
	ht, wd;
	ne = se + (0,1)*ht;
	nw = sw + (0,1)*ht;
	ne = nw + wd;
	n = (ne+nw)/2;
	s = (se+sw)/2;
	e = (ne+se)/2;
	w = (nw+sw)/2;
	c = (ne+sw)/2;
	ht ~ 1;
	wd ~ 1.5;
	bdlist = ne, nw, sw, se;
	conn ne to nw to sw to se to ne;
}
.P2
.NH 2
Arrow
.PP
File
.IT arrow
contains the definition of box
.IT arrow
as given in Section 3.
.P1
arrow {
	var tl, hd, head, perp, headang;
	conn tl to hd;
	perp = head*(tl-hd)/abs(tl-hd);
	conn hd + cis(headang)*perp to hd to hd + cis(-headang)*perp;
	head ~ 0.1;
	headang ~ 25;
}
.P2
.NH 2
Wavy
.PP
Library file
.IT wavy
contains the definition for the familiar
.IT wavy .
.P1
wavy {
	var start, end, perp, pt1, pt2, ht;
	perp = (0,1)*(start - end)/abs(start - end);
	pt1 = 0.25[start,end] + perp*ht;
	pt2 = 0.75[start,end] - perp*ht;
	conn start to pt1 to pt2 to end;
}
.P2
.NH 2
Dash
.PP
Library file
.IT dash
contains the definition of box
.IT dash ,
which may be useful for drawing dashed lines:
.P1
dash {
	var start, end;
	conn start to 0.25[start,end];
	conn 0.75[start,end] to end;
}
.P2
.NH 2
Circles
.PP
Box
.IT circle
resides in a library file of the same name, and
has the local variables described in Section 3:
.nr 99 \n(.s
.nr 98 \n(.f
.af 98 01
.rm 11 
.ps 10
.ft 2
.ds 12 "center
.ds 12 \x'0'\f2\s10\*(12\|\s\n(99\f(\n(98
.as 11 \*(12
.ps \n(99
.ft \n(98
.as 11 ", 
.ps 10
.ft 2
.ds 12 "radius
.ds 12 \x'0'\f2\s10\*(12\|\s\n(99\f(\n(98
.as 11 \*(12
.ps \n(99
.ft \n(98
.as 11 ", 
.ps 10
.ft 2
.ds 12 "z\|\f11\fP
.ds 12 \x'0'\f2\s10\*(12\s\n(99\f(\n(98
.as 11 \*(12
.ps \n(99
.ft \n(98
.as 11 ", 
.ps 10
.ft 2
.ds 12 "z\|\f12\fP
.ds 12 \x'0'\f2\s10\*(12\s\n(99\f(\n(98
.as 11 \*(12
.ps \n(99
.ft \n(98
.as 11 ", and 
.ps 10
.ft 2
.ds 12 "z\|\f13\fP
.ds 12 \x'0'\f2\s10\*(12\s\n(99\f(\n(98
.as 11 \*(12
.ps \n(99
.ft \n(98
.as 11 ".
.ps \n(99
.ft \n(98
\*(11
.Ts
Box
.IT circle
actually consists of variable declarations
and a put of box
.IT CIRCLE .
So, if you will have many circles of a particular radius,
.nr 99 \n(.s
.nr 98 \n(.f
.af 98 01
.rm 11 
.as 11 "it might be easier for you to define your own, say, 
.ps 10
.ft 2
.ds 12 "circle\|\f13\fP
.ds 12 \x'0'\f2\s10\*(12\s\n(99\f(\n(98
.as 11 \*(12
.ps \n(99
.ft \n(98
.as 11 ":
.ps \n(99
.ft \n(98
\*(11
.P1
...libfile CIRCLE
circle {
	var center, radius, z1, z2, z3;
	put CIRCLE {
		radius = 3;
	}
}
.P2
.Te
.NH 2
Arcs
.PP
Box
.IT arc
is contained in a library file of the same name,
with local variables as described in Section 3:
.nr 99 \n(.s
.nr 98 \n(.f
.af 98 01
.rm 11 
.ps 10
.ft 2
.ds 12 "center
.ds 12 \x'0'\f2\s10\*(12\|\s\n(99\f(\n(98
.as 11 \*(12
.ps \n(99
.ft \n(98
.as 11 ", 
.ps 10
.ft 2
.ds 12 "radius
.ds 12 \x'0'\f2\s10\*(12\|\s\n(99\f(\n(98
.as 11 \*(12
.ps \n(99
.ft \n(98
.as 11 ", 
.ps 10
.ft 2
.ds 12 "start
.ds 12 \x'0'\f2\s10\*(12\|\s\n(99\f(\n(98
.as 11 \*(12
.ps \n(99
.ft \n(98
.as 11 ", 
.ps 10
.ft 2
.ds 12 "midway
.ds 12 \x'0'\f2\s10\*(12\|\s\n(99\f(\n(98
.as 11 \*(12
.ps \n(99
.ft \n(98
.as 11 ", 
.ps 10
.ft 2
.ds 12 "end
.ds 12 \x'0'\f2\s10\*(12\|\s\n(99\f(\n(98
.as 11 \*(12
.ps \n(99
.ft \n(98
.as 11 ",
.ps \n(99
.ft \n(98
\*(11
.nr 99 \n(.s
.nr 98 \n(.f
.af 98 01
.rm 11 
.ps 10
.ft 2
.ds 12 "startang
.ds 12 \x'0'\f2\s10\*(12\|\s\n(99\f(\n(98
.as 11 \*(12
.ps \n(99
.ft \n(98
.as 11 ", 
.ps 10
.ft 2
.ds 12 "midang
.ds 12 \x'0'\f2\s10\*(12\|\s\n(99\f(\n(98
.as 11 \*(12
.ps \n(99
.ft \n(98
.as 11 ", and 
.ps 10
.ft 2
.ds 12 "endang
.ds 12 \x'0'\f2\s10\*(12\|\s\n(99\f(\n(98
.as 11 \*(12
.ps \n(99
.ft \n(98
.as 11 ".
.ps \n(99
.ft \n(98
\*(11
.Ts
As above,
.IT arc
calls on
a box called
.IT ARC .
.Te
.NH 1
Examples
.NH 2
B-Trees
.PP
This example depicts a B-tree whose nodes have many children.*
.FS
*P. J. Weinberger, Unix B-trees, Bell Laboratories, 1981.
.FE
.IS
...colwid 6.0
...width 3.0
...maxx 4.200000
...maxy 3.000000
...minx -0.653991
...miny -2.487688
.ne 3.39i
\h'546u'\v'222u'\h'-\w'.'u/2u'.\h'-\w'.'u/2u'
.sp -1
\h'605u'\v'222u'\h'-\w'.'u/2u'.\h'-\w'.'u/2u'
.sp -1
\h'665u'\v'222u'\h'-\w'.'u/2u'.\h'-\w'.'u/2u'
.sp -1
\h'724u'\v'222u'\h'-\w'.'u/2u'.\h'-\w'.'u/2u'
.sp -1
\h'932u'\v'653u'\h'-\w'\(bu'u/2u'\(bu\h'-\w'\(bu'u/2u'
.sp -1
\h'991u'\v'623u'\h'-\w'\(bu'u/2u'\(bu\h'-\w'\(bu'u/2u'
.sp -1
\h'1050u'\v'593u'\h'-\w'\(bu'u/2u'\(bu\h'-\w'\(bu'u/2u'
.sp -1
\h'635u'\v'504u'\h'-\w'\(bu'u/2u'\(bu\h'-\w'\(bu'u/2u'
.sp -1
\h'694u'\v'475u'\h'-\w'\(bu'u/2u'\(bu\h'-\w'\(bu'u/2u'
.sp -1
\h'754u'\v'445u'\h'-\w'\(bu'u/2u'\(bu\h'-\w'\(bu'u/2u'
.sp -1
...line 0.000000 2.000000 0.084524 2.181262
\h'457u'\v'148u'\D'l 13u -26u'\h'-469u'\v'-120u'
.sp -1
...line 0.181262 2.084524 0.000000 2.000000
\h'484u'\v'136u'\D'l -26u 13u'\h'-456u'\v'-147u'
.sp -1
...line 0.000000 2.000000 1.000000 3.000000
\h'457u'\v'148u'\D'l 148u -147u'\h'-604u'\v'0u'
.sp -1
...line 2.200000 0.200000 2.103814 0.375352
\h'783u'\v'415u'\D'l -13u -25u'\h'-768u'\v'-388u'
.sp -1
...line 2.239032 0.396155 2.200000 0.200000
\h'789u'\v'386u'\D'l -5u 29u'\h'-782u'\v'-414u'
.sp -1
...line 2.200000 0.200000 2.000000 1.500000
\h'783u'\v'415u'\D'l -29u -192u'\h'-753u'\v'-221u'
.sp -1
...line 1.000000 -0.400000 0.878177 -0.241384
\h'605u'\v'504u'\D'l -17u -23u'\h'-586u'\v'-480u'
.sp -1
...line 1.008635 -0.200186 1.000000 -0.400000
\h'607u'\v'475u'\D'l 0u 30u'\h'-604u'\v'-503u'
.sp -1
...line 1.000000 -0.400000 0.400000 1.500000
\h'605u'\v'504u'\D'l -88u -281u'\h'-515u'\v'-221u'
.sp -1
...line 0.400000 -0.700000 0.314862 -0.519026
\h'516u'\v'549u'\D'l -12u -26u'\h'-503u'\v'-521u'
.sp -1
...line 0.451108 -0.506640 0.400000 -0.700000
\h'524u'\v'520u'\D'l -7u 29u'\h'-515u'\v'-548u'
.sp -1
...line 0.400000 -0.700000 0.200000 1.500000
\h'516u'\v'549u'\D'l -29u -325u'\h'-486u'\v'-221u'
.sp -1
...line -0.200000 -1.000000 -0.253199 -0.807205
\h'427u'\v'593u'\D'l -7u -28u'\h'-418u'\v'-564u'
.sp -1
...line -0.116827 -0.818115 -0.200000 -1.000000
\h'440u'\v'566u'\D'l -11u 27u'\h'-426u'\v'-592u'
.sp -1
...line -0.200000 -1.000000 0.000000 1.500000
\h'427u'\v'593u'\D'l 30u -370u'\h'-456u'\v'-221u'
.sp -1
...line -0.200000 -1.000000 1.800000 -1.000000
\h'427u'\v'593u'\D'l 297u 0u'\h'-723u'\v'-592u'
.sp -1
...line -0.200000 -2.000000 -0.200000 -1.000000
\h'427u'\v'742u'\D'l 0u -147u'\h'-426u'\v'-592u'
.sp -1
...line 1.800000 -2.000000 -0.200000 -2.000000
\h'724u'\v'742u'\D'l -296u 0u'\h'-426u'\v'-741u'
.sp -1
...line 1.800000 -1.000000 1.800000 -2.000000
\h'724u'\v'593u'\D'l 0u 148u'\h'-723u'\v'-741u'
.sp -1
...line 2.253990 -2.391006 2.107719 -2.254607
\h'791u'\v'800u'\D'l -21u -19u'\h'-769u'\v'-778u'
.sp -1
...line 2.229616 -2.192497 2.253990 -2.391006
\h'788u'\v'770u'\D'l 4u 29u'\h'-790u'\v'-799u'
.sp -1
...line 2.253990 -2.391006 1.800000 -1.500000
\h'791u'\v'800u'\D'l -66u -131u'\h'-723u'\v'-666u'
.sp -1
...line 1.296434 -2.487688 1.199472 -2.312764
\h'649u'\v'814u'\D'l -13u -25u'\h'-634u'\v'-787u'
.sp -1
...line 1.334596 -2.291363 1.296434 -2.487688
\h'655u'\v'785u'\D'l -5u 29u'\h'-648u'\v'-813u'
.sp -1
...line 1.296434 -2.487688 1.140000 -1.500000
\h'649u'\v'814u'\D'l -22u -146u'\h'-625u'\v'-666u'
.sp -1
...line 0.303565 -2.487688 0.265404 -2.291363
\h'502u'\v'814u'\D'l -5u -28u'\h'-495u'\v'-784u'
.sp -1
...line 0.400527 -2.312764 0.303565 -2.487688
\h'516u'\v'788u'\D'l -13u 26u'\h'-501u'\v'-813u'
.sp -1
...line 0.303565 -2.487688 0.460000 -1.500000
\h'502u'\v'814u'\D'l 23u -146u'\h'-524u'\v'-666u'
.sp -1
...line -0.653991 -2.391006 -0.629617 -2.192497
\h'360u'\v'800u'\D'l 4u -28u'\h'-363u'\v'-769u'
.sp -1
...line -0.507720 -2.254607 -0.653991 -2.391006
\h'382u'\v'779u'\D'l -21u 20u'\h'-359u'\v'-799u'
.sp -1
...line -0.653991 -2.391006 -0.200000 -1.500000
\h'360u'\v'800u'\D'l 67u -131u'\h'-426u'\v'-666u'
.sp -1
...line 0.400000 -0.700000 2.400000 -0.700000
\h'516u'\v'549u'\D'l 297u 0u'\h'-812u'\v'-548u'
.sp -1
...line 0.400000 -1.000000 0.400000 -0.700000
\h'516u'\v'593u'\D'l 0u -43u'\h'-515u'\v'-548u'
.sp -1
...line 2.400000 -1.700000 1.800000 -1.700000
\h'813u'\v'697u'\D'l -88u 0u'\h'-723u'\v'-696u'
.sp -1
...line 2.400000 -0.700000 2.400000 -1.700000
\h'813u'\v'549u'\D'l 0u 148u'\h'-812u'\v'-696u'
.sp -1
...line 1.000000 -0.400000 3.000000 -0.400000
\h'605u'\v'504u'\D'l 297u 0u'\h'-901u'\v'-503u'
.sp -1
...line 1.000000 -0.700000 1.000000 -0.400000
\h'605u'\v'549u'\D'l 0u -43u'\h'-604u'\v'-503u'
.sp -1
...line 3.000000 -1.400000 2.400000 -1.400000
\h'902u'\v'653u'\D'l -88u 0u'\h'-812u'\v'-652u'
.sp -1
...line 3.000000 -0.400000 3.000000 -1.400000
\h'902u'\v'504u'\D'l 0u 148u'\h'-901u'\v'-652u'
.sp -1
...line 2.200000 0.200000 4.200000 0.200000
\h'783u'\v'415u'\D'l 297u 0u'\h'-1079u'\v'-414u'
.sp -1
...line 2.200000 -0.400000 2.200000 0.200000
\h'783u'\v'504u'\D'l 0u -88u'\h'-782u'\v'-414u'
.sp -1
...line 4.200000 -0.800000 3.000000 -0.800000
\h'1080u'\v'564u'\D'l -177u 0u'\h'-901u'\v'-563u'
.sp -1
...line 4.200000 0.200000 4.200000 -0.800000
\h'1080u'\v'415u'\D'l 0u 148u'\h'-1079u'\v'-563u'
.sp -1
...line 0.000000 2.000000 2.000000 2.000000
\h'457u'\v'148u'\D'l 297u 0u'\h'-753u'\v'-147u'
.sp -1
...line 0.000000 1.000000 0.000000 2.000000
\h'457u'\v'297u'\D'l 0u -147u'\h'-456u'\v'-147u'
.sp -1
...line 2.000000 1.000000 0.000000 1.000000
\h'754u'\v'297u'\D'l -296u 0u'\h'-456u'\v'-296u'
.sp -1
...line 2.000000 2.000000 2.000000 1.000000
\h'754u'\v'148u'\D'l 0u 148u'\h'-753u'\v'-296u'
.sp -1
.IF
.P1
\&...libfile rect
arrow {
	var tl, hd, headvec, head;
	headvec = hd + head*(tl - hd)/abs(tl - hd);
	conn tl to hd;
	conn hd + cis(20)*(headvec - hd)
		to hd
		to hd + cis(-20)*(headvec - hd);
}

dot {
	var s, e;
	'\e(bu' at 0.5[s, e] - (0,0.1);
}

per {
	var s, e;
	'.' at 0.5[s, e];
}

main {
	var rw, rh;
	rw = 2;
	rh = 1;
	var hmv, vmv;
	hmv = 0.6;
	vmv = 0.3;
	var ah;
	ah = 0.2;
	put root: rect {
		sw = (0,1);
		wd = rw;
		ht = 1;
	};
	put next: rect {
		sw = youngest.sw + 2*(hmv, vmv);
		wd = rw;
		ht = rh;
	};
	put youngest: rect {
		sw = bro.sw + (hmv, vmv);
		wd = rw;
		ht = rh;
		opaque;
	};
	put bro: rect {
		sw = eldest.sw + (hmv, vmv);
		wd = rw;
		ht = rh;
		opaque;
	};
	put eldest: rect {
		im(nw) = im(3[root.nw,root.sw]);
		re(0.5[nw, next.nw]) = re(0.5[root.nw, root.ne]);
		wd = rw;
		ht = rh;
		opaque;
		put arrow {
			head = ah;
			tl = 0.0[sw, se] + 0.5 * (nw - sw);
			hd = tl - (0, 1) * cis(-27);
		};
		put arrow {
			head = ah;
			tl = 0.33[sw, se] + 0.5 * (nw -sw);
			hd = tl - (0,1) * cis(-9);
		};
		put arrow {
			head = ah;
			tl = 0.67[sw, se] + 0.5 * (nw - sw);
			hd = tl - (0,1) * cis(9);
		};
		put arrow {
			head = ah;
			tl = 1.0[sw, se] + 0.5 * (nw -sw);
			hd = tl - (0,1) * cis(27);
		};
	};
	put arrow {
		head = ah;
		tl=root.sw + 0.5 * (root.nw - root.sw);
		hd=eldest.nw;
	};
	put arrow {
		head = ah;
		tl=0.1[root.sw,root.se] + 0.5 * (root.nw - root.sw);
		hd=bro.nw;
	};
	put a: arrow {
		head = ah;
		tl=0.2[root.sw,root.se] + 0.5 * (root.nw - root.sw);
		hd=youngest.nw;
	};
	put b: arrow {
		head = ah;
		tl = 0.5[root.ne, root.se];
		hd = next.nw;
	};
	put arrow {
		head = ah;
		hd = root.nw;
		tl = 0.5[root.nw, root.ne] + (0, 1.0);
	};
	conn next.nw to youngest.nw using 3 dot{}<s, e>;
	conn next.se to youngest.se using 3 dot{}<s, e>;
	conn b.tl to a.tl using 4 per{}<s, e>;
}
.P2
.NH 2
A Sector Grid
.PP
Norm Schryer used this figure to show how numerical integration
is used to find the area of planar regions.
.IS
...colwid 8.0
...width 2.0
...maxx 1.000000
...maxy 1.000000
...minx 0.000000
...miny 0.000000
...line 0.950000 0.312250 0.950000 0.000000
.ne 2.00i
\h'1176u'\v'330u'\D'l 0u 150u'\h'-1175u'\v'-479u'
.sp -1
...line 0.900000 0.435890 0.900000 0.000000
\h'1152u'\v'271u'\D'l 0u 209u'\h'-1151u'\v'-479u'
.sp -1
...line 0.850000 0.526783 0.850000 0.000000
\h'1128u'\v'227u'\D'l 0u 253u'\h'-1127u'\v'-479u'
.sp -1
...line 0.800000 0.600000 0.800000 0.000000
\h'1104u'\v'192u'\D'l 0u 288u'\h'-1103u'\v'-479u'
.sp -1
...line 0.750000 0.661438 0.750000 0.000000
\h'1080u'\v'163u'\D'l 0u 317u'\h'-1079u'\v'-479u'
.sp -1
...line 0.700000 0.714143 0.700000 0.000000
\h'1056u'\v'137u'\D'l 0u 343u'\h'-1055u'\v'-479u'
.sp -1
...line 0.650000 0.759934 0.650000 0.000000
\h'1032u'\v'115u'\D'l 0u 365u'\h'-1031u'\v'-479u'
.sp -1
...line 0.600000 0.800000 0.600000 0.000000
\h'1008u'\v'96u'\D'l 0u 384u'\h'-1007u'\v'-479u'
.sp -1
...line 0.550000 0.835165 0.550000 0.000000
\h'984u'\v'79u'\D'l 0u 401u'\h'-983u'\v'-479u'
.sp -1
...line 0.500000 0.866025 0.500000 0.000000
\h'960u'\v'64u'\D'l 0u 416u'\h'-959u'\v'-479u'
.sp -1
...line 0.450000 0.893029 0.450000 0.000000
\h'936u'\v'51u'\D'l 0u 429u'\h'-935u'\v'-479u'
.sp -1
...line 0.400000 0.916515 0.400000 0.000000
\h'912u'\v'40u'\D'l 0u 440u'\h'-911u'\v'-479u'
.sp -1
...line 0.350000 0.936750 0.350000 0.000000
\h'888u'\v'30u'\D'l 0u 450u'\h'-887u'\v'-479u'
.sp -1
...line 0.300000 0.953939 0.300000 0.000000
\h'864u'\v'22u'\D'l 0u 458u'\h'-863u'\v'-479u'
.sp -1
...line 0.250000 0.968246 0.250000 0.000000
\h'840u'\v'15u'\D'l 0u 465u'\h'-839u'\v'-479u'
.sp -1
...line 0.200000 0.979796 0.200000 0.000000
\h'816u'\v'10u'\D'l 0u 470u'\h'-815u'\v'-479u'
.sp -1
...line 0.150000 0.988686 0.150000 0.000000
\h'792u'\v'5u'\D'l 0u 475u'\h'-791u'\v'-479u'
.sp -1
...line 0.100000 0.994987 0.100000 0.000000
\h'768u'\v'2u'\D'l 0u 478u'\h'-767u'\v'-479u'
.sp -1
...line 0.050000 0.998749 0.050000 0.000000
\h'744u'\v'1u'\D'l 0u 479u'\h'-743u'\v'-479u'
.sp -1
...line 0.000000 1.000000 0.000000 0.000000
\h'720u'\v'0u'\D'l 0u 480u'\h'-719u'\v'-479u'
.sp -1
...line 0.312250 0.950000 0.000000 0.950000
\h'870u'\v'24u'\D'l -149u 0u'\h'-719u'\v'-23u'
.sp -1
...line 0.435890 0.900000 0.000000 0.900000
\h'929u'\v'48u'\D'l -208u 0u'\h'-719u'\v'-47u'
.sp -1
...line 0.526783 0.850000 0.000000 0.850000
\h'973u'\v'72u'\D'l -252u 0u'\h'-719u'\v'-71u'
.sp -1
...line 0.600000 0.800000 0.000000 0.800000
\h'1008u'\v'96u'\D'l -287u 0u'\h'-719u'\v'-95u'
.sp -1
...line 0.661438 0.750000 0.000000 0.750000
\h'1037u'\v'120u'\D'l -316u 0u'\h'-719u'\v'-119u'
.sp -1
...line 0.714143 0.700000 0.000000 0.700000
\h'1063u'\v'144u'\D'l -342u 0u'\h'-719u'\v'-143u'
.sp -1
...line 0.759934 0.650000 0.000000 0.650000
\h'1085u'\v'168u'\D'l -364u 0u'\h'-719u'\v'-167u'
.sp -1
...line 0.800000 0.600000 0.000000 0.600000
\h'1104u'\v'192u'\D'l -383u 0u'\h'-719u'\v'-191u'
.sp -1
...line 0.835165 0.550000 0.000000 0.550000
\h'1121u'\v'216u'\D'l -400u 0u'\h'-719u'\v'-215u'
.sp -1
...line 0.866025 0.500000 0.000000 0.500000
\h'1136u'\v'240u'\D'l -415u 0u'\h'-719u'\v'-239u'
.sp -1
...line 0.893029 0.450000 0.000000 0.450000
\h'1149u'\v'264u'\D'l -428u 0u'\h'-719u'\v'-263u'
.sp -1
...line 0.916515 0.400000 0.000000 0.400000
\h'1160u'\v'288u'\D'l -439u 0u'\h'-719u'\v'-287u'
.sp -1
...line 0.936750 0.350000 0.000000 0.350000
\h'1170u'\v'312u'\D'l -449u 0u'\h'-719u'\v'-311u'
.sp -1
...line 0.953939 0.300000 0.000000 0.300000
\h'1178u'\v'336u'\D'l -457u 0u'\h'-719u'\v'-335u'
.sp -1
...line 0.968246 0.250000 0.000000 0.250000
\h'1185u'\v'360u'\D'l -464u 0u'\h'-719u'\v'-359u'
.sp -1
...line 0.979796 0.200000 0.000000 0.200000
\h'1190u'\v'384u'\D'l -469u 0u'\h'-719u'\v'-383u'
.sp -1
...line 0.988686 0.150000 0.000000 0.150000
\h'1195u'\v'408u'\D'l -474u 0u'\h'-719u'\v'-407u'
.sp -1
...line 0.994987 0.100000 0.000000 0.100000
\h'1198u'\v'432u'\D'l -477u 0u'\h'-719u'\v'-431u'
.sp -1
...line 0.998749 0.050000 0.000000 0.050000
\h'1199u'\v'456u'\D'l -478u 0u'\h'-719u'\v'-455u'
.sp -1
...line 1.000000 0.000000 0.000000 0.000000
\h'1200u'\v'480u'\D'l -479u 0u'\h'-719u'\v'-479u'
.sp -1
.IF
.P1





\&...libfile hole
gridline {
	var a,b;
	var neg, pos;
	conn a - neg to a + pos;
}

main {
	var n;
	n = 21;
	conn (0,0) to (0,1+1/(n-1))
		using n gridline {
			neg = 0;
			pos = 1;
		} <a,b>;
	conn (0,0) to (1+1/(n-1),0)
		using n gridline {
			neg = 0;
			pos = (0,1);
		} <a,b>;
	put hole {
		radius = 1;
		center = (0,0);
		opaque exterior;
	};
}
.P2
.NH 2
Polygon Clipping
.PP
This example illustrates all possible positions of a line
segment with respect to a polygon.
It will appear in a book on graphics and image processing.*
.FS
*T. Pavlidis, Graphics and Image Processing, to be published.
.FE
.ps 8
.EQ
.nr 99 \n(.s
.nr 98 \n(.f
.af 98 01
.ps 10
.ft 2
.ps 8
.ps \n(99
.ft \n(98
.EN
.IS
...width 4.5
...colwid 6.0
...minx -1
...maxx 6
...miny -1
...maxy 12
...maxx 4.700000
...maxy 10.600000
...minx -0.077382
...miny -0.600000
.ne 8.36i
.nr 99 \n(.s
.nr 98 \n(.f
.af 98 01
.rm 11 
.as 11 "\h'890u'\v'1728u'
.ps 8
.ft 2
.ds 12 "P
.ds 13 "\f12\fP
.as 12 \v'9u'\s-2\|\*(13\s+2\v'-9u'
.ds 13 "\f1(\fP
.as 12 "\*(13
.ds 13 "P
.ds 14 "\f11\fP
.as 13 \v'9u'\s-2\|\*(14\s+2\v'-9u'
.as 12 "\*(13
.ds 13 "\f1)\fP
.as 12 "\*(13
.ds 12 \x'0'\f2\s8\*(12\s\n(99\f(\n(98\x'3u'
.as 11 \*(12
.ps \n(99
.ft \n(98
.as 11 "\h'-\w'
.ps 8
.ft 2
.ds 12 "P
.ds 13 "\f12\fP
.as 12 \v'9u'\s-2\|\*(13\s+2\v'-9u'
.ds 13 "\f1(\fP
.as 12 "\*(13
.ds 13 "P
.ds 14 "\f11\fP
.as 13 \v'9u'\s-2\|\*(14\s+2\v'-9u'
.as 12 "\*(13
.ds 13 "\f1)\fP
.as 12 "\*(13
.ds 12 \x'0'\f2\s8\*(12\s\n(99\f(\n(98\x'3u'
.as 11 \*(12
.ps \n(99
.ft \n(98
.as 11 "'u'
.ps \n(99
.ft \n(98
\*(11
.sp -1
.nr 99 \n(.s
.nr 98 \n(.f
.af 98 01
.rm 11 
.as 11 "\h'890u'\v'1666u'
.ps 8
.ft 2
.ds 12 "P
.ds 13 "\f11\fP
.as 12 \v'9u'\s-2\|\*(13\s+2\v'-9u'
.ds 13 "\f1(\fP
.as 12 "\*(13
.ds 13 "P
.ds 14 "\f12\fP
.as 13 \v'9u'\s-2\|\*(14\s+2\v'-9u'
.as 12 "\*(13
.ds 13 "\f1)\fP
.as 12 "\*(13
.ds 12 \x'0'\f2\s8\*(12\s\n(99\f(\n(98\x'3u'
.as 11 \*(12
.ps \n(99
.ft \n(98
.as 11 "\h'-\w'
.ps 8
.ft 2
.ds 12 "P
.ds 13 "\f11\fP
.as 12 \v'9u'\s-2\|\*(13\s+2\v'-9u'
.ds 13 "\f1(\fP
.as 12 "\*(13
.ds 13 "P
.ds 14 "\f12\fP
.as 13 \v'9u'\s-2\|\*(14\s+2\v'-9u'
.as 12 "\*(13
.ds 13 "\f1)\fP
.as 12 "\*(13
.ds 12 \x'0'\f2\s8\*(12\s\n(99\f(\n(98\x'3u'
.as 11 \*(12
.ps \n(99
.ft \n(98
.as 11 "'u'
.ps \n(99
.ft \n(98
\*(11
.sp -1
...circle 3.500000 0.800000 0.020000
\h'871u'\v'1728u'\D'c 6u'\h'-876u'\v'-1727u'
.sp -1
...arc 3.500000 1.200000 3.520000 1.200000 3.520000 1.200000 0.000000 6.283185 0.020000
\h'877u'\v'1666u'\D'a -2u 0u 3u 0u'\h'-876u'\v'-1665u'
.sp -1
...line 3.500000 -0.600000 3.500000 0.780003
\h'874u'\v'1944u'\D'l 0u -212u'\h'-873u'\v'-1730u'
.sp -1
...line 3.500000 0.819994 3.500000 1.180000
\h'874u'\v'1725u'\D'l 0u -55u'\h'-873u'\v'-1668u'
.sp -1
...line 3.500000 1.220001 3.500000 2.600000
\h'874u'\v'1663u'\D'l 0u -212u'\h'-873u'\v'-1449u'
.sp -1
...line 4.500000 1.000000 4.000000 0.133975
\h'1029u'\v'1697u'\D'l -76u 134u'\h'-950u'\v'-1830u'
.sp -1
...line 4.000000 0.133975 2.515192 0.826352
\h'951u'\v'1831u'\D'l -228u -106u'\h'-721u'\v'-1723u'
.sp -1
...line 2.515192 0.826352 2.515192 1.173648
\h'722u'\v'1724u'\D'l 0u -53u'\h'-721u'\v'-1669u'
.sp -1
...line 2.515192 1.173648 3.922618 1.906308
\h'722u'\v'1670u'\D'l 217u -112u'\h'-938u'\v'-1556u'
.sp -1
...line 3.922618 1.906308 4.500000 1.000000
\h'939u'\v'1557u'\D'l 89u 140u'\h'-1028u'\v'-1696u'
.sp -1
...arc 1.000000 -0.400000 1.020000 -0.400000 1.020000 -0.400000 0.000000 6.283185 0.020000
\h'492u'\v'1913u'\D'a -2u 0u 3u 0u'\h'-491u'\v'-1912u'
.sp -1
...arc 1.000000 0.000000 1.020000 0.000000 1.020000 0.000000 0.000000 6.283185 0.020000
\h'492u'\v'1851u'\D'a -2u 0u 3u 0u'\h'-491u'\v'-1850u'
.sp -1
...line 1.000000 -0.600000 1.000000 -0.420000
\h'489u'\v'1944u'\D'l 0u -27u'\h'-488u'\v'-1915u'
.sp -1
...line 1.000000 -0.380000 1.000000 -0.020000
\h'489u'\v'1910u'\D'l 0u -55u'\h'-488u'\v'-1854u'
.sp -1
...line 1.000000 0.020000 1.000000 2.600000
\h'489u'\v'1848u'\D'l 0u -397u'\h'-488u'\v'-1449u'
.sp -1
...line 2.000000 1.000000 1.500000 0.133975
\h'643u'\v'1697u'\D'l -76u 134u'\h'-565u'\v'-1830u'
.sp -1
...line 1.500000 0.133975 0.015192 0.826352
\h'566u'\v'1831u'\D'l -228u -106u'\h'-336u'\v'-1723u'
.sp -1
...line 0.015192 0.826352 0.015192 1.173648
\h'337u'\v'1724u'\D'l 0u -53u'\h'-336u'\v'-1669u'
.sp -1
...line 0.015192 1.173648 1.422618 1.906308
\h'337u'\v'1670u'\D'l 217u -112u'\h'-553u'\v'-1556u'
.sp -1
...line 1.422618 1.906308 2.000000 1.000000
\h'554u'\v'1557u'\D'l 89u 140u'\h'-642u'\v'-1696u'
.sp -1
...arc 3.500000 4.000000 3.520000 4.000000 3.520000 4.000000 0.000000 6.283185 0.020000
\h'877u'\v'1234u'\D'a -2u 0u 3u 0u'\h'-876u'\v'-1233u'
.sp -1
...arc 3.500000 5.200000 3.520000 5.200000 3.520000 5.200000 0.000000 6.283185 0.020000
\h'877u'\v'1049u'\D'a -2u 0u 3u 0u'\h'-876u'\v'-1048u'
.sp -1
...line 3.500000 3.400000 3.500000 3.980000
\h'874u'\v'1327u'\D'l 0u -88u'\h'-873u'\v'-1236u'
.sp -1
...line 3.500000 4.020000 3.500000 5.180005
\h'874u'\v'1231u'\D'l 0u -178u'\h'-873u'\v'-1051u'
.sp -1
...line 3.500000 5.219995 3.500000 6.600000
\h'874u'\v'1046u'\D'l 0u -212u'\h'-873u'\v'-832u'
.sp -1
...line 4.500000 5.000000 4.000000 4.133975
\h'1029u'\v'1080u'\D'l -76u 134u'\h'-950u'\v'-1213u'
.sp -1
...line 4.000000 4.133975 2.515192 4.826352
\h'951u'\v'1214u'\D'l -228u -106u'\h'-721u'\v'-1106u'
.sp -1
...line 2.515192 4.826352 2.515192 5.173648
\h'722u'\v'1107u'\D'l 0u -53u'\h'-721u'\v'-1052u'
.sp -1
...line 2.515192 5.173648 3.922618 5.906308
\h'722u'\v'1053u'\D'l 217u -112u'\h'-938u'\v'-939u'
.sp -1
...line 3.922618 5.906308 4.500000 5.000000
\h'939u'\v'940u'\D'l 89u 140u'\h'-1028u'\v'-1079u'
.sp -1
...arc 1.000000 4.000000 1.020000 4.000000 1.020000 4.000000 0.000000 6.283185 0.020000
\h'492u'\v'1234u'\D'a -2u 0u 3u 0u'\h'-491u'\v'-1233u'
.sp -1
...arc 1.000000 6.100000 1.020000 6.100000 1.020000 6.100000 0.000000 6.283185 0.020000
\h'492u'\v'910u'\D'a -2u 0u 3u 0u'\h'-491u'\v'-909u'
.sp -1
...line 1.000000 3.400000 1.000000 3.980000
\h'489u'\v'1327u'\D'l 0u -88u'\h'-488u'\v'-1236u'
.sp -1
...line 1.000000 4.020000 1.000000 6.080015
\h'489u'\v'1231u'\D'l 0u -317u'\h'-488u'\v'-912u'
.sp -1
...line 1.000000 6.119984 1.000000 6.600000
\h'489u'\v'907u'\D'l 0u -73u'\h'-488u'\v'-832u'
.sp -1
...line 2.000000 5.000000 1.500000 4.133975
\h'643u'\v'1080u'\D'l -76u 134u'\h'-565u'\v'-1213u'
.sp -1
...line 1.500000 4.133975 0.015192 4.826352
\h'566u'\v'1214u'\D'l -228u -106u'\h'-336u'\v'-1106u'
.sp -1
...line 0.015192 4.826352 0.015192 5.173648
\h'337u'\v'1107u'\D'l 0u -53u'\h'-336u'\v'-1052u'
.sp -1
...line 0.015192 5.173648 1.422618 5.906308
\h'337u'\v'1053u'\D'l 217u -112u'\h'-553u'\v'-939u'
.sp -1
...line 1.422618 5.906308 2.000000 5.000000
\h'554u'\v'940u'\D'l 89u 140u'\h'-642u'\v'-1079u'
.sp -1
...arc 3.500000 9.200000 3.520000 9.200000 3.520000 9.200000 0.000000 6.283185 0.020000
\h'877u'\v'432u'\D'a -2u 0u 3u 0u'\h'-876u'\v'-431u'
.sp -1
...arc 3.500000 10.100000 3.520000 10.100000 3.520000 10.100000 0.000000 6.283185 0.020000
\h'877u'\v'293u'\D'a -2u 0u 3u 0u'\h'-876u'\v'-292u'
.sp -1
...line 3.500000 7.400000 3.500000 9.179997
\h'874u'\v'710u'\D'l 0u -274u'\h'-873u'\v'-434u'
.sp -1
...line 3.500000 9.220005 3.500000 10.080006
\h'874u'\v'429u'\D'l 0u -132u'\h'-873u'\v'-295u'
.sp -1
...line 3.500000 10.119987 3.500000 10.600000
\h'874u'\v'290u'\D'l 0u -73u'\h'-873u'\v'-215u'
.sp -1
...line 4.500000 9.000000 4.000000 8.133975
\h'1029u'\v'463u'\D'l -76u 134u'\h'-950u'\v'-595u'
.sp -1
...line 4.000000 8.133975 2.515192 8.826352
\h'951u'\v'596u'\D'l -228u -106u'\h'-721u'\v'-489u'
.sp -1
...line 2.515192 8.826352 2.515192 9.173648
\h'722u'\v'490u'\D'l 0u -53u'\h'-721u'\v'-435u'
.sp -1
...line 2.515192 9.173648 3.922618 9.906308
\h'722u'\v'436u'\D'l 217u -112u'\h'-938u'\v'-322u'
.sp -1
...line 3.922618 9.906308 4.500000 9.000000
\h'939u'\v'323u'\D'l 89u 140u'\h'-1028u'\v'-462u'
.sp -1
...arc 1.000000 10.400000 1.020000 10.400000 1.020000 10.400000 0.000000 6.283185 0.020000
\h'492u'\v'247u'\D'a -2u 0u 3u 0u'\h'-491u'\v'-246u'
.sp -1
...arc 1.000000 10.100000 1.020000 10.100000 1.020000 10.100000 0.000000 6.283185 0.020000
\h'492u'\v'293u'\D'a -2u 0u 3u 0u'\h'-491u'\v'-292u'
.sp -1
...line 1.000000 7.400000 1.000000 10.080006
\h'489u'\v'710u'\D'l 0u -412u'\h'-488u'\v'-295u'
.sp -1
...line 1.000000 10.119987 1.000000 10.379999
\h'489u'\v'290u'\D'l 0u -39u'\h'-488u'\v'-249u'
.sp -1
...line 2.000000 9.000000 1.500000 8.133975
\h'643u'\v'463u'\D'l -76u 134u'\h'-565u'\v'-595u'
.sp -1
...line 1.500000 8.133975 0.015192 8.826352
\h'566u'\v'596u'\D'l -228u -106u'\h'-336u'\v'-489u'
.sp -1
...line 0.015192 8.826352 0.015192 9.173648
\h'337u'\v'490u'\D'l 0u -53u'\h'-336u'\v'-435u'
.sp -1
...line 0.015192 9.173648 1.422618 9.906308
\h'337u'\v'436u'\D'l 217u -112u'\h'-553u'\v'-322u'
.sp -1
...line 1.422618 9.906308 2.000000 9.000000
\h'554u'\v'323u'\D'l 89u 140u'\h'-642u'\v'-462u'
.sp -1
\h'766u'\v'1882u'\h'-\w'(f)'u'(f)\h'-\w'(f)'u'
.sp -1
.nr 99 \n(.s
.nr 98 \n(.f
.af 98 01
.rm 11 
.as 11 "\h'1059u'\v'1697u'
.ps 8
.ft 2
.ds 12 "\(mi\(mi\(mi\(mi
.ds 12 \x'0'\f2\s8\*(12\s\n(99\f(\n(98
.as 11 \*(12
.ps \n(99
.ft \n(98
.as 11 "\h'-\w'
.ps 8
.ft 2
.ds 12 "\(mi\(mi\(mi\(mi
.ds 12 \x'0'\f2\s8\*(12\s\n(99\f(\n(98
.as 11 \*(12
.ps \n(99
.ft \n(98
.as 11 "'u'
.ps \n(99
.ft \n(98
\*(11
.sp -1
.nr 99 \n(.s
.nr 98 \n(.f
.af 98 01
.rm 11 
.as 11 "\h'504u'\v'1913u'
.ps 8
.ft 2
.ds 12 "P
.ds 13 "\f12\fP
.as 12 \v'9u'\s-2\|\*(13\s+2\v'-9u'
.ds 13 "\f1(\fP
.as 12 "\*(13
.ds 13 "P
.ds 14 "\f11\fP
.as 13 \v'9u'\s-2\|\*(14\s+2\v'-9u'
.as 12 "\*(13
.ds 13 "\f1)\fP
.as 12 "\*(13
.ds 12 \x'0'\f2\s8\*(12\s\n(99\f(\n(98\x'3u'
.as 11 \*(12
.ps \n(99
.ft \n(98
.as 11 "\h'-\w'
.ps 8
.ft 2
.ds 12 "P
.ds 13 "\f12\fP
.as 12 \v'9u'\s-2\|\*(13\s+2\v'-9u'
.ds 13 "\f1(\fP
.as 12 "\*(13
.ds 13 "P
.ds 14 "\f11\fP
.as 13 \v'9u'\s-2\|\*(14\s+2\v'-9u'
.as 12 "\*(13
.ds 13 "\f1)\fP
.as 12 "\*(13
.ds 12 \x'0'\f2\s8\*(12\s\n(99\f(\n(98\x'3u'
.as 11 \*(12
.ps \n(99
.ft \n(98
.as 11 "'u'
.ps \n(99
.ft \n(98
\*(11
.sp -1
.nr 99 \n(.s
.nr 98 \n(.f
.af 98 01
.rm 11 
.as 11 "\h'504u'\v'1851u'
.ps 8
.ft 2
.ds 12 "P
.ds 13 "\f11\fP
.as 12 \v'9u'\s-2\|\*(13\s+2\v'-9u'
.ds 13 "\f1(\fP
.as 12 "\*(13
.ds 13 "P
.ds 14 "\f12\fP
.as 13 \v'9u'\s-2\|\*(14\s+2\v'-9u'
.as 12 "\*(13
.ds 13 "\f1)\fP
.as 12 "\*(13
.ds 12 \x'0'\f2\s8\*(12\s\n(99\f(\n(98\x'3u'
.as 11 \*(12
.ps \n(99
.ft \n(98
.as 11 "\h'-\w'
.ps 8
.ft 2
.ds 12 "P
.ds 13 "\f11\fP
.as 12 \v'9u'\s-2\|\*(13\s+2\v'-9u'
.ds 13 "\f1(\fP
.as 12 "\*(13
.ds 13 "P
.ds 14 "\f12\fP
.as 13 \v'9u'\s-2\|\*(14\s+2\v'-9u'
.as 12 "\*(13
.ds 13 "\f1)\fP
.as 12 "\*(13
.ds 12 \x'0'\f2\s8\*(12\s\n(99\f(\n(98\x'3u'
.as 11 \*(12
.ps \n(99
.ft \n(98
.as 11 "'u'
.ps \n(99
.ft \n(98
\*(11
.sp -1
\h'381u'\v'1882u'\h'-\w'(e)'u'(e)\h'-\w'(e)'u'
.sp -1
.nr 99 \n(.s
.nr 98 \n(.f
.af 98 01
.rm 11 
.as 11 "\h'337u'\v'1801u'
.ps 8
.ft 2
.ds 12 "\(mi\(mi\(pl\(pl
.ds 12 \x'0'\f2\s8\*(12\s\n(99\f(\n(98
.as 11 \*(12
.ps \n(99
.ft \n(98
.as 11 "\h'-\w'
.ps 8
.ft 2
.ds 12 "\(mi\(mi\(pl\(pl
.ds 12 \x'0'\f2\s8\*(12\s\n(99\f(\n(98
.as 11 \*(12
.ps \n(99
.ft \n(98
.as 11 "'u'
.ps \n(99
.ft \n(98
\*(11
.sp -1
.nr 99 \n(.s
.nr 98 \n(.f
.af 98 01
.rm 11 
.as 11 "\h'890u'\v'1234u'
.ps 8
.ft 2
.ds 12 "P
.ds 13 "\f12\fP
.as 12 \v'9u'\s-2\|\*(13\s+2\v'-9u'
.ds 13 "\f1(\fP
.as 12 "\*(13
.ds 13 "P
.ds 14 "\f11\fP
.as 13 \v'9u'\s-2\|\*(14\s+2\v'-9u'
.as 12 "\*(13
.ds 13 "\f1)\fP
.as 12 "\*(13
.ds 12 \x'0'\f2\s8\*(12\s\n(99\f(\n(98\x'3u'
.as 11 \*(12
.ps \n(99
.ft \n(98
.as 11 "\h'-\w'
.ps 8
.ft 2
.ds 12 "P
.ds 13 "\f12\fP
.as 12 \v'9u'\s-2\|\*(13\s+2\v'-9u'
.ds 13 "\f1(\fP
.as 12 "\*(13
.ds 13 "P
.ds 14 "\f11\fP
.as 13 \v'9u'\s-2\|\*(14\s+2\v'-9u'
.as 12 "\*(13
.ds 13 "\f1)\fP
.as 12 "\*(13
.ds 12 \x'0'\f2\s8\*(12\s\n(99\f(\n(98\x'3u'
.as 11 \*(12
.ps \n(99
.ft \n(98
.as 11 "'u'
.ps \n(99
.ft \n(98
\*(11
.sp -1
.nr 99 \n(.s
.nr 98 \n(.f
.af 98 01
.rm 11 
.as 11 "\h'890u'\v'1049u'
.ps 8
.ft 2
.ds 12 "P
.ds 13 "\f11\fP
.as 12 \v'9u'\s-2\|\*(13\s+2\v'-9u'
.ds 13 "\f1(\fP
.as 12 "\*(13
.ds 13 "P
.ds 14 "\f12\fP
.as 13 \v'9u'\s-2\|\*(14\s+2\v'-9u'
.as 12 "\*(13
.ds 13 "\f1)\fP
.as 12 "\*(13
.ds 12 \x'0'\f2\s8\*(12\s\n(99\f(\n(98\x'3u'
.as 11 \*(12
.ps \n(99
.ft \n(98
.as 11 "\h'-\w'
.ps 8
.ft 2
.ds 12 "P
.ds 13 "\f11\fP
.as 12 \v'9u'\s-2\|\*(13\s+2\v'-9u'
.ds 13 "\f1(\fP
.as 12 "\*(13
.ds 13 "P
.ds 14 "\f12\fP
.as 13 \v'9u'\s-2\|\*(14\s+2\v'-9u'
.as 12 "\*(13
.ds 13 "\f1)\fP
.as 12 "\*(13
.ds 12 \x'0'\f2\s8\*(12\s\n(99\f(\n(98\x'3u'
.as 11 \*(12
.ps \n(99
.ft \n(98
.as 11 "'u'
.ps \n(99
.ft \n(98
\*(11
.sp -1
\h'766u'\v'1265u'\h'-\w'(d)(d1)'u'(d)(d1)\h'-\w'(d)(d1)'u'
.sp -1
.nr 99 \n(.s
.nr 98 \n(.f
.af 98 01
.rm 11 
.as 11 "\h'1017u'\v'1010u'
.ps 8
.ft 2
.ds 12 "\f1(\fP\(mi\(mi\(pl\(mi\f1)\fP
.ds 12 \x'0'\f2\s8\*(12\s\n(99\f(\n(98
.as 11 \*(12
.ps \n(99
.ft \n(98
.as 11 "\h'-\w'
.ps 8
.ft 2
.ds 12 "\f1(\fP\(mi\(mi\(pl\(mi\f1)\fP
.ds 12 \x'0'\f2\s8\*(12\s\n(99\f(\n(98
.as 11 \*(12
.ps \n(99
.ft \n(98
.as 11 "'u'
.ps \n(99
.ft \n(98
\*(11
.sp -1
.nr 99 \n(.s
.nr 98 \n(.f
.af 98 01
.rm 11 
.as 11 "\h'1017u'\v'986u'
.ps 8
.ft 2
.ds 12 "\(mi\(mi\(mi\(pl
.ds 12 \x'0'\f2\s8\*(12\s\n(99\f(\n(98
.as 11 \*(12
.ps \n(99
.ft \n(98
.as 11 "\h'-\w'
.ps 8
.ft 2
.ds 12 "\(mi\(mi\(mi\(pl
.ds 12 \x'0'\f2\s8\*(12\s\n(99\f(\n(98
.as 11 \*(12
.ps \n(99
.ft \n(98
.as 11 "'u'
.ps \n(99
.ft \n(98
\*(11
.sp -1
.nr 99 \n(.s
.nr 98 \n(.f
.af 98 01
.rm 11 
.as 11 "\h'504u'\v'1234u'
.ps 8
.ft 2
.ds 12 "P
.ds 13 "\f12\fP
.as 12 \v'9u'\s-2\|\*(13\s+2\v'-9u'
.ds 13 "\f1(\fP
.as 12 "\*(13
.ds 13 "P
.ds 14 "\f11\fP
.as 13 \v'9u'\s-2\|\*(14\s+2\v'-9u'
.as 12 "\*(13
.ds 13 "\f1)\fP
.as 12 "\*(13
.ds 12 \x'0'\f2\s8\*(12\s\n(99\f(\n(98\x'3u'
.as 11 \*(12
.ps \n(99
.ft \n(98
.as 11 "\h'-\w'
.ps 8
.ft 2
.ds 12 "P
.ds 13 "\f12\fP
.as 12 \v'9u'\s-2\|\*(13\s+2\v'-9u'
.ds 13 "\f1(\fP
.as 12 "\*(13
.ds 13 "P
.ds 14 "\f11\fP
.as 13 \v'9u'\s-2\|\*(14\s+2\v'-9u'
.as 12 "\*(13
.ds 13 "\f1)\fP
.as 12 "\*(13
.ds 12 \x'0'\f2\s8\*(12\s\n(99\f(\n(98\x'3u'
.as 11 \*(12
.ps \n(99
.ft \n(98
.as 11 "'u'
.ps \n(99
.ft \n(98
\*(11
.sp -1
.nr 99 \n(.s
.nr 98 \n(.f
.af 98 01
.rm 11 
.as 11 "\h'504u'\v'910u'
.ps 8
.ft 2
.ds 12 "P
.ds 13 "\f11\fP
.as 12 \v'9u'\s-2\|\*(13\s+2\v'-9u'
.ds 13 "\f1(\fP
.as 12 "\*(13
.ds 13 "P
.ds 14 "\f12\fP
.as 13 \v'9u'\s-2\|\*(14\s+2\v'-9u'
.as 12 "\*(13
.ds 13 "\f1)\fP
.as 12 "\*(13
.ds 12 \x'0'\f2\s8\*(12\s\n(99\f(\n(98\x'3u'
.as 11 \*(12
.ps \n(99
.ft \n(98
.as 11 "\h'-\w'
.ps 8
.ft 2
.ds 12 "P
.ds 13 "\f11\fP
.as 12 \v'9u'\s-2\|\*(13\s+2\v'-9u'
.ds 13 "\f1(\fP
.as 12 "\*(13
.ds 13 "P
.ds 14 "\f12\fP
.as 13 \v'9u'\s-2\|\*(14\s+2\v'-9u'
.as 12 "\*(13
.ds 13 "\f1)\fP
.as 12 "\*(13
.ds 12 \x'0'\f2\s8\*(12\s\n(99\f(\n(98\x'3u'
.as 11 \*(12
.ps \n(99
.ft \n(98
.as 11 "'u'
.ps \n(99
.ft \n(98
\*(11
.sp -1
\h'381u'\v'1265u'\h'-\w'(c)(c1)'u'(c)(c1)\h'-\w'(c)(c1)'u'
.sp -1
.nr 99 \n(.s
.nr 98 \n(.f
.af 98 01
.rm 11 
.as 11 "\h'322u'\v'963u'
.ps 8
.ft 2
.ds 12 "\f1(\fP\(mi\(pl\(pl\(mi\f1)\fP
.ds 12 \x'0'\f2\s8\*(12\s\n(99\f(\n(98
.as 11 \*(12
.ps \n(99
.ft \n(98
.as 11 "\h'-\w'
.ps 8
.ft 2
.ds 12 "\f1(\fP\(mi\(pl\(pl\(mi\f1)\fP
.ds 12 \x'0'\f2\s8\*(12\s\n(99\f(\n(98
.as 11 \*(12
.ps \n(99
.ft \n(98
.as 11 "'u'
.ps \n(99
.ft \n(98
\*(11
.sp -1
.nr 99 \n(.s
.nr 98 \n(.f
.af 98 01
.rm 11 
.as 11 "\h'322u'\v'940u'
.ps 8
.ft 2
.ds 12 "\(pl\(mi\(mi\(pl
.ds 12 \x'0'\f2\s8\*(12\s\n(99\f(\n(98
.as 11 \*(12
.ps \n(99
.ft \n(98
.as 11 "\h'-\w'
.ps 8
.ft 2
.ds 12 "\(pl\(mi\(mi\(pl
.ds 12 \x'0'\f2\s8\*(12\s\n(99\f(\n(98
.as 11 \*(12
.ps \n(99
.ft \n(98
.as 11 "'u'
.ps \n(99
.ft \n(98
\*(11
.sp -1
.nr 99 \n(.s
.nr 98 \n(.f
.af 98 01
.rm 11 
.as 11 "\h'890u'\v'432u'
.ps 8
.ft 2
.ds 12 "P
.ds 13 "\f12\fP
.as 12 \v'9u'\s-2\|\*(13\s+2\v'-9u'
.ds 13 "\f1(\fP
.as 12 "\*(13
.ds 13 "P
.ds 14 "\f11\fP
.as 13 \v'9u'\s-2\|\*(14\s+2\v'-9u'
.as 12 "\*(13
.ds 13 "\f1)\fP
.as 12 "\*(13
.ds 12 \x'0'\f2\s8\*(12\s\n(99\f(\n(98\x'3u'
.as 11 \*(12
.ps \n(99
.ft \n(98
.as 11 "\h'-\w'
.ps 8
.ft 2
.ds 12 "P
.ds 13 "\f12\fP
.as 12 \v'9u'\s-2\|\*(13\s+2\v'-9u'
.ds 13 "\f1(\fP
.as 12 "\*(13
.ds 13 "P
.ds 14 "\f11\fP
.as 13 \v'9u'\s-2\|\*(14\s+2\v'-9u'
.as 12 "\*(13
.ds 13 "\f1)\fP
.as 12 "\*(13
.ds 12 \x'0'\f2\s8\*(12\s\n(99\f(\n(98\x'3u'
.as 11 \*(12
.ps \n(99
.ft \n(98
.as 11 "'u'
.ps \n(99
.ft \n(98
\*(11
.sp -1
.nr 99 \n(.s
.nr 98 \n(.f
.af 98 01
.rm 11 
.as 11 "\h'890u'\v'293u'
.ps 8
.ft 2
.ds 12 "P
.ds 13 "\f11\fP
.as 12 \v'9u'\s-2\|\*(13\s+2\v'-9u'
.ds 13 "\f1(\fP
.as 12 "\*(13
.ds 13 "P
.ds 14 "\f12\fP
.as 13 \v'9u'\s-2\|\*(14\s+2\v'-9u'
.as 12 "\*(13
.ds 13 "\f1)\fP
.as 12 "\*(13
.ds 12 \x'0'\f2\s8\*(12\s\n(99\f(\n(98\x'3u'
.as 11 \*(12
.ps \n(99
.ft \n(98
.as 11 "\h'-\w'
.ps 8
.ft 2
.ds 12 "P
.ds 13 "\f11\fP
.as 12 \v'9u'\s-2\|\*(13\s+2\v'-9u'
.ds 13 "\f1(\fP
.as 12 "\*(13
.ds 13 "P
.ds 14 "\f12\fP
.as 13 \v'9u'\s-2\|\*(14\s+2\v'-9u'
.as 12 "\*(13
.ds 13 "\f1)\fP
.as 12 "\*(13
.ds 12 \x'0'\f2\s8\*(12\s\n(99\f(\n(98\x'3u'
.as 11 \*(12
.ps \n(99
.ft \n(98
.as 11 "'u'
.ps \n(99
.ft \n(98
\*(11
.sp -1
\h'766u'\v'648u'\h'-\w'(b)(b1)'u'(b)(b1)\h'-\w'(b)(b1)'u'
.sp -1
.nr 99 \n(.s
.nr 98 \n(.f
.af 98 01
.rm 11 
.as 11 "\h'1017u'\v'346u'
.ps 8
.ft 2
.ds 12 "\f1(\fP\(mi\(pl\(mi\(mi\f1)\fP
.ds 12 \x'0'\f2\s8\*(12\s\n(99\f(\n(98
.as 11 \*(12
.ps \n(99
.ft \n(98
.as 11 "\h'-\w'
.ps 8
.ft 2
.ds 12 "\f1(\fP\(mi\(pl\(mi\(mi\f1)\fP
.ds 12 \x'0'\f2\s8\*(12\s\n(99\f(\n(98
.as 11 \*(12
.ps \n(99
.ft \n(98
.as 11 "'u'
.ps \n(99
.ft \n(98
\*(11
.sp -1
.nr 99 \n(.s
.nr 98 \n(.f
.af 98 01
.rm 11 
.as 11 "\h'1017u'\v'323u'
.ps 8
.ft 2
.ds 12 "\(pl\(mi\(mi\(mi
.ds 12 \x'0'\f2\s8\*(12\s\n(99\f(\n(98
.as 11 \*(12
.ps \n(99
.ft \n(98
.as 11 "\h'-\w'
.ps 8
.ft 2
.ds 12 "\(pl\(mi\(mi\(mi
.ds 12 \x'0'\f2\s8\*(12\s\n(99\f(\n(98
.as 11 \*(12
.ps \n(99
.ft \n(98
.as 11 "'u'
.ps \n(99
.ft \n(98
\*(11
.sp -1
.nr 99 \n(.s
.nr 98 \n(.f
.af 98 01
.rm 11 
.as 11 "\h'504u'\v'247u'
.ps 8
.ft 2
.ds 12 "P
.ds 13 "\f12\fP
.as 12 \v'9u'\s-2\|\*(13\s+2\v'-9u'
.ds 13 "\f1(\fP
.as 12 "\*(13
.ds 13 "P
.ds 14 "\f11\fP
.as 13 \v'9u'\s-2\|\*(14\s+2\v'-9u'
.as 12 "\*(13
.ds 13 "\f1)\fP
.as 12 "\*(13
.ds 12 \x'0'\f2\s8\*(12\s\n(99\f(\n(98\x'3u'
.as 11 \*(12
.ps \n(99
.ft \n(98
.as 11 "\h'-\w'
.ps 8
.ft 2
.ds 12 "P
.ds 13 "\f12\fP
.as 12 \v'9u'\s-2\|\*(13\s+2\v'-9u'
.ds 13 "\f1(\fP
.as 12 "\*(13
.ds 13 "P
.ds 14 "\f11\fP
.as 13 \v'9u'\s-2\|\*(14\s+2\v'-9u'
.as 12 "\*(13
.ds 13 "\f1)\fP
.as 12 "\*(13
.ds 12 \x'0'\f2\s8\*(12\s\n(99\f(\n(98\x'3u'
.as 11 \*(12
.ps \n(99
.ft \n(98
.as 11 "'u'
.ps \n(99
.ft \n(98
\*(11
.sp -1
.nr 99 \n(.s
.nr 98 \n(.f
.af 98 01
.rm 11 
.as 11 "\h'504u'\v'293u'
.ps 8
.ft 2
.ds 12 "P
.ds 13 "\f11\fP
.as 12 \v'9u'\s-2\|\*(13\s+2\v'-9u'
.ds 13 "\f1(\fP
.as 12 "\*(13
.ds 13 "P
.ds 14 "\f12\fP
.as 13 \v'9u'\s-2\|\*(14\s+2\v'-9u'
.as 12 "\*(13
.ds 13 "\f1)\fP
.as 12 "\*(13
.ds 12 \x'0'\f2\s8\*(12\s\n(99\f(\n(98\x'3u'
.as 11 \*(12
.ps \n(99
.ft \n(98
.as 11 "\h'-\w'
.ps 8
.ft 2
.ds 12 "P
.ds 13 "\f11\fP
.as 12 \v'9u'\s-2\|\*(13\s+2\v'-9u'
.ds 13 "\f1(\fP
.as 12 "\*(13
.ds 13 "P
.ds 14 "\f12\fP
.as 13 \v'9u'\s-2\|\*(14\s+2\v'-9u'
.as 12 "\*(13
.ds 13 "\f1)\fP
.as 12 "\*(13
.ds 12 \x'0'\f2\s8\*(12\s\n(99\f(\n(98\x'3u'
.as 11 \*(12
.ps \n(99
.ft \n(98
.as 11 "'u'
.ps \n(99
.ft \n(98
\*(11
.sp -1
\h'381u'\v'648u'\h'-\w'(a)'u'(a)\h'-\w'(a)'u'
.sp -1
.nr 99 \n(.s
.nr 98 \n(.f
.af 98 01
.rm 11 
.as 11 "\h'322u'\v'323u'
.ps 8
.ft 2
.ds 12 "\(pl\(pl\(mi\(mi
.ds 12 \x'0'\f2\s8\*(12\s\n(99\f(\n(98
.as 11 \*(12
.ps \n(99
.ft \n(98
.as 11 "\h'-\w'
.ps 8
.ft 2
.ds 12 "\(pl\(pl\(mi\(mi
.ds 12 \x'0'\f2\s8\*(12\s\n(99\f(\n(98
.as 11 \*(12
.ps \n(99
.ft \n(98
.as 11 "'u'
.ps \n(99
.ft \n(98
\*(11
.sp -1
.sp 2006u
.sp 1
.sp 1
.IE
.ps
.P1
\&.ps 8
.EQ
.nr 99 \n(.s
.nr 98 \n(.f
.af 98 01
.ps 8
.ft 2
.ps \n(99
.ft \n(98
.EN
\&.EQ
gsize 8
define P12 " P sub 1 ( P sub 2 ) "
define P21 " P sub 2 ( P sub 1 )"
\&.EN
\&...libfile circle
\&...minx -1
\&...maxx 6
\&...miny -1
\&...maxy 12
box spot{
	var loc;
	put circle{
		var center, radius;
		center = loc;
		radius = 0.02;
		opaque;
		};
	}
box vert{
	var midd, llength;
	conn midd+llength to midd-llength;
	}
box poly{
	var c1,p1,p2,p3,p4,p5,r1,tp,bp,ta,tb;
	p1 = c1+r1;
	p2 = cis(65)[c1,p1];
	p3 = cis(170)[c1,p1];
	p4 = cis(190)[c1,p1];
	p5 = cis(300)[c1,p1];
	tp = c1+(0,ta)*r1;
	bp = c1+(0,tb)*r1;
	conn p1 to p2;
	conn p2 to p3;
	conn p3 to p4;
	conn p4 to p5;
	conn p5 to p1;
	put vert{ midd=c1; llength=(0,1.6)*r1; };
	put spot{ loc=tp; };
	put spot{ loc=bp; };
	left '$P12$' at tp+0.1;
	left '$P21$' at bp+0.1;
	}
box main {
	put poly{
		c1 =(1,9); r1 = (1,0); ta=1.1; tb=1.4;
		left '$++--$' at p2-1.5;
		right '(a)' at c1-(0.7,1.2);
		};
	put poly{
		c1 =(3.5,9); r1 = (1,0); ta=1.1; tb=0.2;
		left '$+---$' at p2+0.5;
		left '$(-+--)$' at p2+(0.5,-0.15);
		right '(b)(b1)' at c1-(0.7,1.2);
		};
	put poly{
		c1 =(1,5); r1 = (1,0); ta=1.1; tb=-1;
		left '$+--+$' at p2-1.5;
		left '$(-++-)$' at p2-(1.5,0.15);
		right '(c)(c1)' at c1-(0.7,1.2);
		};
	put poly{
		c1 =(3.5,5); r1 = (1,0); ta=0.2; tb=-1;
		left '$---+$' at p2+(0.5,-0.3);
		left '$(--+-)$' at p2+(0.5,-0.45);
		right '(d)(d1)' at c1-(0.7,1.2);
		};
	put poly{
		c1 =(1,1); r1 = (1,0); ta=-1; tb=-1.4;
		left '$--++$' at p4-(0,0.5);
		right '(e)' at c1-(0.7,1.2);
		};
	put poly{
		c1 =(3.5,1); r1 = (1,0); ta=0.2; tb=-0.2;
		left '$----$' at p1+0.2;
		right '(f)' at c1-(0.7,1.2);
		};
}
.P2
.NH 1
Acknowledgements
.PP
My thanks to all who read drafts of this manual and
criticized constructively:
Al Aho,
Lorinda Cherry,
Eric Grosse,
Steve Johnson,
Brian Kernighan,
John Mashey,
Doug McIlroy,
and
Theo Pavlidis;
and to early users of \*(id, especially
Eric Grosse,
Theo Pavlidis,
Norm Schryer,
and
Peter Weinberger.
.SG MH-11272-CVW/unix
.]<
.\"Kernighan 1980a-5
.ds [F 1
.]-
.ds [A Brian W. Kernighan
.ds [T PIC\(ema crude graphics language for typesetting
.ds [J Proceedings of the ACM SIGPLAN Conference on Text Manipulation
.ds [D 1981
.ds [L Kernighan 1980a
.ds [C Portland, Oregon
.nr [T 0
.nr [A 0
.nr [O 0
.][ 1 journal-article
.\"Kernighan Cherry 1975-2
.ds [F 2
.]-
.ds [A Brian W. Kernighan
.as [A " and Lorinda L. Cherry
.ds [T A system for typesetting mathematics
.ds [J Communications of the ACM
.ds [V 18
.ds [N 3
.ds [L Kernighan Cherry 1975
.ds [D 1975
.ds [P 151-157
.nr [P 1
.nr [T 0
.nr [A 0
.nr [O 0
.][ 1 journal-article
.\"Knuth 1979b-8
.ds [F 3
.]-
.ds [A Donald E. Knuth
.ds [T  T\h'-0.15m'\v'0.194m'E\h'-0.15m'\v'-0.194m'X and METAFONT:  New Directions in Typesetting
.ds [I Digital Press
.ds [C Educational Services,
.as [C " Digital Equipment Corporation,
.as [C " Bedford, Massachusetts 01730
.ds [D 1979
.ds [K tex
.ds [L Knuth 1979b
.nr [T 0
.nr [A 0
.nr [O 0
.][ 2 book
.\"Lesk 1976-3
.ds [F 4
.]-
.ds [A M. E. Lesk
.ds [T Tbl\(ema program to format tables
.ds [I Bell Laboratories
.ds [C Murray Hill, New Jersey
.ds [D 1976
.ds [L Lesk 1976
.nr [T 0
.nr [A 0
.nr [O 0
.][ 2 book
.\"Lesk 1978b-4
.ds [F 5
.]-
.ds [A M. E. Lesk
.ds [T Some applications of inverted indexes on the UNIX system
.ds [I Bell Laboratories
.ds [C Murray Hill, New Jersey
.ds [D 1978
.ds [L Lesk 1978b
.nr [T 0
.nr [A 0
.nr [O 0
.][ 2 book
.\"Ossanna 1976-1
.ds [F 6
.]-
.ds [A Joseph F. Ossanna
.ds [T N\s-2ROFF\s0/T\s-2ROFF\s0 User's Manual
.ds [I Bell Laboratories
.ds [C Murray Hill, New Jersey
.ds [D 1976
.ds [K troff
.ds [L Ossanna 1976
.nr [T 0
.nr [A 0
.nr [O 0
.][ 2 book
.\"Van Wyk 1980-6
.ds [F 7
.]-
.ds [A Christopher John Van Wyk
.ds [T A Language for Typesetting Graphics
.ds [I Stanford University
.ds [D 1980
.ds [O Ph.D. dissertation.
.ds [L Van Wyk 1980
.nr [T 0
.nr [A 0
.nr [O 1
.][ 2 book
.\"Van Wyk 1981-7
.ds [F 8
.]-
.ds [A Christopher J[ohn] Van Wyk
.ds [T A graphics typesetting language
.ds [J Proceedings of the ACM SIGPLAN Conference on Text Manipulation
.ds [C Portland, Oregon
.ds [L Van Wyk 1981
.ds [D 1981
.nr [T 0
.nr [A 0
.nr [O 0
.][ 1 journal-article
.]>
