!<arch>
pt.arc          381508716   9     1     100666  1474      `
.nf
This should be a circle
.PS
arc;arc;arc;arc
.PE
This should be a wave
.PS
arc; arc cw; arc cw; arc
.PE
This should be an oval
.PS
arc; arc; line left; arc; arc; line right
.PE
This should be a ()
.PS
arc from 0,0 to 0,1.0 rad 1.0
arc from 0,1.0 to 0,0 rad 1.0
.PE
This ought to be the same
.PS
arc to 0,1.0 rad 1.
arc to 0,0
.PE
Arc down with arrow
.PS
arc cw ->
.PE
Arc up with arrow
.PS
arc ->
.PE
.bp
.ps 18
.vs 24
.PS
A: circle radius .50i "A"
circle radius .4i at A
move to A.e
move right 2i
B: circle radius .50i "B"
move down 1.5i from B.s
C: circle radius .50i "C"
move left 2i from C.w
D: circle radius .50i "D"
arc -> cw from A.e + 0,.1i to B.w + 0,.1i radius 3i
"a" at last arc.c + 0,3i + .1i
arc -> cw from B.w - 0,.1i to A.e - 0,.1i radius 3i
"a" at last arc.c - 0,3i - .1i
arc -> cw from D.e + 0,.1i to C.w + 0,.1i radius 3i
"a" at last arc.c + 0,3i + .1i
arc -> cw from C.w - 0,.1i to D.e - 0,.1i radius 3i
"a" at last arc.c - 0,3i - .1i
arc -> from A.s - .3i,0 to D.n - .3i,0 radius 3i
"b" at last arc.c - 3i + .2i,0
arc -> from D.n + .3i,0 to A.s + .3i,0 radius 3i
"b" at last arc.c + 3i + .2i,0
arc -> from B.s - .3i,0 to C.n - .3i,0 radius 3i
"b" at last arc.c - 3i + .2i,0
arc -> from C.n + .3i,0 to B.s + .3i,0 radius 3i
"b" at last arc.c + 3i + .2i,0
.PE
.PS 6i
A: circle radius .50i "A"
arrow "i" above
circle same "B"
arrow "g" above
circle same "C"
arrow "e" above
circle same "D"
arrow "\en" above
E: circle same "E"
circle radius .4i at E
.PE
pt.ava          368939801   9     1     100666  407       `
.EQ
delim $$
.EN
Pictures from the dragon book.
.sp
Page 96:
.nf
.sp
.nf
.PS
w = 1.; h = .75;	# for the ellipse
Center: circle rad 0.025;
move left .375;		# left ellipse
ellipse wid w ht h;
move up .1; "$N sub 1$"; move down .1;
move left .25; circle diam .2; "$i$";
move to Center + .375,0;	# right ellipse
move up .1; "$N sub 2$"; move down .1;
move right .25; circle diam .2; circle diam .25; "$f$";
.PE

pt.ava1         368915336   9     1     100666  1188      `
.po .25i
.PS
h = .5i
w = .75i
dh = .02i
dw = .1i
r1 = .05i
circlerad = r1

define part /
	line from Start \
		up dh \
		then right w \
		then down h \
		then left dw
	line from Start + (dh,dh) to Root chop 0 chop r1
	Start: start of 2nd last line + (dw,dh)
/
define space /
	Start: Start + (dw,dh)
/

Origin: box ht h wid w
Start: last box.nw - (0,dh)
Top: Start + (3*w,6*h)
circle at Top
fixh = h/4
define node X
	Root: Start + (h/2, 3*h-fixh)
	fixh = fixh + h/4
	circle at Root
	line from Root to Top chop
	part; part; part; part; part; space; part
X

Left: node; node; node; space; space; node; node; node
right
circle rad 2*r1 at Left
circle rad 5*w/4 with .e at Origin + (-h, 6*h)
arrow from 2nd last circle to last circle \
	chop 2*r1 chop last circle.rad
[
	Ptr: [
		boxht = h; boxwid = dw
		A: box
		B: box
		C: box
		box wid 2*boxwid "..."
		D: box
	]
	Block: [
		boxht = 2*dw; boxwid = 2*dw
		movewid = 2*dh
		A: box; move
		B: box; move
		C: box; move
		box invis "..." wid 2*boxwid; move
		D: box
	] with .t at Ptr.s - (0,h/2)
	arrow from Ptr.A to Block.A.nw
	arrow from Ptr.B to Block.B.nw
	arrow from Ptr.C to Block.C.nw
	arrow from Ptr.D to Block.D.nw
] at last circle
.PE
pt.bsb          368973794   9     1     100664  3524      `
.EQ
delim ``
.EN
.KS
.PS 4.5i
define Colbx %box "COL"%
define BLbx %box "BL"%
define Nbx %box "N"%
u=1.
w=6*u; t=11*u
h = u
e = .05

line down t from 0,t
Bot:	line right w
line up t

Box0:	BLbx wid 4*w/5 ht 3*h/2 with .sw at 0,0
Box1:	BLbx wid 3*w/4 ht h with .sw at Box0.nw
Box2:	BLbx wid w/2 +2*e ht 3*h/2 with .sw at Box1.nw
Line1:	line  right w  from Box2.nw

Col1:	Colbx wid 5*w/12 ht h+e with .ne at Line1.end
Col2:	Colbx wid w/3+e ht h/4 with .ne at Col1.se
Col3:	Colbx wid w/5+e ht h+e with .ne at Col2.se

Two1:	BLbx wid w/2-e ht h with .sw at Line1.start
Two2:	BLbx wid 5*w/12 ht 5*h/8 with .sw at Two1.se
Two3:	BLbx wid w/3+e ht h with .sw at Two2.nw
Two4:	BLbx wid w/3+e ht 3*h/4 with .sw at Two1.nw
Two5:	BLbx wid w/3+e ht h with .sw at Two4.r.x,Two3.t.y
Line2:	line  right w  from 0,Two5.t.y

Col21:	Colbx wid w/4+2*e ht h/2 with .ne at Line2.end
Col22:	Colbx wid w/4+e ht h/4+2*e with .ne at Col21.se

Thr1:	BLbx wid w/3-e ht h/2 with .sw at Line2.start
Thr2:	BLbx wid w/3-e ht 3*h/4 with .sw at Thr1.se
Thr3:	BLbx wid w/4+e ht h/4 with .sw at Thr2.se
Thr4:	BLbx wid w/4+e ht h/2 with .sw at Thr3.nw
Thr5:	BLbx wid w/4+e ht 3*h/2 with .sw at Thr1.nw
Line3:	line  right w  from Thr5.nw

Col31:	Colbx wid w/4-2*e ht h/2 with .ne at Line3.end
Col32:	Colbx wid w/5+e ht h/2 with .ne at Col31.se

F1:	BLbx wid w/4-e ht h/4 with .sw at Line3.start
F2:	BLbx wid w/5+e ht h/2 with .sw at F1.se
F3:	BLbx wid w/5+e ht 3*h/4 with .sw at F2.se
F4:	BLbx wid w/5+e ht h/2-2*e with .sw at F3.se
Line4:	line  right w  from 0,F3.nw.y

	hh = 3*h/2+2*e
N1:	Nbx wid w/8 ht hh with .sw at Box0.se
	hh=hh-2*e
N2:	Nbx wid w/16 ht hh with .sw at N1.se
	hh = h
N3:	Nbx wid w/20 ht hh with .sw at Box2.r.x,N1.t.y+hh
N21:	Nbx wid w/15 ht hh with .sw at Two2.se
	hh = 3*h/4
N22:	Nbx wid w/20 ht hh with .sw at Two3.r.x,N21.t.y
	hh = hh-2*e
N23:	Nbx wid w/12 ht hh with .sw at N22.se
N24:	Nbx wid w/35 ht hh with .sw at Two5.r.x,N22.t.y

N31:	Nbx wid w/20 ht hh with .sw at Thr3.se
N32:	Nbx wid w/40 ht hh with .sw at N31.se
N33:	Nbx wid w/4 ht hh with .sw at Thr5.r.x,N31.t.y+hh
N34:	Nbx wid w/8 ht hh-e with .sw at N33.se
N35:	Nbx wid w/12 ht hh-2*e with .sw at N34.se
	hh=hh-2*e
N41:	Nbx wid w/12 ht hh with .sw at F4.se
N51:	Nbx wid w/5 ht hh with .sw at Line4.start
N52:	Nbx wid w/12 ht hh with .sw at N51.se
	hh = hh - e
N53:	Nbx wid w/5 ht hh with .sw at N52.se
	hh = hh - e
N54:	Nbx wid w/6 ht hh with .sw at N53.se
N55:	Nbx wid w/20 ht hh with .sw at N54.se
	hh = hh -e
N56:	Nbx wid w/8 ht hh with .sw at N55.se
N57:	Nbx wid w/6 ht hh with .sw at N56.se
	hh = hh-e
N58:	Nbx wid w/8 ht hh with .sw at N51.nw
N59:	Nbx wid w/40 ht hh with .sw at N58.se
	hh = hh-e
N510:	Nbx wid w/5 ht hh with .sw at N59.se
Line5:	line right w-N59.r.x dashed from N59.ne

H0:	line right u/2 dashed from Bot.end
	"  `h sub 0`" at H0.end ljust
H1:	line right u/2 dashed from Line1.end
	"  `h sub 1`" at H1.end ljust
H2:	line right u/2 dashed from Line2.end
	"  `h sub 2`" at H2.end ljust
H3:	line right u/2 dashed from Line3.end
	"  `h sub 3`" at H3.end ljust
H4:	line right u/2 dashed from Line4.end
	"  `h sub 4`" at H4.end ljust
H5:	line right u/2 dashed from Line5.end
	"  `h sub 5`" at H5.end ljust

R1:	line invis from H0.start to H1.start "  `R sub 1`" ljust
R2:	line invis from H1.start to H2.start "  `R sub 2`" ljust
R3:	line invis from H2.start to H3.start "  `R sub 3`" ljust
R4:	line invis from H3.start to H4.start "  `R sub 4`" ljust
R5:	line invis from H4.start to H5.start "  `R sub 5`" ljust
.PE
.sp
.ce
Figure 2.  A UD packing.
.KE
pt.chop         368939358   9     1     100666  222       `
.PS
circle at .25,.25
circle at .5,1.
line from 1st circle to last circle chop
.PE
.PS
circle at 0,0
circle at -1i,-2i
line from 1st circle to last circle chop
circle at 1i,-2i
line from 1st circle to last circle chop
.PE
pt.corner       368915336   9     1     100666  303       `
.PS 3i
circle
line from last circle.ne "ne"
line from last circle.nw "nw" left
line from last circle.sw "sw"
line from last circle.se "se" right
.PE
.PS 3i
ellipse
line from last ellipse.ne "ne"
line from last ellipse.nw "nw" left
line from last ellipse.sw "sw"
line from last ellipse.se "se" right
.PE

pt.ellipse      368915336   9     1     100666  273       `
.PS
ellipse wid 1i ht .1i
.PE
.PS
ellipse wid 1i ht .25i
.PE
.PS
ellipse wid 1i ht .5i
.PE
.PS
ellipse wid 1i ht .75i
.PE
.PS
ellipse wid 1i ht 1i
.PE
.PS
ellipse wid .1i ht 1i
.PE
.PS
ellipse wid .25i ht 1i
.PE
.PS
ellipse wid .5i ht 1i
.PE
.PS
ellipse wid .75i ht 1i
.PE

pt.karen        368989865   9     1     100666  557       `
.EQ
delim $$
.EN
+
.PS
x = .5
# this is the start of the bottom row of box + ellipse
arrow right x
box wid x ht x/2 "$lambda sub n$"
arrow
ellipse width x ht x/2 "$mu sub n$"
arrow
# now start the top outer part
line up 3*x
arrow left 3*x/2
box wid 2*x ht x "+++ big box +++"
arrow left 3*x/2
line down 3*x
# this brings us back to A
move up 2*x
arrow right x
box wid x ht x/2 "$lambda sub 1$"
arrow
ellipse width x ht x/2 "$mu sub 1$"
arrow
# this finishes the inner row
#now to middle
# buggy: move to 5*x/2, x
"\s-2\(bu  \(bu  \(bu\s0" at 3*x/2, x
.PE
+

pt.knuth        368915337   9     1     100666  493       `
.PS
define ur "then up right"
define ul "then up left"
define dr "then down right"
define dl "then down left"

Center: 0,0
move down down left left
Start: spline  down right dr ur ur ur ur ul ul ul ul dl dl dl dl dr dr
move down right
line down down
move left left
line right right right right right right
move left left
line up up

move to Start up up up up  right
.ps 36
[ spline right right right down \
then left left left left left down down \
then right right right down ] at Center
.PE

pt.lasts        368990038   9     1     100666  4551      `
.PS 3i
.ps 8
box invis wid .5i ht .3i "System" at 0,0
box invis wid .2i ht .3i "User" at 2i, 3.5i
box invis ht .3i "Builder" at 4i,0

line -> from 1st box.t - .05i, 0 to 2nd box.sw - 0.05i, 0
box invis "user" "learning" with .se at last line.c

line <- from 1st box.t + .05i, 0 to 2nd box.sw + 0.05i, 0
box invis " personalized" " uses" with .nw at last line.c

line -> from 2nd box.se + .05i, 0 to 3rd box.t + .05i,0
box invis "middle-out" "design" with .sw at last line.c

line <- from 2nd box.se - .05i, 0 to 3rd box.t - .05i,0
box invis "facilitates" "implementation" with .ne at last line.c

line -> from 1st box.e + 0,0.05i to 3rd box.w + 0,0.05i \
	"pressure for evolution" above

line <- from 1st box.e - 0,0.05i to 3rd box.w - 0,0.05i \
	"evolution of system function" below
.ps
.PE
.PS
box invis "System" ht .25i wid .4i
move up .5i right .5i
box invis "User" ht .25i wid .4i
arc cw -> from top of 1st box to left of last box
arc cw -> from bottom of last box to east of 1st box
move to bottom of last box down .25i left .2i
right; line right .25i
.PE
.PS
circlerad = .1i
movewid = .4i
circle invis "S"; move; circle invis "  U"
arc cw -> from top of 1st circle to top of 2nd circle
arc cw -> from bottom of 2nd circle to bottom of 1st circle
move to last circle.e + .6i,0
circle invis "U"; move; circle invis "  B"; A:;
arc cw -> from top of 2nd last circle to top of last circle
arc cw -> from bottom of last circle to bottom of 2nd last circle
move to last circle.e + .6i,0
circle invis "S"; move; circle invis "  B"
arc cw -> from top of 2nd last circle to top of last circle
arc cw -> from bottom of last circle to bottom of 2nd last circle
.PE
.PS
circlerad = .1i
movewid = .4i
circle invis "S"; move; circle invis "  U"
arc cw -> from top of 1st circle to top of 2nd circle
arc cw -> from bottom of 2nd circle to bottom of 1st circle
.PE
.PS
circlerad = .1i
movewid = .4i
circle invis "U"; move; circle invis "  B"
arc cw -> from top of 1st circle to top of 2nd circle
arc cw -> from bottom of 2nd circle to bottom of 1st circle
.PE
.PS
circlerad = .1i
movewid = .4i
circle invis "S"; move; circle invis "  B"
arc cw -> from top of 1st circle to top of 2nd circle
arc cw -> from bottom of 2nd circle to bottom of 1st circle
.PE
.PS
circlerad = .1i
movewid = .4i
circle invis "U"; move; circle invis "  S"
arc cw -> from top of 1st circle to top of 2nd circle
arc cw -> from bottom of 2nd circle to bottom of 1st circle
.PE
.PS 3.5i
.ps 8
arcrad = 4i
box invis wid .45i ht .3i "System" at 0,0
box invis wid .4i ht .2i "User" at 2i, 3.5i
box invis wid .45i ht .3i "Builder" at 4i,0
box invis ht .4i "Task" "Representation" at 2i, 2i

arc cw -> from 1st box.t - .05i, 0 to 2nd box.sw - 0.05i, 0
arc cw <- from 1st box.t + .05i, 0 to 2nd box.sw + 0.05i, 0
arc cw -> from 2nd box.se + .05i, 0 to 3rd box.t + .05i,0
arc cw <- from 2nd box.se - .05i, 0 to 3rd box.t - .05i,0
arc  -> from 1st box.e + 0,0.05i to 3rd box.w + 0,0.05i
arc  <- from 1st box.e - 0,0.05i to 3rd box.w - 0,0.05i

line <- from 2nd box.b to 4th box.t
box invis "Descriptive map of" "user processes" at last line.c
arrow from 4th box.sw to 1st box.ne
box invis "design of" "DSS functions" "commands" with .nw at last arrow.c

arrow from 4th box.se to 3rd box.nw
box invis "Prescriptive map " "of task performance" with .ne at last arrow.c
.ps
.PE
.PS 4i
.ps 8
arcrad = 4i
box invis wid .5i ht .3i "System" at 0,0
box invis wid .4i ht .25i "User" at 2i, 3.5i
box invis ht .3i "Builder" at 4i,0
box invis "Task" "Representation" at 2i, 2i
box invis ht .4i "Organization's" "Technology (T)" at -1i, -1i
arrow dashed from last box.t - .1i,0 to 1st box.b - .1i,0
arrow dashed from 1st box.b + .1i,0 to last box.t + .1i, 0

box invis ht .7i "Organizational" "Procedures and" "Systems (O)" at 2i, 4.5i
arrow dashed from last box.b - .1i,0 to 2nd box.t - .1i, 0
arrow <- dashed from last box.b + .1i,0 to 2nd box.t + .1i, 0

box invis ht .75i "Organization" "Charter and" "Location" at 5i, -1i
arrow dashed from last box.t - .1i,0 to 3rd box.b - .1i,0
arrow dashed <- from last box.t + .1i,0 to 3rd box.b + .1i,0

arc cw -> from 1st box.t - .05i, 0 to 2nd box.sw - 0.05i, 0
arc cw <- from 1st box.t + .05i, 0 to 2nd box.sw + 0.05i, 0
arc cw -> from 2nd box.se + .05i, 0 to 3rd box.t + .05i,0
arc cw <- from 2nd box.se - .05i, 0 to 3rd box.t - .05i,0
arc  -> from 1st box.e + 0,0.05i to 3rd box.w + 0,0.05i
arc  <- from 1st box.e - 0,0.05i to 3rd box.w - 0,0.05i

line from 2nd box.b to 4th box.t
arrow from 4th box.sw to 1st box.ne

arrow from 4th box.se to 3rd box.nw
.ps
.PE

pt.line         368975295   9     1     100666  210       `
.sp 3i
.PS
line
.PE
.PS
line right
.PE
.PS
line right up
.PE
.PS
line up then right then down right
.PE
.PS
line
line dotted
line dashed
line
.PE
.PS
line right 6i dashed 1i
.PE
.PS
line right 6i dashed 2i
.PE
pt.parser       368939587   9     1     100666  901       `
.nf
.ll 5i
Dragon book, page 388:
.sp
.PS
x = .5; y = .325;	# dimensions of the boxes

LA:
	box wid x ht y "lexical" "analyzer";
	arrow right x/2 from LA.w - x/2,0 "" "" "source" "code";
Parser:
	box at LA + 2*x, 0 "parser";
	arrow from LA.e to Parser.w "" "tokens";
Sem:
	box at Parser + 5*x/2, 0 "semantic" "checker";
	arrow from Parser.e to Sem.w "" "" "intermediate" "code";
	arrow from Sem.e right x/2;
LC:
	box at LA + 0, 2*y "lexical" "corrector";
	arrow from LA.t to LC.b <->;
Syn:
	box at LC + 2*x, 0 "syntactic" "corrector";
	arrow from Parser.t to Syn.b <->;
DMP:
	box wid x ht x at Syn + 0,2*y "diagnostic" "message" "printer";
	arrow from LC.ne to DMP.sw;
	arrow from Syn.t to DMP.b;
	arrow from Sem.nw to DMP.se;
ST:
	box at DMP + 5*x/2,0 "symbol" "table";
	arrow <-> from Sem.t to ST.b;
	arrow <-> from DMP.r to ST.l;
.PE
.sp 2
.ce
\f3Fig. 11.1.\fP  Plan of an error detector/corrector

pt.ravi         371401189   9     1     100664  1311      `
.PP
this is figure 3
.KS
.nf
.PS 6i
"$upd$" at 100,300;
line from 80,280 to 20,220;
arc cw to 0,220;
line to 0,360;
arc cw to 40,400 radius 40;
line -> to 180,400;
"$upd$" at 200,400;
line -> from 180,380 to 120,320;
line -> from 100,280 to 120,220;
"\f2L2\fP" at 100,200;
line from 120,280 to 180,220;
arc to 220,200;
line to 280,200;
arc to 320,220;
line to 580,560;
arc cw to 620,580;
line -> to 680,520;
line -> from 200,380 to 220,320;
"\f2L1\fP" at 200,320;
line from 220,380 to 280,320;
arc to 320,320;
line to 580,660;
arc cw to 620,680;
line -> to 680,620;
"$a sub 1$" at 700,600;
line -> from 700,580 to 700,520;
"$a sub 2$" at 700,500;
line from 700,480 to 700,420;
"$b sub 1$" at 700,400;
line -> from 680,380 to 620,320;
"$app$" at 600,300;
line from 580,280 to 520,220;
arc cw to 480,220;
line to 320,480;
arc to 280,480;
line -> to 220,420;
line -> from 620,280 to 680,220;
"\f2L1\fP" at 700,200;
line -> from 720,380 to 780,320;
"$a sub 3$" at 800,300;
line -> from 800,280 to 800,220;
"$b sub 2$" at 800,200;
line -> from 780,180 to 720,120;
"$app$" at 700,100;
line from 680,80 to 620,20;
arc cw to 580,0;
line to 520,0;
arc cw to 480,20;
line to 320,480;
line -> from 820,180 to 880,120;
"$I$" at 900,100;
line -> from 720,80 to 780,20;
"\f2L2\fP" at 800,0;
.PE
.sp 2
.ce
Figure 3.
.sp 2
.KE

pt.ravi.1       368915339   9     1     100664  2637      `
.KS
.PS
scale = 225;
"$e$";
line <- from Here + 20,20 up 60 right 60;
"\f4upd\fP" at Here + 20,20;
{
   line -> from Here + 0,-20 down 60 right 20;
   "\f2L2\fP" at Here + 0,-20;
}
{
   line -> from Here + 20,-20 down 60 right 60;
   "\f4app\fP" at Here + 20,-20;
   {   line -> from Here + 20,-20 down 60 right 60; "\f2L2\fP" at Here + 20,-20;   }
   line -> from Here + -20,-20 down 60 left 60;
   "$e sub m$" at Here + -20,-20;
}
line <- from Here + 20,20 up 60 right 60;
"\f4upd\fP" at Here + 20,20;
{
   line -> from Here + 0,-20 down 60 right 20;
   "\f2L1\fP" at Here + 0,-20;
}
{
   line -> from Here + 20,-20 down 160 right 60;
   "\f4app\fP" at Here + 20,-20;
   {   line -> from Here + 20,-20 down 60 right 60; "\f2L1\fP" at Here + 20,-20;   }
   line -> from Here + -20,-20 down 60 left 160;
}
move to Here + 500,200;
{
   "$a sub 1$";
   line -> from Here + 0,-20 down 60;
   "$a sub 2$" at Here + 0,-20;
   line -> from Here + 0,-20 down 60;
   "$b sub 1$" at Here + 0,-20;
   {
      line -> from Here + -20,-20 down 60 left 60;
      "\f4app\fP" at Here + -20,-20;
      {
         line -> from Here + 20,-20 down 60 right 60;
         "\f2L1\fP" at Here + 20,-20;
      }
      spline -> from Here + -20,-20 to Here + -100,-100 to Here + -200,200 to Here + -380,120;
   }
   line -> from Here + 20,-20 down 60 right 60;
   "$a sub 3$" at Here + 20,-20;
   line -> from Here + 0,-20 down 60;
   "$b sub 2$" at Here + 0,-20;
   {
      line -> from Here + -20,-20 down 60 left 60;
      "\f4app\fP" at Here + -20,-20;
      {
         line -> from Here + 20,-20 down 60 right 60;
         "\f2L2\fP" at Here + 20,-20;
      }
      spline -> from Here + -20,-20 to Here + -100,-100 to Here + -300,100 to Here + -400,400 to Here + -480,320;
   }
   line -> from Here + 20,-20 down 60 right 60;
   "$I$" at Here + 20,-20;
}
arc <- from Here + 0,20 to Here + -80,180 radius 200;
"\f4upd\fP" at Here + -20,20;
{
   {
      line -> from Here + 0,-20 down 60 right 20;
      "\f2L1\fP" at Here + 0,-20;
   }
   line -> from Here + -20,-20 down 60 left 60;
   "\f4upd\fP" at Here + -20,-20;
   {
      line -> from Here + 0,-20 down 60 right 20;
      "\f2L2\fP" at Here + 0,-20;
   }
   {   line -> from Here + 20,-20 down 160 right 160;   }
   line -> from Here + -20,-20 down 60 left 60;
   "\f4nil\fP" at Here + -20,-20;
}
line dashed from Here + -40,0 left 640;
arc to Here + -20,-20 rad 20;
line dashed down 660;
arc to Here + 20,-20 rad 20;
line dashed to Here + 160,0;
.PE
.sp 2
.FI 5
The dashed line connects vertices that are merged when an
instance of the least fixed point operator is eliminated, as in
Figure 2.
.KE

pt.sally        368915340   9     1     100666  1669      `
.PS 5.5i
circlerad = 0.05i
define pin | "\(bu" at end of last line |
define node |circle|
define chip |
[  	N1: node
	N2: node at N1 + (-.15i,-.2i);  line from N1.c to last circle chop
	N3: node at N1 + (.15i,-.2i);  line from N1.c to last circle chop
	N4: node at N2.c + (-.075i,-.2i);  line from N2.c to last circle chop
	N5: node at N2.c + (.075i,-.2i);  line from N2.c to last circle chop
	N6: node at N3 + (-.075i,-.2i);  line from N3.c to last circle chop
	N7: node at N3 + (.075i,-.2i);  line from N3.c to last circle chop
	N0: node at N1 + (.4i,0)
	Bll: (N4.w,N4.s) - (.1i,.1i)
	Bul: (Bll, N1.n) + (0,.1i)
	Bur: (N0.e,Bul) + (.1i,0)
	Blr: (Bur, Bll)	
	line from Bll to Bul to Bur to Blr to Bll
	line from N1.n up .1i;  SP: pin
	line from N0.n up .1i; P: pin
	line from N0.sw to N0.s - (.1i,0); line up .2i; L: pin
	line from N0.se to N0.s + (.1i,0); line up .2i; R: pin
] |

define twochips |
[	A: chip
	BLL: A.Bll - (.1i,.1i)
	BUL: BLL + (0,1i)
	B: chip with .w at A.e + (.15i,0)
	BLR: B.Blr + (.1i,-.1i); 
	BUR: (BLR,BUL);
	arc cw from A.SP to A.L
	arc from B.SP to A.R
 	line dashed from BLL to BUL to BUR to BLR to BLL
	line from A.P to (A.P,BUL); SP: pin
	line from B.L to (B.L,BUL); L: pin
	line from B.R to (B.R,BUL); R: pin
	line from B.P to (B.P,BUL); P: pin
] |

C: twochips
OBLL: C.BLL - (.1i,.1i)
OBUL: OBLL + (0,1.5i)
D: twochips with .w at C.e + (.25i,0)
OBLR: D.BLR + (.1i,-.1i)
OBUR: (OBLR, OBUL)
arc cw from C.SP to C.L
arc from D.SP to C.R
line dotted from OBLL to OBUL to OBUR to OBLR to OBLL
line from C.P to (C.P,OBUL); SP: pin
line from D.L to (D.L,OBUL); L: pin
line from D.R to (D.R,OBUL); R: pin
line from D.P to (D.P,OBUL); P: pin
.PE

pt.spline       368915340   9     1     100666  225       `
.nf
.PS
box "thing 1"
spline -> right 150 down 20 then left 100 down 20 then down 20 right 150
box "thing 2"
.PE
.PS 4i
box "thing 1"
spline -> right 150 down 20 then left 100 down 20 then down 20 right 150
box "thing 2"
.PE

pt.statediag    368915340   9     1     100664  275       `
.po .3i
.fp 8 US
.ft US
.ps 20
.PS
circlerad = .8i
circle
arrow right 3i
circle
arc -> from top of last circle to top of last circle + -1.5i,1.5i rad 3i
left
circle
arc -> to top of 1st circle rad 3i
.ps 60
"d" at 1st circle.c
"D" at 2nd circle.c
"v" at 3rd circle.c
.ps
.PE

pt.tbl          368915341   9     1     100666  185       `
.EQ
delim $$
.EN
xxxx
.TS
center, expand, doublebox;
c c c.
box	circle	ellipse
T{
.PS
box "$b sub 1$"
.PE
T}	T{
.PS
circle "$c sub 1$"
.PE
T}	T{
.PS
ellipse "$e sub 1$"
.PE
T}
.TE
yyyy

pt.tree         368915341   9     1     100666  849       `
.EQ
delim $$
.EN
.PS
circlerad = .15i
d = .5i
s = .3i
define tree X
{ R: $1; move to R
	{ line from R to R - $4,d chop; line from R to R + $4,-d chop }
	{ move left $4 down d - circlerad; $2; }
	{ move right $4 down d - circlerad; $3; }
}
X
.PE
This is a simple tree:
.PS
tree(circle "root", circle "left", circle "right", .3i)
.PE
This one is harder.
.PS
tree(circle "+", circle "$op sub 1$", tree(circle "*", circle "$op sub 2$", circle "$op sub 3$", .3i) , .3i)
.PE
This one is even worse:
.PS
tree(circle "+", tree(circle "*", circle "$op sub 1$", circle "$op sub 2$",.3i), tree(circle "+", circle "$op sub 3$", circle "$op sub 4$",.3i),.6i)
.PE
.PS
tree(circle invis "+", tree(circle invis "*", circle invis "$op sub 1$", circle invis "$op sub 2$",.3i), tree(circle invis "+", circle invis "$op sub 3$", circle invis "$op sub 4$",.3i),.6i)
.PE

pt.with         368926777   9     1     100666  243       `
.PS
ellipse
ellipse with .ne at last ellipse.sw
.PE
.PS
box with .sw at 0,0
box with .ne at last box.sw
.PE
.PS
box
box ht .25i width .25i with .sw at last box.se
box ht .15i width .5 with .sw at last box.se
circle with .sw at last box.ne
.PE

pt.jap          368915358   9     1     100666  8844      `
!<arch>
j.a             323723756   9     1     100666  132       `
.PS
line from 0,220 to 116,220
arc cw to 140,152 rad 38
arc cw to 63,108 rad 134
line from 63,168 to 63,58
arc cw to 7,0 rad 60
.PE
j.cdot          323887266   9     1     100666  82        `
.PS
line from 52,137 to 52,103
line to 102,103
line to 102,137
line to 52,137
.PE
j.chi           323885532   9     1     100666  120       `
.PS
arc cw from 144,240 to 8,219 rad 402
line from 0,131 to 154,131
line from 88,225 to 88,89
arc cw to 28,0 rad 97
.PE
j.circle        323989443   9     3     100666  32        `
.PS
circle at 51,189 rad 51
.PE
j.comma         323887201   9     1     100666  94        `
.PS
line from 24,-51 to 84,49
line to 124,49
line to 124,39
line to 34,-51
line to 24,-51
.PE
j.ddot          323887068   9     1     100666  62        `
.PS
line from 0,240 to 46,144
line from 80,234 to 126,140
.PE
j.e             323883213   9     1     100666  86        `
.PS
line from 9,170 to 145,170
line from 77,170 to 77,12
line from 0,12 to 154,12
.PE
j.elong         323887237   9     1     100666  79        `
.PS
line from 7,125 to 7,115
line to 147,115
line to 147,125
line to 7,125
.PE

j.fu            323886062   9     1     100666  83        `
.PS
line from 0,224 to 120,224
arc cw to 148,196 rad 28
arc cw to 32,0 rad 228
.PE

j.ha            323885981   9     1     100666  94        `
.PS
arc cw from 28,198 to 0,0 rad 426
arc cw from 108,228 to 154,44 rad 424
line to 154,0
.PE
j.he            323886097   9     1     100666  83        `
.PS
line from 0,144 to 23,197
arc cw to 72,204 rad 28
arc cw to 154,13 rad 400
.PE

j.hi            323958989   9     1     100666  116       `
.PS
line from 23,176 to 154,176
line from 23,240 to 23,37
arc to 60,0 rad 37
line to 78,0
arc to 154,20 rad 160
.PE
j.ho            323886148   9     1     100666  133       `
.PS
line from 0,184 to 154,184
line from 77,240 to 77,0
arc cw from 20,122 to 0,27 rad 258
arc cw from 136,115 to 154,26 rad 255
.PE

j.i             323724624   9     1     100666  70        `
.PS
arc cw from 154,240 to 0,130 rad 352
line from 92,179 to 92,0
.PE
j.ka            323883396   9     1     100666  169       `
.PS
line from 0,184 to 130,184
arc cw to 154,160 rad 24
line to 154,30
arc cw to 124,0 rad 30
arc cw to 89,8 rad 70
line from 55,240 to 55,185
arc cw to 0,8 rad 332
.PE

j.ke            323958345   9     1     100666  122       `
.PS
arc cw from 34,240 to 0,136 rad 176
line from 23,178 to 154,178
line from 105,178 to 105,89
arc cw to 16,0 rad 89
.PE
j.ki            323883440   9     1     100666  87        `
.PS
line from 8,184 to 145,184
line from 0,104 to 154,104
line from 73,240 to 83,0
.PE

j.ko            323958455   9     1     100666  88        `
.PS
line from 4,203 to 108,203
arc cw to 136,175 rad 28
line to 136,14
line to 0,14
.PE
j.ku            323958154   9     1     100666  104       `
.PS
arc from 0,136 to 46,224 rad 146
line to 132,224
arc cw to 154,202 rad 22
arc cw to 0,6 rad 247
.PE
j.lquote        323887297   9     1     100666  63        `
.PS
line from 47,240 to 47,100
line from 47,240 to 154,240
.PE

j.ma            323886194   9     1     100666  108       `
.PS
line from 0,227 to 124,227
arc cw to 148,179 rad 30
line to 65,63
arc cw from 0,96 to 108,0 rad 153
.PE
j.me            323886329   9     1     100666  80        `
.PS
arc cw from 122,232 to 0,0 rad 252
arc cw from 32,146 to 144,58 rad 243
.PE
j.mi            323886246   9     1     100666  118       `
.PS
arc cw from 13,223 to 136,220 rad 252
arc cw from 24,136 to 119,132 rad 255
arc cw from 0,24 to 154,0 rad 256
.PE
j.mo            323886381   9     1     100666  130       `
.PS
line from 8,226 to 143,226
line from 0,142 to 154,142
line from 68,226 to 68,36
arc to 104,0 rad 36
arc to 154,12 rad 108
.PE
j.mu            323959801   9     1     100666  102       `
.PS
line from 79,228 to 3,41
arc to 22,8 rad 22
line to 133,8
arc to 152,39 rad 21
line to 132,83
.PE
j.n             323970403   9     1     100666  118       `
.PS
arc cw from 6,185 to 82,178 rad 204
line from 3,24 to 0,0
line to 30,0
arc to 154,124 rad 124
line to 154,144
.PE
j.na            323885746   9     1     100666  83        `
.PS
line from 0,180 to 154,180
line from 91,240 to 91,80
arc cw to 22,0 rad 80
.PE

j.ne            323885877   9     1     100666  163       `
.PS
line from 77,240 to 77,196
line from 12,196 to 116,196
arc cw to 131,152 rad 25
line to 0,44
line from 77,107 to 77,0
arc cw from 95,122 to 154,62 rad 211
.PE

j.ni            323885775   9     1     100666  65        `
.PS
line from 12,186 to 142,186
line from 0,12 to 154,12
.PE
.PE

j.no            323885910   9     1     100666  43        `
.PS
arc cw from 145,218 to 0,0 rad 270
.PE

j.nu            323958864   9     1     100666  108       `
.PS
line from 10,231 to 120,231
arc cw to 140,191 rad 25
line to 0,0
arc cw from 0,146 to 154,0 rad 244
.PE
j.o             323958066   9     1     100666  98        `
.PS
line from 0,182 to 154,182
line from 100,240 to 100,0
arc cw from 100,169 to 0,49 rad 384
.PE
j.period        323887158   9     1     100666  75        `
.PS
line from 52,34 to 52,0
line to 102,0
line to 102,34
line to 52,34
.PE

j.ra            323886583   9     1     100666  111       `
.PS
line from 12,228 to 142,228
line from 0,158 to 135,158
arc cw to 154,139 rad 19
arc cw to 36,0 rad 143
.PE

j.re            323886707   9     1     100666  85        `
.PS
line from 12,230 to 12,0
line to 26,0
arc to 154,128 rad 128
line to 154,144
.PE

j.ri            323886611   9     1     100666  87        `
.PS
line from 30,222 to 30, 94
line from 120,228 to 120,80
arc cw to 84, 0 rad 108
.PE

j.ro            323962149   9     1     100666  127       `
.PS
line from 12,12 to 4,162
arc cw to 26,184 rad 22
line to 128,184
arc cw to 150,162 rad 22
line to 142,12
line to 12,12
.PE

j.rquote        323887313   9     1     100666  47        `
.PS
line from 107,140 to 107,0
line to 0,0
.PE

j.ru            323886674   9     1     100666  116       `
.PS
line from 7,230 to 7,51
arc cw to 0,0 rad 192
line from 77,232 to 77,0
arc to 154,90 rad 90
line to 154,131
.PE
j.sa            323883672   9     1     100666  113       `
.PS
line from 0,184 to 154,184
line from 36,240 to 36,116
line from 120,240 to 120,98
arc cw to 56,0 rad 108
.PE

j.se            323883897   9     1     100666  154       `
.PS
line from 0,184 to 124,184
arc cw to 140,129 rad 30
arc cw to 106,107 rad 165
line from 41,240 to 41, 38
arc to 78,0 rad 38
arc to 150,14 rad 151
.PE
j.shi           323883758   9     1     100666  154       `
.PS
line from 6,211 to 68,211
line from 0,136 to 63,136
line from 0,34 to 0,15
arc to 15,0 rad 15
line to 22,0
arc to 154,132 rad 132
line to 154,164
.PE
j.so            323885362   9     1     100666  86        `
.PS
line from 0,206 to 34,139
line from 154,240 to 154,207
arc cw to 40,0 rad 245
.PE
j.su            323883820   9     1     100666  107       `
.PS
line from 8,232 to 97,232
arc cw to 117,196 rad 24
line to 0,0
arc cw from 79,131 to 154,0 rad 164
.PE

j.ta            323885470   9     1     100666  156       `
.PS
arc from 0,140 to 40,231 rad 90
line to 138,231
arc cw to 154,215 rad 16
line to 154,196
arc cw to 0,0 rad 202
arc cw from 68,136 to 150,62 rad 172
.PE
j.te            323958735   9     1     100666  111       `
.PS
line from 10,221 to 144,221
line from 0,156 to 154,156
line from 88,156 to 88,80
arc cw to 20,0 rad 81
.PE

j.to            323885716   9     1     100666  71        `
.PS
line from 48,240 to 48,0
arc cw from 48,157 to 143,111 rad 122
.PE

j.tsu           323885569   9     1     100666  113       `
.PS
line from 0,222 to 12,146
line from 68,229 to 78,160
line from 154,234 to 154,161
arc cw to 32,0 rad 167
.PE

j.u             323725379   9     1     100666  149       `
.PS
line from 77,240 to 77,184
line from 0,116 to 0, 160
arc cw to 24,184 rad 24
line to 130,184
arc cw to 154,160 rad 24
arc cw to 46,0 rad 148
.PE

j.wa            323886797   9     1     100666  137       `
.PS
line from 0,128 to 0,198
arc cw to 24,222 rad 24
line to 130,222
arc cw to 154,198 rad 24
line to 154,124
arc cw to 85,0 rad 146
.PE

j.wo            323886893   9     1     100666  127       `
.PS
line from 0,226 to 134,226
arc cw to 146,214 rad 12
line to 146,165
arc cw to 54,0 rad 195
line from 21,128 to 143,128
.PE

j.ya            323886415   9     1     100666  101       `
.PS
line from 0,184 to 124,184
arc cw to 143,130 rad 30
line to 116,105
line from 44,240 to 64,0
.PE

j.yo            323886530   9     1     100666  128       `
.PS
line from 6,209 to 126,209
arc cw to 150,185 rad 24
line to 150,12
line from 12,119 to 150,119
line from 0,12 to 150,12
.PE
j.yu            323960001   9     3     100666  99        `
.PS
line from 14,207 to 82,207
arc cw to 108,168 rad 28
line to 68,12
line from 0,12 to 154,12
.PE

pt.hartwell     368976557   9     1     100666  2524      `
.PS
boxwid=2.0i
psize=.06
.ps 9
#
define	memsect	X	box ht $3 $4 $5 $6 $7 $8 $9 ; \
			move to last box.nw ; \
			move left psize/2 then down psize*3/2 ; \
			$1 rjust ; \
			move to last box.sw ; \
			move left psize/2 then up psize ; \
			$2 rjust ; \
			move to last box.s ; \
			down ; \
		X
#
define	filler	X	box ht $1 $2 $3 $4 $5 $6 $7 $8 $9 ; \
			move to last box.s ; \
			down ; \
		X
#
define	bracket	X	move to $1.ne then down psize*2 ; \
			line <- right psize*5 ; \
			move to $2.se then up psize*2 ; \
			line <- right psize*5 ; \
			line from 2nd last line.r to last line.r ; \
			line right from last line.c ; \
			$3 ljust ; \
			move to $2.s ; \
			down ; \
		X
#
#
#
Traps:	memsect("0", "034", 0.4i, "Processor Traps")
	filler(0.25i)
	memsect("060-4", "", psize*3, "Console Interrupts")
	filler(0.25i)
	memsect("0100", "", psize*3, "60 Hz Line Clock")
EndT:	memsect("0104", "0776", 0.6i)
#
	bracket(Traps, EndT, " Low Core Vectors")
#
	move down 0.1i
Start:	memsect("01000", "", 0.25i, "start:")
	filler(0.75i, "main()", ".", ".", "goto start;")
	filler(0.35i, "user subroutines")
	filler(0.35i, "device drivers")
	filler(0.75i, "standard libraries")
	filler(0.75i, "initialized data", "and", "BSS data")
	filler(0.5i invis, "Available memory")
	line <- from last box.sw to last box.nw
	line <- from last box.se to last box.ne
	line <- from last box.s to last box.n
	move to last box.s
	move down 0.2i
EndS:	memsect("", "157776", 0.5i invis, "stack")
	line -> from last box.sw to last box.nw
	line -> from last box.se to last box.ne
	line <- from last box.n to last box.s
	line from last box.sw to last box.se
#
	bracket(Start, EndS, " Downloaded Program (Max 56Kb)")
#
	move down 0.1i
Devs:	memsect("160000", "", 0.5i)
	memsect("173000", "173776", 0.35i, "ROM Boot")
	filler(0.25i)
	memsect("177560-6", "", psize*3, "Console registers")
EndD:	memsect("", "177776", 0.5i)
#
	bracket(Devs, EndD, " Device Registers")
#
.PE
.PS
Locore:	box "Low Core" "Vectors"
	line -> right from Locore.e
DevDr:	box "Device" "Drivers"
	move to Locore.s
	move down
Init:	box "Initialize"
	line <- left from Init.w
Start:	circle "Start"
	move to Init.s
	line -> down
Main:	box ht 2*boxht "User" "Program"
	move to Main.ne then down Main.ht/8
	line <-> right
DevLib:	box "Device" "Libraries"
	move to DevLib.n
	line <-> to DevDr.s
	move to Main.se then up Main.ht/8
	line <-> right
Libs:	box "Standard" "Libraries"
	move to Main.s
	line -> down
Reset:	box "reset"
	line down then left Reset.x - Start.x
	line -> to Start.s
.PE
pt.ravi.2       368998681   9     1     100666  6395      `
.PS
# u = 40;
u = 40/200;
boxwid = 2*u; boxht = u;
ellipsewid = 2*u; ellipseht = u;
d = 6*u/5;
define test % line down u left u; line down u right u; line up u right u; line up u left u; %
down;
ellipse "$bi start$";
line down d/2;
P0:	"$\(bu$"; { move right u/2; "$p sub 0$"; }; line -> down d/2;
	box "$f$";
	line down d/2;
P1:	"$\(bu$"; { move left u/2; "$p sub 1$"; }; line -> down d/2;
B1:	test();
	move down u;
	"$b sub 1$";
	{	move left u;
		spline ->  from Here to Here + -2*u,0 to Here + -2*u,2*u+3*d/2 to P0.w;
	}
	move right u;
	spline ->  from Here to Here + 2*u,0 to Here + 2*u,-u-d/2;
P2:	"$\(bu$"; {move right u/2; "$p sub 2$";}
	line down d/2;
	box "$g$";
	line -> down d;
B2:	test();
	move down u;
	"$b sub 2$";
	{	move right u;
		spline ->  from Here to Here + 2*u,0 to Here + 2*u,3*d/2+5*u to P1.e;
	}
	move left u;
	spline ->  from Here to Here + -d,0 to Here + -d,-d;
	down;
	box "$h$";
	line down d/2; "$\(bu$"; { move right u/2; "$p sub 3$"; }; line -> down d/2;
B3:	test();
	move down u;
	"$b sub 3$";
	{	move left u;
		spline -> from Here to Here + -d,0 to Here + -d,7*d/2+4*u to P2.w;
	}
	move right u;
	spline ->  from Here to Here + d,0 to Here + d,-d;
	down;
	box "$bi out$";
.PE
.bp
.PS
.ps 9
.sp
u = 40;
u = 40/200
boxwid = 3*u; boxht = 2*u;
ellipsewid = 3*u; ellipseht = 2*u;
linewid = 2*u; lineht = 2*u;
movewid = 2*u; moveht = 2*u;
LA:	box "lexical" "analyzer"
	arrow
P:	box "parser," "graph" "builder"
	arrow
	box "reducer"
	arrow
	box "code" "generator"
	arrow
	ellipse "code"

	arrow <- from LA.n up
LX:	box "\f1LEX\fP"
	arrow <- from LX.w left

Tok:	ellipse "Ltok.r"
	move to Tok.n
	move up
Sem:	ellipse "Lsem.d"
	arrow -> from Sem.e right
D:	box "d2y"

	arrow -> right "Lsem.y" above
Y2:	box "\f1YACC\fP"
	arrow from Y2.s to P.n

	arrow <- from LA.w left
Prog:	ellipse "prog.L"
	move to Prog.e
	move right u down 2*u
LC:	Here
	line dotted right 15*u
	line dotted up 12*u
	line dotted left 15*u
	line dotted down 12*u
.PE
.bp
.PS
scale = 225;
x = 15/225; y = 3*x; z = 5*x;

define dr % move down x right x; line -> down y right y; move down x right x; %
define dl % move down x left x; line -> down y left y; move down x left x; %
define ur % move up x right x; line <- up y right y; move up x right x; %
define ul % move up x left x; line <- up y left y; move up x left x; %

move to Here + 5*z,z;
{
	"#b sub 1#";
	line -> from Here + 0,-x down y;
	"#b sub 2#" at Here + 0,-x;
	{
		dl;
		"#bi app#";
		{
			dr; "L1";
		}
		spline -> from Here + -x,-x to Here + -z,-z to Here + -2*z,2*z to Here + x-4*z,x+z;
	}
	spline -> from Here + x,-x to Here + z,-z to Here + z,x-2*z;
	move down x;
	"#b sub 3#";
	{
		dr; "fall";
	}
	{
		dl; "#bi app#";
		{
			dr; "L2";
		}
		spline -> from Here + -x,-x to Here + -z,-z to Here + -3*z,z to Here + -4*z,4*z to Here + x-5*z,x+3*z;
	}
}
.PE
.bp
.PS
scale = 225;
x = 15/225; y = 3*x; z = 5*x;

define dr % move down x right x; line -> down y right y; move down x right x; %
define dl % move down x left x; line -> down y left y; move down x left x; %
define ur % move up x right x; line <- up y right y; move up x right x; %
define ul % move up x left x; line <- up y left y; move up x left x; %

"e";
ur;
"e' #bi updl#";
{	line -> from Here + x,-x down y+z right y;
	"list" at Here + x,-x;
}
move to Here + 5*z,z;
{
	"#b sub 1#";
	line -> from Here + 0,-x down y;
	"#b sub 2#" at Here + 0,-x;
	{
		dl;
		"#bi app#";
		{
			dr; "L1";
		}
		spline -> from Here + -x,-x to Here + -z,-z to Here + -2*z,2*z to Here + x-4*z,x+z;
	}
	spline -> from Here + x,-x to Here + z,-z to Here + z,x-2*z;
	move down x;
	"#b sub 3#";
	{
		dr; "fall";
	}
	{
		dl; "#bi app#";
		{
			dr; "L2";
		}
		spline -> from Here + -x,-x to Here + -z,-z to Here + -3*z,z to Here + -4*z,4*z to Here + x-5*z,x+3*z;
	}
}

move up z;
"L1";
move up x right x;
line <- up y/2 right y/2;
"#\(bu#";
{
	spline -> from Here to Here + z/2,-z/2 to Here + -y/2,x-3*z/2;
}
line <- up z/2 right z/2;
"#\(bu#";
{
	line -> down z right z;
	"#\(bu#";
	{
		line -> down y/2 right y/2;
		move down x right x;
		"#bi nil#";
	}
	line down z/2 left z/2;
	"#\(bu#";
	{
		line -> down y/2 left y/2;
		move down x left x;
		"L2";
	}
	spline -> from Here to Here + z/2,-z/2 to Here + -z-y/2,x-3*z/2;
}

line dashed from Here + -x,0 to Here + x-8*z,0;
arc to Here + -x,-x rad x;
line dashed down 5*z-2*x;
arc to Here + x,-x rad x;
line dashed right y/2+2*z;
.PE
.bp
.PS
scale = 225;
x = 15/225; y = 3*x; z = 5*x;

define dr % move down x right x; line -> down y right y; move down x right x; %
define dl % move down x left x; line -> down y left y; move down x left x; %
define ur % move up x right x; line <- up y right y; move up x right x; %
define ul % move up x left x; line <- up y left y; move up x left x; %

"e";
ur;
"#bi upd#";
{
	line -> from Here + 0,-x down y right x;
	"L2" at Here + 0,-x;
}
{
	spline -> from Here + x,-x to Here + z,-z to Here + 2*z,-z to Here + 5*z,2*z to Here + 6*z-x,z+x;
}
ur;
"#bi upd#";
{
	line -> from Here + 0,-x down y right x;
	"L1" at Here + 0,-x;
}
{
	spline -> from Here + x,-x to Here + z,-z to Here + 4*z,2*z to Here +5*z-x,z+x;
}
move to Here + 5*z,z;
{
	"#b sub 1#";
	line -> from Here + 0,-x down y;
	"#b sub 2#" at Here + 0,-x;
	{
		dl;
		"#bi app#";
		{
			dr; "L1";
		}
		spline -> from Here + -x,-x to Here + -z,-z to Here + -2*z,2*z to Here + x-4*z,x+z;
	}
	spline -> from Here + x,-x to Here + z,-z to Here + z,x-2*z;
	move down x;
	"#b sub 3#";
	{
		dr; "fall";
	}
	{
		dl; "#bi app#";
		{
			dr; "L2";
		}
		spline -> from Here + -x,-x to Here + -z,-z to Here + -3*z,z to Here + -4*z,4*z to Here + x-5*z,x+3*z;
	}
}
.PE
.bp
.PS
scale = 225;
x = 15/225; y = 3*x; z = 5*x;

define dr % move down x right x; line -> down y right y; move down x right x; %
define dl % move down x left x; line -> down y left y; move down x left x; %
define ur % move up x right x; line <- up y right y; move up x right x; %
define ul % move up x left x; line <- up y left y; move up x left x; %

{
	"#b sub 1#";
	line -> from Here + 0,-x down y;
	"#b sub 2#" at Here + 0,-x;
	{
		spline -> from Here + -x,-x to Here + -z,-z to Here + -2*z,0 to Here + -2*z,z to Here + -z,2*z to Here + -x,z+x;
	}
	spline -> from Here + x,-x to Here + z,-z to Here + z,x-2*z;
	move down x;
	"#b sub 3#";
	{
		dr; "fall";
	}
	{
		spline -> from Here + -x,-x to Here + -z,-z to Here + -4*z,-z to Here + -4*z,3*z to Here + -2*z,3*z to Here + -x-z,x+2*z;
	}
}
.PE

