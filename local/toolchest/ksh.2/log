cd sh;CMD=/bin/make ARK=lib.a CC=cc ./makesh -f -devfd ksh; touch ksh
set -ex; if test  "" = "" ; then  cc -DKSHELL -DVSH -DESH -DJOBS -DBSD -DBSD_4_2       -DECHO_N -DVFORK -DDEVFD     -DSUID_EXEC -O  -c builtin.c ; else  cc -DKSHELL -DVSH -DESH -DJOBS -DBSD -DBSD_4_2       -DECHO_N -DVFORK -DDEVFD     -DSUID_EXEC -O  -c -b2,0 builtin.c ; fi
+ test  =  
+ cc -DKSHELL -DVSH -DESH -DJOBS -DBSD -DBSD_4_2 -DECHO_N -DVFORK -DDEVFD -DSUID_EXEC -O -c builtin.c 
cc -DKSHELL -DVSH -DESH -DJOBS -DBSD -DBSD_4_2       -DECHO_N -DVFORK -DDEVFD     -DSUID_EXEC -O  -c args.c
cc -DKSHELL -DVSH -DESH -DJOBS -DBSD -DBSD_4_2       -DECHO_N -DVFORK -DDEVFD     -DSUID_EXEC -O  -c blok.c
cc -DKSHELL -DVSH -DESH -DJOBS -DBSD -DBSD_4_2       -DECHO_N -DVFORK -DDEVFD     -DSUID_EXEC -O  -c cmd.c
set -ex; if test  "text" != "" ; then  cc -DKSHELL -DVSH -DESH -DJOBS -DBSD -DBSD_4_2       -DECHO_N -DVFORK -DDEVFD     -DSUID_EXEC -O -S -c ctype.c ; sed 's/^\([ 	]*\.*\)data/\1text/g' ctype.s > temp.s ; as -o ctype.o temp.s ; rm ctype.s temp.s ; else  cc -DKSHELL -DVSH -DESH -DJOBS -DBSD -DBSD_4_2       -DECHO_N -DVFORK -DDEVFD     -DSUID_EXEC -O  -c ctype.c ; fi
+ test text !=  
+ cc -DKSHELL -DVSH -DESH -DJOBS -DBSD -DBSD_4_2 -DECHO_N -DVFORK -DDEVFD -DSUID_EXEC -O -S -c ctype.c 
+ sed s/^\([ 	]*\.*\)data/\1text/g ctype.s 
+ as -o ctype.o temp.s 
+ rm ctype.s temp.s 
cc -DKSHELL -DVSH -DESH -DJOBS -DBSD -DBSD_4_2       -DECHO_N -DVFORK -DDEVFD     -DSUID_EXEC -O  -c defs.c
cc -DKSHELL -DVSH -DESH -DJOBS -DBSD -DBSD_4_2       -DECHO_N -DVFORK -DDEVFD     -DSUID_EXEC -O  -c echo.c
cc -DKSHELL -DVSH -DESH -DJOBS -DBSD -DBSD_4_2       -DECHO_N -DVFORK -DDEVFD     -DSUID_EXEC -O  -c error.c
cc -DKSHELL -DVSH -DESH -DJOBS -DBSD -DBSD_4_2       -DECHO_N -DVFORK -DDEVFD     -DSUID_EXEC -O  -c expand.c
cc -DKSHELL -DVSH -DESH -DJOBS -DBSD -DBSD_4_2       -DECHO_N -DVFORK -DDEVFD     -DSUID_EXEC -O  -c fault.c
cc -DKSHELL -DVSH -DESH -DJOBS -DBSD -DBSD_4_2       -DECHO_N -DVFORK -DDEVFD     -DSUID_EXEC -O  -c history.c
cc -DKSHELL -DVSH -DESH -DJOBS -DBSD -DBSD_4_2       -DECHO_N -DVFORK -DDEVFD     -DSUID_EXEC -O  -c io.c
cc -DKSHELL -DVSH -DESH -DJOBS -DBSD -DBSD_4_2       -DECHO_N -DVFORK -DDEVFD     -DSUID_EXEC -O  -c macro.c
cc -DKSHELL -DVSH -DESH -DJOBS -DBSD -DBSD_4_2       -DECHO_N -DVFORK -DDEVFD     -DSUID_EXEC -O  -c main.c
/usr/include/sys/param.h: 9: BSD redefined
set -ex; if test  "text" != "" ; then  cc -DKSHELL -DVSH -DESH -DJOBS -DBSD -DBSD_4_2       -DECHO_N -DVFORK -DDEVFD     -DSUID_EXEC -O -S -c msg.c ; sed 's/^\([ 	]*\.*\)data/\1text/g' msg.s > temp.s ; as -o msg.o temp.s ; rm msg.s temp.s ; else  cc -DKSHELL -DVSH -DESH -DJOBS -DBSD -DBSD_4_2       -DECHO_N -DVFORK -DDEVFD     -DSUID_EXEC -O  -c msg.c ; fi
+ test text !=  
+ cc -DKSHELL -DVSH -DESH -DJOBS -DBSD -DBSD_4_2 -DECHO_N -DVFORK -DDEVFD -DSUID_EXEC -O -S -c msg.c 
+ sed s/^\([ 	]*\.*\)data/\1text/g msg.s 
+ as -o msg.o temp.s 
+ rm msg.s temp.s 
cc -DKSHELL -DVSH -DESH -DJOBS -DBSD -DBSD_4_2       -DECHO_N -DVFORK -DDEVFD     -DSUID_EXEC -O  -c name.c
cc -DKSHELL -DVSH -DESH -DJOBS -DBSD -DBSD_4_2       -DECHO_N -DVFORK -DDEVFD     -DSUID_EXEC -O  -c print.c
set -ex; if test  "X" = "X" ; then  cc -DKSHELL -DVSH -DESH -DJOBS -DBSD -DBSD_4_2       -DECHO_N -DVFORK -DDEVFD     -DSUID_EXEC -O  -c service.c ; else  cc -DKSHELL -DVSH -DESH -DJOBS -DBSD -DBSD_4_2       -DECHO_N -DVFORK -DDEVFD     -DSUID_EXEC -O  -c  -I/usr/src/cmd/acct service.c ; fi
+ test X = X 
+ cc -DKSHELL -DVSH -DESH -DJOBS -DBSD -DBSD_4_2 -DECHO_N -DVFORK -DDEVFD -DSUID_EXEC -O -c service.c 
cc -DKSHELL -DVSH -DESH -DJOBS -DBSD -DBSD_4_2       -DECHO_N -DVFORK -DDEVFD     -DSUID_EXEC -O  -c string.c
cc -DKSHELL -DVSH -DESH -DJOBS -DBSD -DBSD_4_2       -DECHO_N -DVFORK -DDEVFD     -DSUID_EXEC -O  -c stak.c
cc -DKSHELL -DVSH -DESH -DJOBS -DBSD -DBSD_4_2       -DECHO_N -DVFORK -DDEVFD     -DSUID_EXEC -O  -c test.c
set -ex; if test  "" = "" ; then  cc -DKSHELL -DVSH -DESH -DJOBS -DBSD -DBSD_4_2       -DECHO_N -DVFORK -DDEVFD     -DSUID_EXEC -O  -c xec.c ; else  cc -DKSHELL -DVSH -DESH -DJOBS -DBSD -DBSD_4_2       -DECHO_N -DVFORK -DDEVFD     -DSUID_EXEC -O  -c -b1,0 xec.c ; fi
+ test  =  
+ cc -DKSHELL -DVSH -DESH -DJOBS -DBSD -DBSD_4_2 -DECHO_N -DVFORK -DDEVFD -DSUID_EXEC -O -c xec.c 
cc -DKSHELL -DVSH -DESH -DJOBS -DBSD -DBSD_4_2       -DECHO_N -DVFORK -DDEVFD     -DSUID_EXEC -O  -c word.c
cc -DKSHELL -DVSH -DESH -DJOBS -DBSD -DBSD_4_2       -DECHO_N -DVFORK -DDEVFD     -DSUID_EXEC -O  -c edit.c
set -ex; if test  "" = "" ; then  cc -DKSHELL -DVSH -DESH -DJOBS -DBSD -DBSD_4_2       -DECHO_N -DVFORK -DDEVFD     -DSUID_EXEC -O  -c emacs.c ; else  cc -DKSHELL -DVSH -DESH -DJOBS -DBSD -DBSD_4_2       -DECHO_N -DVFORK -DDEVFD     -DSUID_EXEC -O  -c  -b2,0 emacs.c ; fi
+ test  =  
+ cc -DKSHELL -DVSH -DESH -DJOBS -DBSD -DBSD_4_2 -DECHO_N -DVFORK -DDEVFD -DSUID_EXEC -O -c emacs.c 
cc -DKSHELL -DVSH -DESH -DJOBS -DBSD -DBSD_4_2       -DECHO_N -DVFORK -DDEVFD     -DSUID_EXEC -O  -c vi.c
cc -DKSHELL -DVSH -DESH -DJOBS -DBSD -DBSD_4_2       -DECHO_N -DVFORK -DDEVFD     -DSUID_EXEC -O  -c vfork.c
cc -DKSHELL -DVSH -DESH -DJOBS -DBSD -DBSD_4_2       -DECHO_N -DVFORK -DDEVFD     -DSUID_EXEC -O  -c jobs.c
cc -DKSHELL -DVSH -DESH -DJOBS -DBSD -DBSD_4_2       -DECHO_N -DVFORK -DDEVFD     -DSUID_EXEC -z -o ./ksh builtin.o  args.o  blok.o  cmd.o  ctype.o  defs.o  echo.o  error.o  expand.o fault.o  history.o io.o  macro.o  main.o  msg.o  name.o  print.o  service.o  string.o  stak.o  test.o  xec.o  word.o  edit.o  emacs.o  vi.o  vfork.o  jobs.o   ../shlib/lib.a  ../shlib/lib.a 
file ./ksh
./ksh:	demand paged pure executable not stripped
size ./ksh
text	data	bss	dec	hex
94208	3072	4008	101288	18ba8
cc -DKSHELL -DVSH -DESH -DJOBS -DBSD -DBSD_4_2       -DECHO_N -DVFORK -DDEVFD     -DSUID_EXEC -O  -c suid_exec.c
/usr/include/sys/param.h: 9: BSD redefined
cc -DKSHELL -DVSH -DESH -DJOBS -DBSD -DBSD_4_2       -DECHO_N -DVFORK -DDEVFD     -DSUID_EXEC -z -o ./suid_exec suid_exec.o
strip suid_exec
ln suid_exec ..
../suid_exec: File exists
*** Exit 1 (ignored)
rm -f ksh
ln sh/ksh ksh
cd sh;CMD=/bin/make ARK=lib.a CC=cc ./makesh -f -devfd ksh; touch ksh
set -ex; if test  "" = "" ; then  cc -DKSHELL -DVSH -DESH -DJOBS -DBSD -DBSD_4_2       -DECHO_N -DVFORK -DDEVFD     -DSUID_EXEC -O  -c builtin.c ; else  cc -DKSHELL -DVSH -DESH -DJOBS -DBSD -DBSD_4_2       -DECHO_N -DVFORK -DDEVFD     -DSUID_EXEC -O  -c -b2,0 builtin.c ; fi
+ test  =  
+ cc -DKSHELL -DVSH -DESH -DJOBS -DBSD -DBSD_4_2 -DECHO_N -DVFORK -DDEVFD -DSUID_EXEC -O -c builtin.c 
cc -DKSHELL -DVSH -DESH -DJOBS -DBSD -DBSD_4_2       -DECHO_N -DVFORK -DDEVFD     -DSUID_EXEC -O  -c args.c
cc -DKSHELL -DVSH -DESH -DJOBS -DBSD -DBSD_4_2       -DECHO_N -DVFORK -DDEVFD     -DSUID_EXEC -O  -c blok.c
cc -DKSHELL -DVSH -DESH -DJOBS -DBSD -DBSD_4_2       -DECHO_N -DVFORK -DDEVFD     -DSUID_EXEC -O  -c cmd.c
set -ex; if test  "text" != "" ; then  cc -DKSHELL -DVSH -DESH -DJOBS -DBSD -DBSD_4_2       -DECHO_N -DVFORK -DDEVFD     -DSUID_EXEC -O -S -c ctype.c ; sed 's/^\([ 	]*\.*\)data/\1text/g' ctype.s > temp.s ; as -o ctype.o temp.s ; rm ctype.s temp.s ; else  cc -DKSHELL -DVSH -DESH -DJOBS -DBSD -DBSD_4_2       -DECHO_N -DVFORK -DDEVFD     -DSUID_EXEC -O  -c ctype.c ; fi
+ test text !=  
+ cc -DKSHELL -DVSH -DESH -DJOBS -DBSD -DBSD_4_2 -DECHO_N -DVFORK -DDEVFD -DSUID_EXEC -O -S -c ctype.c 
+ sed s/^\([ 	]*\.*\)data/\1text/g ctype.s 
+ as -o ctype.o temp.s 
+ rm ctype.s temp.s 
cc -DKSHELL -DVSH -DESH -DJOBS -DBSD -DBSD_4_2       -DECHO_N -DVFORK -DDEVFD     -DSUID_EXEC -O  -c defs.c
cc -DKSHELL -DVSH -DESH -DJOBS -DBSD -DBSD_4_2       -DECHO_N -DVFORK -DDEVFD     -DSUID_EXEC -O  -c echo.c
cc -DKSHELL -DVSH -DESH -DJOBS -DBSD -DBSD_4_2       -DECHO_N -DVFORK -DDEVFD     -DSUID_EXEC -O  -c error.c
cc -DKSHELL -DVSH -DESH -DJOBS -DBSD -DBSD_4_2       -DECHO_N -DVFORK -DDEVFD     -DSUID_EXEC -O  -c expand.c
cc -DKSHELL -DVSH -DESH -DJOBS -DBSD -DBSD_4_2       -DECHO_N -DVFORK -DDEVFD     -DSUID_EXEC -O  -c fault.c
cc -DKSHELL -DVSH -DESH -DJOBS -DBSD -DBSD_4_2       -DECHO_N -DVFORK -DDEVFD     -DSUID_EXEC -O  -c history.c
cc -DKSHELL -DVSH -DESH -DJOBS -DBSD -DBSD_4_2       -DECHO_N -DVFORK -DDEVFD     -DSUID_EXEC -O  -c io.c
cc -DKSHELL -DVSH -DESH -DJOBS -DBSD -DBSD_4_2       -DECHO_N -DVFORK -DDEVFD     -DSUID_EXEC -O  -c macro.c
cc -DKSHELL -DVSH -DESH -DJOBS -DBSD -DBSD_4_2       -DECHO_N -DVFORK -DDEVFD     -DSUID_EXEC -O  -c main.c
/usr/include/sys/param.h: 9: BSD redefined
set -ex; if test  "text" != "" ; then  cc -DKSHELL -DVSH -DESH -DJOBS -DBSD -DBSD_4_2       -DECHO_N -DVFORK -DDEVFD     -DSUID_EXEC -O -S -c msg.c ; sed 's/^\([ 	]*\.*\)data/\1text/g' msg.s > temp.s ; as -o msg.o temp.s ; rm msg.s temp.s ; else  cc -DKSHELL -DVSH -DESH -DJOBS -DBSD -DBSD_4_2       -DECHO_N -DVFORK -DDEVFD     -DSUID_EXEC -O  -c msg.c ; fi
+ test text !=  
+ cc -DKSHELL -DVSH -DESH -DJOBS -DBSD -DBSD_4_2 -DECHO_N -DVFORK -DDEVFD -DSUID_EXEC -O -S -c msg.c 
+ sed s/^\([ 	]*\.*\)data/\1text/g msg.s 
+ as -o msg.o temp.s 
+ rm msg.s temp.s 
cc -DKSHELL -DVSH -DESH -DJOBS -DBSD -DBSD_4_2       -DECHO_N -DVFORK -DDEVFD     -DSUID_EXEC -O  -c name.c
cc -DKSHELL -DVSH -DESH -DJOBS -DBSD -DBSD_4_2       -DECHO_N -DVFORK -DDEVFD     -DSUID_EXEC -O  -c print.c
set -ex; if test  "X" = "X" ; then  cc -DKSHELL -DVSH -DESH -DJOBS -DBSD -DBSD_4_2       -DECHO_N -DVFORK -DDEVFD     -DSUID_EXEC -O  -c service.c ; else  cc -DKSHELL -DVSH -DESH -DJOBS -DBSD -DBSD_4_2       -DECHO_N -DVFORK -DDEVFD     -DSUID_EXEC -O  -c  -I/usr/src/cmd/acct service.c ; fi
+ test X = X 
+ cc -DKSHELL -DVSH -DESH -DJOBS -DBSD -DBSD_4_2 -DECHO_N -DVFORK -DDEVFD -DSUID_EXEC -O -c service.c 
cc -DKSHELL -DVSH -DESH -DJOBS -DBSD -DBSD_4_2       -DECHO_N -DVFORK -DDEVFD     -DSUID_EXEC -O  -c string.c
cc -DKSHELL -DVSH -DESH -DJOBS -DBSD -DBSD_4_2       -DECHO_N -DVFORK -DDEVFD     -DSUID_EXEC -O  -c stak.c
cc -DKSHELL -DVSH -DESH -DJOBS -DBSD -DBSD_4_2       -DECHO_N -DVFORK -DDEVFD     -DSUID_EXEC -O  -c test.c
set -ex; if test  "" = "" ; then  cc -DKSHELL -DVSH -DESH -DJOBS -DBSD -DBSD_4_2       -DECHO_N -DVFORK -DDEVFD     -DSUID_EXEC -O  -c xec.c ; else  cc -DKSHELL -DVSH -DESH -DJOBS -DBSD -DBSD_4_2       -DECHO_N -DVFORK -DDEVFD     -DSUID_EXEC -O  -c -b1,0 xec.c ; fi
+ test  =  
+ cc -DKSHELL -DVSH -DESH -DJOBS -DBSD -DBSD_4_2 -DECHO_N -DVFORK -DDEVFD -DSUID_EXEC -O -c xec.c 
cc -DKSHELL -DVSH -DESH -DJOBS -DBSD -DBSD_4_2       -DECHO_N -DVFORK -DDEVFD     -DSUID_EXEC -O  -c word.c
cc -DKSHELL -DVSH -DESH -DJOBS -DBSD -DBSD_4_2       -DECHO_N -DVFORK -DDEVFD     -DSUID_EXEC -O  -c edit.c
set -ex; if test  "" = "" ; then  cc -DKSHELL -DVSH -DESH -DJOBS -DBSD -DBSD_4_2       -DECHO_N -DVFORK -DDEVFD     -DSUID_EXEC -O  -c emacs.c ; else  cc -DKSHELL -DVSH -DESH -DJOBS -DBSD -DBSD_4_2       -DECHO_N -DVFORK -DDEVFD     -DSUID_EXEC -O  -c  -b2,0 emacs.c ; fi
+ test  =  
+ cc -DKSHELL -DVSH -DESH -DJOBS -DBSD -DBSD_4_2 -DECHO_N -DVFORK -DDEVFD -DSUID_EXEC -O -c emacs.c 
cc -DKSHELL -DVSH -DESH -DJOBS -DBSD -DBSD_4_2       -DECHO_N -DVFORK -DDEVFD     -DSUID_EXEC -O  -c vi.c
cc -DKSHELL -DVSH -DESH -DJOBS -DBSD -DBSD_4_2       -DECHO_N -DVFORK -DDEVFD     -DSUID_EXEC -O  -c vfork.c
cc -DKSHELL -DVSH -DESH -DJOBS -DBSD -DBSD_4_2       -DECHO_N -DVFORK -DDEVFD     -DSUID_EXEC -O  -c jobs.c
"jobs.c", line 153: NTTYDISC undefined
"jobs.c", line 153: OTTYDISC undefined
"jobs.c", line 262: OTTYDISC undefined
*** Exit 1

Stop.
*** Exit 1

Stop.
cd sh;CMD=/bin/make ARK=lib.a CC=cc ./makesh -f -devfd ksh; touch ksh
cc -DKSHELL -DVSH -DESH -DJOBS -DBSD -DBSD_4_2       -DECHO_N -DVFORK -DDEVFD     -DSUID_EXEC -O  -c jobs.c
cc -DKSHELL -DVSH -DESH -DJOBS -DBSD -DBSD_4_2       -DECHO_N -DVFORK -DDEVFD     -DSUID_EXEC -z -o ./ksh builtin.o  args.o  blok.o  cmd.o  ctype.o  defs.o  echo.o  error.o  expand.o fault.o  history.o io.o  macro.o  main.o  msg.o  name.o  print.o  service.o  string.o  stak.o  test.o  xec.o  word.o  edit.o  emacs.o  vi.o  vfork.o  jobs.o   ../shlib/lib.a  ../shlib/lib.a  -lcompat
file ./ksh
./ksh:	demand paged pure executable not stripped
size ./ksh
text	data	bss	dec	hex
94208	3072	4072	101352	18be8
cc -DKSHELL -DVSH -DESH -DJOBS -DBSD -DBSD_4_2       -DECHO_N -DVFORK -DDEVFD     -DSUID_EXEC -O  -c suid_exec.c
/usr/include/sys/param.h: 9: BSD redefined
cc -DKSHELL -DVSH -DESH -DJOBS -DBSD -DBSD_4_2       -DECHO_N -DVFORK -DDEVFD     -DSUID_EXEC -z -o ./suid_exec suid_exec.o
strip suid_exec
ln suid_exec ..
../suid_exec: File exists
*** Exit 1 (ignored)
rm -f ksh
ln sh/ksh ksh
