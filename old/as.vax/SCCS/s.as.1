h65026
s 00028/00032/00090
d D 6.6 91/08/09 18:01:34 cael 9 7
c mdoc version three
e
s 00000/00115/00007
d R 6.6 91/08/09 17:58:58 cael 8 7
c mdoc version three
e
s 00005/00006/00117
d D 6.5 90/07/24 22:40:50 cael 7 6
c .Xr botch fix
e
s 00098/00084/00025
d D 6.4 90/06/11 05:52:53 cael 6 5
c converted man page
e
s 00001/00001/00108
d D 6.3 86/05/08 15:23:29 anne 5 4
c spelling
e
s 00010/00000/00099
d D 6.2 86/05/05 15:24:58 mckusick 4 3
c add -a flag
e
s 00001/00001/00098
d D 6.1 85/04/29 18:07:56 mckusick 3 2
c 4.3BSD beta release manual page
e
s 00006/00005/00093
d D 5.1 85/04/29 18:07:13 mckusick 2 1
c manual page distributed with 4.2BSD
e
s 00098/00000/00000
d D 4.1 85/04/29 18:06:25 mckusick 1 0
c manual page distributed with 4.1BSD
e
u
U
t
T
I 1
D 6
.\" Copyright (c) 1980 Regents of the University of California.
.\" All rights reserved.  The Berkeley software License Agreement
.\" specifies the terms and conditions for redistribution.
E 6
I 6
.\" Copyright (c) 1980, 1990 The Regents of the University of California.
.\" All rights reserved.
E 6
.\"
D 6
.\"	%W% (Berkeley) %G%
E 6
I 6
.\" %sccs.include.redist.man%
E 6
.\"
D 2
.TH AS 1 "4/1/81"
E 2
I 2
D 3
.TH AS 1 "July 1, 1983"
E 3
I 3
D 6
.TH AS 1 "%Q%"
E 3
E 2
.UC 4
.SH NAME
D 2
as \- assembler
E 2
I 2
as \- VAX-11 assembler
E 2
.SH SYNOPSIS
.B as
[
I 4
.B \-a1-16
] [
[
E 4
.B \-d124
] [
.B \-L
] [
.B \-W
] [
.B \-V
] [
.B \-J
] [
.B \-R
] [
.B \-t
directory
] [
.B \-o
objfile ] [ name ... ]
.SH DESCRIPTION
.I As
assembles the named files, or the standard input if no file name is specified.
The available flags are:
I 4
.TP
.B \-a
Specifies the alignment of procedures and data blocks.
E 6
I 6
.\"     %W% (Berkeley) %G%
.\"
.Dd %Q%
.Dt AS 1
.Os BSD 4
.Sh NAME
.Nm as
.Nd VAX-11 assembler
.Sh SYNOPSIS
.Nm as
.Op Fl \&a Ar val
.Op Fl \&d Ar bytes
.Op Fl \&L
.Op Fl \&W
.Op Fl \&V
.Op Fl \&J
.Op Fl \&R
.Op Fl \&t Ar directory
.Op Fl \&o Ar outfile
D 7
.Op Ar source_file(s)
E 7
I 7
.Op Ar source_file ...
E 7
.Sh DESCRIPTION
The
.Nm as
assembler produces an object file from the given source files
or from the standard input.
D 9
.Tp Fl a
E 9
I 9
.Bl -tag -width flag
.It Fl a
E 9
Specifies the alignment
.Ar value
of procedures and data blocks.
E 6
It is given as a power of two; thus an alignment of 3
D 5
causes alignment on an eight byte boundry.
E 5
I 5
causes alignment on an eight byte boundary.
E 5
The default is
D 6
.B \-a2.
E 4
.TP
.B \-d
Specifies the number of bytes to be assembled for offsets
which involve forward or external references, and which have sizes unspecified
in the assembly language.
The default is 
.B \-d4.
.TP
.B \-L
Save defined labels beginning with a `L', which are normally discarded
E 6
I 6
D 9
.Cx Fl a
.Li 2
.Cx ,
.Cx
E 9
I 9
.Fl a Ns Li 2 , 
E 9
the minumum value is
.Li 1 ,
the maximum value
.Li 16 .
D 9
.Tp Fl d
E 9
I 9
.It Fl d
E 9
Displacement offset in bytes for displacement values
not defined in the first pass or unspecified in the assembly language.
Possible values are
.Li 1 , 2 ,
or
.Li 4 .
The default is
D 9
.Cx Fl d
.Li 4
.Cx ,
.Cx
E 9
I 9
.Fl d Ns Li 4 , 
E 9
if
.Fl d
is not given.
D 9
.Tp Fl L
E 9
I 9
.It Fl L
E 9
Save defined labels beginning with a
\*(LqL\*(Rq, which are normally discarded
E 6
to save space in the resultant symbol table.
The compilers generate such temporary labels.
D 6
.TP
.B \-V
E 6
I 6
D 9
.Tp Fl V
E 9
I 9
.It Fl V
E 9
E 6
D 2
Use virtual memory for intermediate storage, rather than a temporary file.
E 2
I 2
Use virtual memory for some intermediate storage,
rather than a temporary file.
E 2
D 6
.TP
.B \-W
E 6
I 6
D 9
.Tp Fl W
E 9
I 9
.It Fl W
E 9
E 6
Do not complain about errors.
D 6
.TP
.B \-J
E 6
I 6
D 9
.Tp Fl J
E 9
I 9
.It Fl J
E 9
E 6
Use long branches to resolve jumps when byte-displacement branches are
insufficient.  This must be used when a compiler-generated assembly contains
branches of more than 32k bytes.
D 6
.TP
.B \-R
E 6
I 6
D 9
.Tp Fl R
E 9
I 9
.It Fl R
E 9
E 6
Make initialized data segments read-only, by concatenating them to
the text segments.
This obviates the need to run editor scripts on assembly
code to make initialized data read-only and shared.
D 6
.TP
.B \-t
E 6
I 6
D 9
.Tp Fl t
E 9
I 9
.It Fl t
E 9
E 6
Specifies a directory to receive the temporary file, other than
the default /tmp.
D 6
.PP
All undefined symbols in the assembly
are treated as global.
.PP
The output of the assembly is left on the file
.I objfile;
if that is omitted,
.I a.out
is used.
.SH FILES
.ta 1.5i
D 2
/tmp/as\(**	default temporary file
E 2
I 2
/tmp/as\(**	default temporary files
E 2
.br
a.out		default resultant object file
.SH "SEE ALSO"
ld(1),
nm(1),
adb(1),
D 2
sdb(1),
E 2
I 2
dbx(1),
E 2
a.out(5)
.br
E 6
I 6
D 9
.Tp
E 9
I 9
.El
E 9
.Pp
Symbols remaining undefined upon completion are assumed global
.Pp
Output is either placed in
.Ar outfile,
if given, or sent
placed in
.Pa a.out .
.Sh FILES
D 9
.Dw /tmp/as*
.Di L
.Dp Pa tmp/as\(**
default temporary files
.Dp Pa a.out
default resultant object file
.Dp
E 9
I 9
.Bl -tag -width /tmp/as* -compact
.It Pa tmp/as\(**
Default temporary files.
.It Pa a.out
Default resultant object file.
.El
E 9
.Sh SEE ALSO
.Xr a.out 5 ,
.Xr adb 1 ,
.Xr dbx 1 ,
.Xr ld 1 ,
.Xr nm 1
D 9
.Pp
E 6
Auxiliary documentation
D 6
.I Assembler Reference Manual.
.SH AUTHORS
E 6
I 6
.Em Assembler Reference Manual .
E 9
I 9
.Rs
.%T "Assembler Reference Manual" .
.Re
E 9
.Sh AUTHORS
E 6
John F. Reiser
D 9
.br
E 9
Robert R. Henry
D 6
.SH BUGS
.B \-J
E 6
I 6
.Sh HISTORY
D 7
The
E 7
D 9
.Nm As
D 7
appeared as a PDP11
assembler in Version 6 AT&T UNIX.  It has been hacked a bit
at various times to accomodate different DEC hardware, including this
VAX version.
E 7
I 7
appeared
in Version 6 AT&T UNIX.  The version decsribed here is derived from
Version 7 AT&T
E 9
I 9
An
.Nm as
command appeared in
.At v6 .
The version described here is derived from the
.At v7
E 9
.Nm as .
E 7
.Sh BUGS
I 9
The flag
E 9
.Fl J
E 6
should be eliminated; the assembler should automatically choose among
byte, word and long branches.
E 1
