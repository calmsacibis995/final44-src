h03003
s 00363/00183/00123
d D 6.5 91/05/10 13:32:06 cael 5 4
c mdoc version three
e
s 00001/00011/00305
d D 6.4 90/06/23 18:08:32 trent 4 3
c new copyright notice
e
s 00017/00003/00299
d D 6.3 88/10/19 09:45:08 bostic 3 2
c add Berkeley specific copyrights
e
s 00005/00001/00297
d D 6.2 88/05/04 15:37:29 bostic 2 1
c update from Keith Muller
e
s 00298/00000/00000
d D 6.1 87/05/01 17:33:09 mckusick 1 0
c from CCI
e
u
U
t
T
I 1
D 3
.\" Copyright (c) 1987 Regents of the University of California.
.\" All rights reserved.  The Berkeley software License Agreement
.\" specifies the terms and conditions for redistribution.
E 3
I 3
D 5
.\" Copyright (c) 1987 The Regents of the University of California.
E 5
I 5
.\" Copyright (c) 1987, 1991 The Regents of the University of California.
E 5
.\" All rights reserved.
.\"
.\" This code is derived from software contributed to Berkeley by
.\" Computer Consoles Inc.
.\"
D 4
.\" Redistribution and use in source and binary forms are permitted
.\" provided that the above copyright notice and this paragraph are
.\" duplicated in all such forms and that any documentation,
.\" advertising materials, and other materials related to such
.\" distribution and use acknowledge that the software was developed
.\" by the University of California, Berkeley.  The name of the
.\" University may not be used to endorse or promote products derived
.\" from this software without specific prior written permission.
.\" THIS SOFTWARE IS PROVIDED ``AS IS'' AND WITHOUT ANY EXPRESS OR
.\" IMPLIED WARRANTIES, INCLUDING, WITHOUT LIMITATION, THE IMPLIED
.\" WARRANTIES OF MERCHANTIBILITY AND FITNESS FOR A PARTICULAR PURPOSE.
E 4
I 4
D 5
.\" %sccs.include.redist.man%
E 5
I 5
.\"	%sccs.include.redist.roff%
E 5
E 4
E 3
.\"
D 5
.\"	%W% (Berkeley) %G%
E 5
I 5
.\"     %W% (Berkeley) %G%
E 5
.\"
D 5
.TH MPCCTAB 4 "%Q%"
.UC 7
.SH NAME
mpcctab \- MPCC configuration file
.SH DESCRIPTION
The file \fBmpcctab\fR is used to configure CCI's Multi-Protocol 
Communication Controller (MPCC).
E 5
I 5
.Dd %Q%
.Dt MPCCTAB 4
.Os
.Sh NAME
.Nm mpcctab
.Nd
.Tn MPCC
configuration file
.Sh DESCRIPTION
The
.Tn ASCII
file
.Nm mpcctab
is used to configure
.Tn CCI Ns 's
Multi-Protocol 
Communication Controller
.Pq Tn MPCC . 
E 5
The controller provides high-speed
D 5
synchronous communications for the \s-1POWER 6\s+1 family
E 5
I 5
synchronous communications for the
.Tn POWER
family
E 5
of computers.
D 5
This file determines the MPCC board 
E 5
I 5
This file determines the
.Tn MPCC
board 
E 5
configurations. You can download either a synchronous , bisync or
D 5
an asynchronous protocol to an MPCC board.
See \fIdlmpcc\fR(8)
for details.
.LP
A \fBmpcctab\fR file is supplied
with each MPCC release; however, 
you can modify this file or create your own file 
by using one of the \s-1UNIX\s+1 text editors.
.LP
E 5
I 5
an asynchronous protocol to an
.Tn MPCC
board.
(See
.Xr dlmpcc 8
for details.)
.Pp
A
.Nm mpcctab
file is supplied
with each
.Tn MPCC
release; however, 
you can modify this file or create your own file.
.Pp
E 5
The contents of the file 
consists of entries that describe supported communication 
protocols and their unique attributes. The protocols supported are
D 5
X.25, SNA,  ASYNC, and BISYNC.
For ASYNC two different entries are possible in the 
\fIprocol\fR field - if 16 port MPCC async is configured, then ASYNC is 
entered; 32 port MPCC async is specified by entering 32PORT.
E 5
I 5
.Tn X Ns \&.25 ,
.Tn SNA ,
.Tn ASYNC ,
and
.Tn BISYNC .
For
.Tn ASYNC
two different entries are possible in the 
.Em procol
field - if 16 port
.Tn MPCC
async is configured, then
.Tn ASYNC
is 
entered; 32 port
.Tn MPCC
async is specified by entering
.Pf \&32 Tn PORT .
E 5
This file must reside in the directory
D 5
\fB/etc/mpcc\fR. 
.SH Entry Line Format
An entry line consists of an \fIitem identifier\fR followed by 
E 5
I 5
.Pa /usr/libdata .
.Sh Entry Line Format
An entry line consists of an
.Em item identifier
followed by 
E 5
variable width arguments separated by colons. There are three 
D 5
item identifiers: MPCC, PROTOCOL, PORT. The MPCC line in this file
identifies the board number. The PROTOCOL line identifies
E 5
I 5
item identifiers:
.Tn MPCC , 
.Tn PROTOCOL ,
.Tn PORT .
The
.Tn MPCC
line in this file
identifies the board number. The
.Tn PROTOCOL
line identifies
E 5
the specific communication protocol.
D 5
The PORT line describes
E 5
I 5
The
.Tn PORT
line describes
E 5
the port for the immediately preceding protocol. The number
D 5
of arguments  for the PROTOCOL and PORT lines,
E 5
I 5
of arguments for the
.Tn PROTOCOL
and
.Tn PORT
lines,
E 5
and the arguments themselves, 
are protocol dependent. See the individual
argument descriptions for details.
D 5
.LP
E 5
I 5
.Pp
E 5
Notes: Use upper case letters for clarity when specifying the item 
identifier and the protocol name. Make sure that you enter
the argument values in the order specified below. Also, use comments 
liberally, and indicate comment lines by placing a 
D 5
pound sign (\fB#\fR) in column one. 
.LP
E 5
I 5
pound sign
.Pq Sy #
in column one. 
.Pp
E 5
The item identifiers and their corresponding line
formats, with valid argument values, follow:
D 5
.LP
\fBMPCC Line\fR
.LP
E 5
I 5
.Pp
.Sy MPCC Line
.Pp
E 5
Format:
D 5
.RS
.LP
\fBMPCC:\fIbdno\fB:\fR[\fBFCCS,\fIportno\fR\fB,\fItimer\fR]\fB:\fR[\fBSOC,\fIportno\fR]
.RE 
.LP 
E 5
I 5
.Bd -filled -offset indent
.Sm off
.Xo
.Sy MPCC: Em bdno Sy \&:
.Op Sy FCCS, Em portno , timer
.Sy \&:
.Op Sy SOC , Em portno
.Xc
.Sm on
.Ed
.Pp 
E 5
Argument Explanations: 
D 5
.RS
.IP \fIbdno\fR 8
E 5
I 5
.Bl -tag -width indent -offset indent
.It Em bdno 
E 5
Specifies the board number.
D 5
.IP \fBFCCS\fR 8
FCCS is a fault-tolerant support system that allows backup ports
E 5
I 5
.It Sy FCCS 
.Tn FCCS
is a fault-tolerant support system that allows backup ports
E 5
to assume the functions of failed ports.
For example,
if port 0 fails for any reason,
another port may be configured to assume the duties of the failed port.
D 5
The keyword \fBFCCS\fR identifies this feature and must be
E 5
I 5
The keyword
.Sy FCCS
identifies this feature and must be
E 5
followed by the list of fail-safe port numbers and a time increment,
described below.
This feature is optional.
D 5
.IP \fBSOC\fR 8
An FCCS port can also be an SOC (Switch On Close) port,
E 5
I 5
.It Sy SOC 
An
.Tn FCCS
port can also be an
.Tn SOC
(Switch On Close) port,
E 5
meaning that the port will switch when it is closed.
D 5
And as with FCCS, the port will switch if it fails.
E 5
I 5
And as with
.Tn FCCS ,
the port will switch if it fails.
E 5
This feature is optional.
D 5
.IP \fIportno\fR 8
Portno is a list of port numbers,
E 5
I 5
.It Em portno 
.Em Portno
is a list of port numbers,
E 5
separated by commas,
specifying the primary ports you want protected by backup ports.
D 5
FCCS boards have either 4 primary and 4 backup ports,
E 5
I 5
.Tn FCCS
boards have either 4 primary and 4 backup ports,
E 5
or 8 primary and 8 backup ports.
The valid port numbers are
D 5
.B 0
E 5
I 5
.Sy 0
E 5
through
D 5
.B 3
E 5
I 5
.Sy 3
E 5
for the 4-port version,
and
D 5
.B 0
E 5
I 5
.Sy 0
E 5
through
D 5
.B 7
E 5
I 5
.Sy 7
E 5
for the 8-port version.
D 5
.IP
E 5
I 5
.Pp
E 5
Each of the ports has a switched connector.
If the board fails for any reason,
the traffic on these ports is automatically routed
through the switched connector.
D 5
These connectors must be cabled to secondary ports on the other FCCS
E 5
I 5
These connectors must be cabled to secondary ports on the other
.Tn FCCS
E 5
connector panels.
The secondary ports are numbered 8 through 11 on the 4-port version and
8 through 15 on the 8-port version.
D 5
Only the primary ports need be designated in the FCCS configuration line,
however all ports must be identified as described in the PORT Line section
E 5
I 5
Only the primary ports need be designated in the
.Tn FCCS
configuration line,
however all ports must be identified as described in the
.Tn PORT
Line section
E 5
below.
D 5
.if n .bp
.IP \fItime\fR 8
E 5
I 5
.It Em time 
E 5
Specifies the time period for the sentinel relay timer. 
Each board resets its sentinel timer after the specified
time period. If the
board fails, and therefore can't set the timer, then control
is passed automatically to another board, which continues 
D 5
the current processing. This feature ensures PerpetualProcessing
E 5
I 5
the current processing. This feature ensures
.Dq PerpetualProcessing
E 5
and is transparent to the user. The valid range of values
D 5
in milliseconds is from \fB50\fR to \fB5950\fR in 
E 5
I 5
in milliseconds is from
.Sy 50
to
.Sy 5950
in 
E 5
50 millisecond increments.
D 5
.LP
.RE
\fBPROTOCOL Line\fR 
.LP
E 5
I 5
.El
.Pp
.Sy PROTOCOL Line
.Pp
E 5
Format:
D 5
.LP
.RS
\fBPROTOCOL:\fIprocol\fB:\fIdepargs\fR
.LP
.RE
E 5
I 5
.Pp
.Bd -filled -offset indent
.Sm off
.Sy PROTOCOL: Em procol Sy \&: Em depargs
.Sm on
.Ed
.Pp
E 5
Argument Explanations:
D 5
.RS
.IP \fIprocol\fR 10
E 5
I 5
.Bd -filled -offset indent
.Bl -tag -width indent
.It Em procol 
E 5
Specifies the protocol you want associated with the 
D 5
board specified in the previous \fBMPCC\fR line. 
.IP \fIdepargs\fR 10
Specifies the protocol-dependent protocol attributes. X.25  and SNA have ten (10)
E 5
I 5
board specified in the previous
.Tn MPCC
line. 
.It Em depargs 
Specifies the protocol-dependent protocol attributes.
X.25
and
.Tn SNA
have ten (10)
E 5
arguments,
D 5
ASYNC has just one (1) argument, and BISYNC has no arguments.
.LP
.cu
X.25 Dependent Attributes
.LP
E 5
I 5
.Tn ASYNC
has just
.Em one 1
argument, and
.Tn BISYNC
has no arguments.
.El
.Pp
.Em X.25 Dependent Attributes
.Pp
E 5
Note: You must be familiar with the 
D 5
X.25 CCITT Yellow Book (1980) 
E 5
I 5
X.25
.Tn CCITT
Yellow Book (1980) 
E 5
in order to understand the following values.
D 5
.IP \fIN1\fR 8
E 5
I 5
.Bl -tag -width indent
.It Em "N1"
E 5
Specifies the maximum frame size in bytes.
D 5
.IP \fIN2\fR 8
E 5
I 5
.It Em "N2"
E 5
Specifies the retry count.
D 5
.IP \fIT1\fR 8
E 5
I 5
.It Em "T1"
E 5
Specifies the retry timer in milliseconds.
D 5
.IP \fIT2\fR 8
E 5
I 5
.It Em "T2" 
E 5
Specifies the response delay timer in milliseconds.
D 5
.IP \fIT3\fR 8
E 5
I 5
.It Em "T3" 
E 5
Specifies the inactive link timer in milliseconds.
D 5
.IP \fIT4\fR 8
E 5
I 5
.It Em "T4"
E 5
Specifies the idle channel timer in milliseconds.
D 5
.IP \fIK\fR 8
E 5
I 5
.It Em K 
E 5
Specifies the Level 2 window size.
D 5
.if n .bp
.IP \fIxid1\fR 8
Specifies the destination type in the XID command. It must be a number
E 5
I 5
.It Em xid1 
Specifies the destination type in the
.Tn XID
command. It must be a number
E 5
from 1-5:
D 5
.nf

        1 = AXE
        2 = CTSS
        3 = DEX
        4 = DMS
        5 = WESCOM
.fi
.IP \fIxid2\fR 8
Specifies the destination identity in the XID command. It can be three to 
nine ASCII characters.
.IP \fIxid3\fR 8
Specifies the additional information in the XID command. It can be any
ASCII string up to 20 characters long.
.LP
.cu
ASYNC and 32PORT Dependent Attribute
.IP \fIbufsize\fR 10
E 5
I 5
.Bd -unfilled -offset indent
1 = AXE
2 = CTSS
3 = DEX
4 = DMS
5 = WESCOM
.Ed
.It Em xid2 
Specifies the destination identity in the
.Tn XID
command. It can be three to 
nine
.Tn ASCII
characters.
.It Em xid3 
Specifies the additional information in the
.Tn XID
command. It can be any
.Tn ASCII
string up to 20 characters long.
.El
.Pp
.Em ASYNC and 32PORT Dependent Attribute
.Bl -tag -width indent
.It Em bufsize 
E 5
Specifies the size of the transmit/receive buffers in bytes.
D 5
.RE
.LP
\fBPORT Line\fR
.LP
E 5
I 5
.El
.Ed
.Pp
.Sy PORT Line
.Pp
E 5
Format:
D 5
.LP
.RS
\fBPORT:\fIportno\fB:\fIprocol\fB:\fIdepargs\fR
.RE
.LP
E 5
I 5
.Bd -filled -offset indent
.Sm off
.Xo
.Sy PORT: Em portno
.Sy \&: Em procol
.Sy \&: Em depargs
.Xc
.Sm on
.Ed
.Pp
E 5
Argument Explanations:
D 5
.RS
.IP \fIportno\fR 10
E 5
I 5
.Bd -filled -offset indent
.Bl -tag -width indent
.It Em portno
E 5
Specifies the port number of the previously specified board.
D 5
.IP \fIprocol\fR 10
E 5
I 5
.It Em procol
E 5
Specifies the protocol. You must state the same protocol
D 5
as you stated in the preceding PROTOCOL line.
.IP \fIdepargs\fR 10
E 5
I 5
as you stated in the preceding
.Tn PROTOCOL
line.
.It Em depargs
E 5
Specifies the protocol-dependent port attributes. X.25 has
D 5
fourteen (14) arguments. ASYNC, 32PORT and BISYNC have none. SNA has 14
E 5
I 5
fourteen (14) arguments.
.Tn ASYNC ,
.Pf 32 Tn PORT
and
.Tn BISYNC
have none.
.Tn SNA
has 14
E 5
fixed arguments.
D 5
.LP
.cu
X.25 Dependent Arguments
.LP
Note: You must be familiar with the X.25 CCITT Yellow
E 5
I 5
.El
.Pp
.Em X.25 Dependent Arguments
.Pp
Note: You must be familiar with the X.25
.Tn CCITT
Yellow
E 5
Book (1980) in order to understand the following values.
D 5
.IP \fIixmitbuf\fR 12
E 5
I 5
.Bl -tag -width surecvbuf
.It Em ixmitbuf
E 5
Specifies the number of transmit buffers allocated
for I frames.
D 5
.IP \fIsuxmitbuf\fR 12
E 5
I 5
.It Em suxmitbuf
E 5
Specifies the number of transmit buffers allocated for
D 5
S/U frames.
.IP \fIirecvbuf\fR 12
E 5
I 5
.Tn S/U
frames.
.It Em irecvbuf
E 5
Specifies the number of receive buffers allocated for
I frames.
D 5
.IP \fIsurecvbuf\fR 12
E 5
I 5
.It Em surecvbuf
E 5
Specifies the number of receive buffers allocated for
D 5
S/U frames.
.IP \fIxmito\fR 12
E 5
I 5
.Tn S/U
frames.
.It Em xmito
E 5
Specifies the Level 1 transmit timeout.
D 5
This argument should be \fB0\fR so that Level 1 calculates timeout from
E 5
I 5
This argument should be
.Sy 0
so that Level 1 calculates timeout from
E 5
the baud rate.
D 5
.IP \fIrts\fR 12
E 5
I 5
.It Em rts 
E 5
Specifies the modem control value
D 5
for rts. Valid values are \fB1\fR which equals 
\fBassert\fR, \fB2\fR which equals \fBdrop\fR, and \fB3\fR 
which equals \fBauto\fR.
.IP \fIdtr\fR 12
E 5
I 5
for rts. Valid values are
.Sy 1
which equals 
.Xr assert ,
.Sy 2
which equals
.Sy drop ,
and
.Sy 3
which equals
.Sy auto .
.It Em dtr 
E 5
Specifies the modem control value for dtr. 
D 5
Valid values are \fB1\fR which equals
\fBassert\fR, and \fB2\fR which equals \fBdrop\fR.
.IP \fIlineidle\fR 12
E 5
I 5
Valid values are
.Sy 1
which equals
.Xr assert ,
and
.Sy 2
which equals
.Sy drop .
.It Em lineidle 
E 5
Specifies the line state between transmissions. 
D 5
Valid values are \fB0\fR which specifies a flag
fill, and \fB1\fR which specifies a mark fill.
.IP \fIrcvadr\fR 12
Specifies the port configuration. A \fB1\fR makes the port
a DCE, while a \fB3\fR makes the port a DTE.
.IP \fImask\fR 12
E 5
I 5
Valid values are
.Sy 0
which specifies a flag
fill, and
.Sy 1
which specifies a mark fill.
.It Em rcvadr 
Specifies the port configuration. A
.Sy 1
makes the port
a
.Tn DCE ,
while a
.Sy 3
makes the port a
.Tn DTE .
.It Em mask 
E 5
Specifies the data link receive mask. This argument must be
D 5
\fB3\fR.
.IP \fIxmtrty\fR 12
E 5
I 5
.Sy 3 .
.It Em xmtrty 
E 5
Specifies the number of data link retries after a transmit
timeout. This argument should be zero since upper levels of X25 do retries.
D 5
.IP \fIbaud\fR 12
E 5
I 5
.It Em baud 
E 5
Specifies the baud rate of a transmission. All standard rates
D 5
are supported. Some common rate values are \fB0\fR equals a modem,
\fB13\fR equals 9600, and \fB26\fR equals 56KB. See the header file
\fBmp_port.h\fR for other values.
.IP \fIencode\fR 12
Specifies the physical data encoding. A \fB0\fR indicates NRZ, and a \fB1\fR
indicates NRZI.
.IP \fItrace\fR 12
Specifies the data link receive trace mode. This argument must be \fB0\fR.
.RE
.if n .bp
.SH EXAMPLE
The following entry configures five MPCC boards: one for X.25,
ASYNC, 32PORT, BISYNC and SNA. Each has two ports.
.nf

E 5
I 5
are supported. Some common rate values are
.Sy 0
equals a modem,
.Sy 13
equals 9600, and
.Sy 26
equals
.Pf \&56 Tn KB .
See the header file
.Pa mp_port.h
for other values.
.It Em encode 
Specifies the physical data encoding. A
.Sy 0
indicates
.Tn NRZ ,
and a
.Sy 1
indicates
.Tn NRZI.
.It Em trace 
Specifies the data link receive trace mode. This argument must be
.Sy 0 .
.El
.Ed
.Sh EXAMPLES
The following entry configures five
.Tn MPCC
boards: one for X.25,
.Tn ASYNC ,
.Pf 32 Tn PORT ,
.Tn BISYNC
and
.Tn SNA .
Each has two ports.
.Bd -literal
E 5
MPCC:0
PROTOCOL:X25:272:2:6000:1000:30000:20000:8:2:ccice1:remote
PORT:0:X25:8:16:8:16:0:1:1:0:1:3:0:0:0:0
PORT:1:X25:8:16:8:16:0:1:1:0:3:3:0:0:0:0

MPCC:1
PROTOCOL:ASYNC:128
PORT:0:ASYNC
PORT:1:ASYNC

MPCC:2
PROTOCOL:32PORT:128
PORT:0:32PORT
PORT:1:32PORT

MPCC:3
PROTOCOL:BISYNC
PORT:0:BISYNC
PORT:1:BISYNC

MPCC:4
PROTOCOL:SNA:272:4:800:200:20000:20000:8:2:acey:deucy
PORT:0:SNA:8:10:10:24:5:3:1:0:193:193:1:0:0:0
PORT:1:SNA:8:10:10:24:5:3:1:0:193:193:1:0:0:0
D 5
.fi
.SH FILES
D 2
/etc/mpcc/mpcctab
E 2
I 2
/etc/mpcctab
/etc/mpcca
/etc/mpccb
/etc/mpcc32
/etc/mpccx
E 2
.SH SEE ALSO
dlmpcc(8)
E 5
I 5
.Ed
.Sh FILES
.Bl -tag -width /usr/libdata/mpcctab -compact
.It Pa /usr/libdata/mpcctab
.It Pa /usr/libdata/mpcca
.It Pa /usr/libdata/mpccb
.It Pa /usr/libdata/mpcc32
.It Pa /usr/libdata/mpccx
.El
.Sh SEE ALSO
.Xr dlmpcc 8
.Sh HISTORY
The
.Nm mpcc
configuration file appeared in
.Bx 4.3 tahoe .
E 5
E 1
