h26109
s 00005/00004/00324
d D 6.6 91/04/17 17:27:24 bostic 8 7
c new copyright; att/bsd/shared
e
s 00001/00000/00327
d D 6.5 91/03/13 20:15:52 cael 7 6
c add .Vx (invokes tmac.doc.old)
e
s 00003/00004/00324
d D 6.4 90/06/26 00:59:19 cael 6 5
c converted man page
e
s 00169/00147/00159
d D 6.3 90/06/24 19:01:57 cael 5 4
c converted man page
e
s 00001/00001/00305
d D 6.2 86/05/09 09:03:27 anne 4 3
c grammar
e
s 00001/00001/00305
d D 6.1 85/04/29 20:06:30 mckusick 3 2
c 4.3BSD beta release manual page
e
s 00001/00001/00305
d D 5.1 85/04/29 20:06:06 mckusick 2 1
c manual page distributed with 4.2BSD
e
s 00306/00000/00000
d D 4.1 85/04/29 20:05:44 mckusick 1 0
c manual page distributed with 4.1BSD
e
u
U
t
T
I 1
D 5
.\"	%W% (Berkeley) %G%
E 5
I 5
D 6
.\" Copyright (c) 1990 The Regents of the University of California.
.\" All rights reserved.
E 5
.\"
D 2
.TH EQN 1
E 2
I 2
D 3
.TH EQN 1 "18 January 1983"
E 3
I 3
D 5
.TH EQN 1 "%Q%"
E 3
E 2
.AT 3
E 5
I 5
.\" %sccs.include.redist.man%
E 6
I 6
D 8
.\" Copyright (c) 1990 Regents of the University of California.
.\" All rights reserved.  The Berkeley software License Agreement
.\" specifies the terms and conditions for redistribution.
E 8
I 8
.\" Copyright (c) 1990 The Regents of the University of California.
.\" All rights reserved.
E 8
E 6
.\"
D 8
.\"     %W% (Berkeley) %G%
E 8
I 8
.\" %sccs.include.proprietary.roff%
.\"
.\"	%W% (Berkeley) %G%
E 8
.\"
I 7
.Vx
E 7
.Dd %Q%
.Dt EQN 1
.Os ATT 7th
E 5
.EQ
delim $$
.EN
D 5
.SH NAME
eqn, neqn, checkeq \- typeset mathematics
.SH SYNOPSIS
.B eqn
[
.BR \-d xy
] [
.BR \-p n
] [
.BR \-s n
] [
.BR \-f n
] 
[ file ] ...
.br
.B checkeq
[ file ] ...
.SH DESCRIPTION
.I Eqn
E 5
I 5
.Sh NAME
.Nm eqn, neqn , checkeq
.Nd typeset mathematics
.Sh SYNOPSIS
.Nm eqn
.Oo
.Op Fl d Ar xy
.Op Fl p Ar n
.Op Fl s Ar n
.Op Fl f Ar n
.Op  file
\&...
.Nm checkeq
.Op  file
\&...
.Sh DESCRIPTION
.Nm Eqn
E 5
is a
D 5
troff(1)
E 5
I 5
.Xr troff 1
E 5
preprocessor
for typesetting mathematics
on a Graphic Systems phototypesetter,
D 5
.I neqn
E 5
I 5
.Xr neqn
E 5
on terminals.
Usage is almost always
D 5
.PP
	eqn file ... | troff
.br
	neqn file ... | nroff
.PP
If no files are specified, 
E 5
I 5
.Pp
.Dl eqn file ... | troff
.Pp
.Dl neqn file ... | nroff
.Pp
If no files are specified,
E 5
these programs
D 4
reads from the standard input.
E 4
I 4
read from the standard input.
E 4
A line beginning with `.EQ' marks the start of an equation;
the end of an equation
is marked by a line beginning with `.EN'.
Neither of these lines is altered,
so they may be defined in macro packages
to get
centering, numbering, etc.
It is also possible to set two characters as `delimiters';
subsequent text between delimiters is also treated as
D 5
.ul
eqn
E 5
I 5
.Nm eqn
E 5
input.
Delimiters may be set to characters
D 5
.I x
E 5
I 5
.Ar x
E 5
and
D 5
.I y
E 5
I 5
.Ar y
E 5
with the command-line argument
D 5
.BI \-d xy
E 5
I 5
.Fl d xy
E 5
or (more commonly) with
`delim
D 5
.IR xy '
E 5
I 5
.Ar xy  '
E 5
between .EQ and .EN.
The left and right delimiters may be identical.
Delimiters are turned off by `delim off'.
All text that is neither between delimiters nor between .EQ and .EN
is passed through untouched.
D 5
.PP
E 5
I 5
.Pp
E 5
The program
D 5
.I checkeq
E 5
I 5
.Nm checkeq
E 5
reports missing or unbalanced delimiters and .EQ/.EN pairs.
D 5
.PP
E 5
I 5
.Pp
E 5
Tokens within
D 5
.I eqn
E 5
I 5
.Nm eqn
E 5
are separated by
spaces, tabs, newlines, braces, double quotes,
tildes or circumflexes.
Braces {} are used for grouping;
generally speaking,
anywhere a single character like
D 5
.I x
E 5
I 5
.Ar x
E 5
could appear, a complicated construction
enclosed in braces may be used instead.
Tilde ~ represents a full space in the output,
circumflex ^ half as much.
D 5
.PP
E 5
I 5
.Pp
E 5
.vs 13p
Subscripts and superscripts are produced with the keywords
D 5
.B sub
E 5
I 5
.Ic sub
E 5
and
D 5
.B sup.
E 5
I 5
.Ic sup .
E 5
Thus
D 5
.I "x sub i" 
E 5
I 5
.Ar "x sub i"
E 5
makes
D 5
$x sub i$, 
.I "a sub i sup 2"
E 5
I 5
$x sub i$,
.Ar "a sub i sup 2"
E 5
produces
$a sub i sup 2$,
and
D 5
.I "e sup {x sup 2 + y sup 2}"
E 5
I 5
.Ar "e sup {x sup 2 +
.Ar y sup 2}"
E 5
gives
$e sup {x sup 2 + y sup 2}$.
D 5
.PP
E 5
I 5
.Pp
E 5
Fractions are made with
D 5
.BR over :
.I "a over b"
E 5
I 5
.Ic over :
.Ar "a over b"
E 5
yields $a over b$.
D 5
.PP
.B sqrt
E 5
I 5
.Pp
.Ic sqrt
E 5
makes square roots:
D 5
.I "1 over sqrt {ax sup 2 +bx+c}"
E 5
I 5
.Ar "1 over sqrt
.Ar {ax sup 2 +bx+c}"
E 5
results in
$1 over sqrt {ax sup 2 +bx+c}$ .
D 5
.PP
E 5
I 5
.Pp
E 5
The keywords
D 5
.B from
E 5
I 5
.Ic from
E 5
and
D 5
.B to
introduce lower and upper
limits on arbitrary things:
E 5
I 5
.Ic to
introduce lower and upper limits on arbitrary things:
E 5
$lim from {n-> inf} sum from 0 to n x sub i$
is made with
D 5
.I "lim from {n\-> inf } sum from 0 to n x sub i."
.PP
E 5
I 5
.Ar "lim from {n\-> inf }
.Ar sum from 0 to n x
.Ar sub i."
.Pp
E 5
Left and right brackets, braces, etc., of the right height are made with
D 5
.B left
E 5
I 5
.Ic left
E 5
and
D 5
.B right:
.I "left [ x sup 2 + y sup 2 over alpha right ] ~=~1"
E 5
I 5
.Ic right :
.Op Ar "left
.Ar  x sup 2 + y sup 2
.AR over alpha right
.Ar \&~=~1"
E 5
produces
$left [ x sup 2 + y sup 2 over alpha right ] ~=~1$.
The
D 5
.B right
E 5
I 5
.Ic right
E 5
clause is optional.
D 5
Legal characters after 
.B left
E 5
I 5
Legal characters after
.Ic left
E 5
and
D 5
.B right
E 5
I 5
.Ic right
E 5
are braces, brackets, bars,
D 5
.B c
E 5
I 5
.Ic c
E 5
and
D 5
.B f
E 5
I 5
.Ic f
E 5
for ceiling and floor,
and "" for nothing at all (useful for a right-side-only bracket).
D 5
.PP
Vertical piles of things are made with 
.BR pile ,
.BR lpile ,
.BR cpile ,
E 5
I 5
.Pp
Vertical piles of things are made with
.Ic pile  ,
.Ic lpile ,
.Ic cpile  ,
E 5
and
D 5
.BR rpile :
.I "pile {a above b above c}"
E 5
I 5
.Ic rpile  :
.Ar "pile {a above b above c}"
E 5
produces
$pile {a above b above c}$.
There can be an arbitrary number of elements in a pile.
D 5
.B lpile
E 5
I 5
.Ic lpile
E 5
left-justifies,
D 5
.B pile
E 5
I 5
.Ic pile
E 5
and
D 5
.B cpile
E 5
I 5
.Ic cpile
E 5
center, with different vertical spacing,
D 5
and 
.B rpile
E 5
I 5
and
.Ic rpile
E 5
right justifies.
D 5
.PP
E 5
I 5
.Pp
E 5
Matrices are made with
D 5
.BR matrix :
.I "matrix { lcol { x sub i above y sub 2 } ccol { 1 above 2 } }"
E 5
I 5
.Ic matrix  :
.Ar "matrix { lcol { x sub i
.Ar above y sub 2 } ccol {
.Ar 1 above 2 } }"
E 5
produces
$matrix { lcol { x sub i above y sub 2 } ccol { 1 above 2 } }$.
In addition, there is
D 5
.B rcol
E 5
I 5
.Ic rcol
E 5
for a right-justified column.
D 5
.PP
E 5
I 5
.Pp
E 5
.vs 12p
Diacritical marks are made with
D 5
.BR dot ,
.BR dotdot ,
.BR hat ,
.BR tilde ,
.BR bar ,
.BR vec ,
.BR dyad ,
E 5
I 5
.Ic dot  ,
.Ic dotdot ,
.Ic hat  ,
.Ic tilde ,
.Ic bar  ,
.Ic vec ,
.Ic dyad  ,
E 5
and
D 5
.BR under :
.I "x dot = f(t) bar"
E 5
I 5
.Ic under  :
.Ar "x dot \&= f(t) bar"
E 5
is
$x dot = f(t) bar$,
D 5
.I "y dotdot bar ~=~ n under"
E 5
I 5
.Ar "y dotdot bar \&~=~
.Ar n under"
E 5
is
$y dotdot bar ~=~ n under$,
and
D 5
.I "x vec ~=~ y dyad"
E 5
I 5
.Ar "x vec \&~=~ y dyad"
E 5
is
$x vec ~=~ y dyad$.
D 5
.PP
E 5
I 5
.Pp
E 5
Sizes and font can be changed with
D 5
.B size
.I n
E 5
I 5
.Ic size
.Op Ar n
E 5
or
D 5
.B size
.BI \(+- n,
.BR roman ,
.BR italic ,
.BR bold ,
E 5
I 5
.Ic size
.Sf Sy \(+- n,
.Ic roman  ,
.Ic italic ,
.Ic bold  ,
E 5
and
D 5
.BR font
.I n.
E 5
I 5
.Ic font
.Ar n.
E 5
Size and fonts can be changed globally in a document by
D 5
.B gsize
.I n
E 5
I 5
.Ic gsize
.Ar n
E 5
and
D 5
.B gfont
.IR n ,
E 5
I 5
.Ic gfont
.Ar n ,
E 5
or by the command-line arguments
D 5
.BI \-s n
E 5
I 5
.Cx Fl s
.Ar n
.Cx
E 5
and
D 5
.BI \-f n.
.PP
E 5
I 5
.Cx Fl f
.Ar n
.Cx .
.Cx
.Pp
E 5
Normally subscripts and superscripts are reduced by
3 point sizes from the previous size;
this may be changed by the command-line argument
D 5
.BI \-p n.
.PP
E 5
I 5
.Cx Fl p
.Ar n .
.Cx
.Pp
E 5
Successive display arguments can be lined up.
Place
D 5
.B mark
E 5
I 5
.Ic mark
E 5
before the desired lineup point in the first equation;
place
D 5
.B lineup
E 5
I 5
.Ic lineup
E 5
at the place that is to line up vertically in subsequent equations.
D 5
.PP
E 5
I 5
.Pp
E 5
Shorthands may be defined
or existing keywords redefined with
D 5
.BI define :
.I "define thing % replacement %"
E 5
I 5
.Ic define  :
.Ar "define thing \&% replacement \&%"
E 5
defines a new token called
D 5
.I thing
E 5
I 5
.Ar thing
E 5
which will be replaced by
D 5
.I replacement
E 5
I 5
.Ar replacement
E 5
whenever it appears thereafter.
D 5
The 
.I %
E 5
I 5
The
.Ic \&%
E 5
may be any character that does not occur in
D 5
.I replacement.
.PP
Keywords like 
.I sum
E 5
I 5
.Ar replacement .
.Pp
Keywords like
.Ar sum
E 5
.EQ
( sum )
.EN
D 5
.I int
E 5
I 5
.Ar int
E 5
.EQ
( int )
.EN
D 5
.I inf
E 5
I 5
.Ar inf
E 5
.EQ
( inf )
.EN
and shorthands like
>=
.EQ
(>=)
.EN
\->
.EQ
(->),
.EN
and
!=
.EQ
( != )
.EN
are recognized.
Greek letters are spelled out in the desired case, as in
D 5
.I alpha
E 5
I 5
.Ar alpha
E 5
or
D 5
.I GAMMA.
E 5
I 5
.Ar GAMMA .
E 5
Mathematical words like sin, cos, log are made Roman automatically.
D 5
.IR Troff (1)
E 5
I 5
.Xr Troff  1
E 5
four-character escapes like \e(bs (\(bs)
can be used anywhere.
Strings enclosed in double quotes "..."
are passed through untouched;
this permits keywords to be entered as text,
and can be used to communicate
D 5
with 
.I troff
E 5
I 5
with
.Xr troff 1
E 5
when all else fails.
D 5
.SH "SEE ALSO"
.PP
troff(1), tbl(1), ms(7), eqnchar(7)
E 5
I 5
.Sh SEE ALSO
.Xr troff 1 ,
.Xr tbl 1 ,
.Xr ms 7 ,
.Xr eqnchar 7
E 5
.br
B. W. Kernighan and L. L. Cherry,
D 5
.ul
Typesetting Mathematics\(emUser's Guide
.br
E 5
I 5
.Em Typesetting Mathematics\-User's Guide
.Br
E 5
J. F. Ossanna,
D 5
.ul
NROFF/TROFF User's Manual
.SH BUGS
.PP
E 5
I 5
.Em NROFF/TROFF User's Manual
.Sh HISTORY
.Nm Eqn
appeared in Version 6 AT&T Unix.
.Sh BUGS
.Pp
E 5
To embolden digits, parens, etc.,
it is necessary to quote them,
as in `bold "12.3"'.
E 1
