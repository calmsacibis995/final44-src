h06256
s 00049/00047/00130
d D 6.6 91/08/09 19:14:45 cael 8 7
c mdoc version three
e
s 00000/00000/00177
d D 6.5 90/07/24 22:47:15 cael 7 6
c .Xr botch fix
e
s 00002/00005/00175
d D 6.4 90/07/24 22:40:44 cael 6 5
c .Xr botch fix
e
s 00094/00101/00086
d D 6.3 90/06/24 19:07:51 cael 5 4
c converted man page
e
s 00003/00000/00184
d D 6.2 86/03/17 22:00:40 donn 4 3
c Document missing NOSTRICT implementation in BUGS section.
e
s 00001/00001/00183
d D 6.1 85/04/29 14:29:44 mckusick 3 2
c 4.3BSD beta release manual page
e
s 00036/00005/00148
d D 5.1 85/04/29 14:29:31 mckusick 2 1
c manual page distributed with 4.2BSD
e
s 00153/00000/00000
d D 4.1 85/04/29 14:29:23 mckusick 1 0
c manual page distributed with 4.1BSD
e
u
U
t
T
I 1
D 5
.\" Copyright (c) 1980 Regents of the University of California.
.\" All rights reserved.  The Berkeley software License Agreement
E 5
I 5
.\" Copyright (c) 1980, 1990 Regents of the University of California.
D 8
.\" All rights reserved.  The Berkeley Software License Agreement
E 5
.\" specifies the terms and conditions for redistribution.
E 8
I 8
.\" All rights reserved.
E 8
.\"
D 5
.\"	%W% (Berkeley) %G%
E 5
I 5
D 8
.\"     %W% (Berkeley) %G%
E 8
I 8
.\" %sccs.include.proprietary.roff%
E 8
E 5
.\"
I 8
.\"	%W% (Berkeley) %G%
.\"
E 8
D 2
.TH LINT 1
E 2
I 2
D 3
.TH LINT 1 "7 March 1983"
E 3
I 3
D 5
.TH LINT 1 "%Q%"
E 3
E 2
.UC 4
.SH NAME
lint \- a C program verifier
.SH SYNOPSIS
.B lint
[
.B \-abchnpuvx
]
file ...
.SH DESCRIPTION
.I Lint
E 5
I 5
.Dd %Q%
.Dt LINT 1
.Os BSD 4
.Sh NAME
.Nm lint
D 8
.Nd a C program verifier
E 8
I 8
.Nd "a C program verifier"
E 8
.Sh SYNOPSIS
.Nm lint
.Op Fl abchnpuvx
.Ar file ...
.Sh DESCRIPTION
.Nm Lint
E 5
attempts to detect features of the C program
D 5
.I files
E 5
I 5
.Ar files
E 5
which are
likely to be bugs, or non-portable, or wasteful.
It also checks the type usage of the program more strictly
than the compilers.
Among the things which are currently found are
unreachable statements,
loops not entered at the top,
automatic variables declared and not used,
and logical expressions whose value is constant.
Moreover, the usage of functions is checked to find
functions which return values in some places and not in others,
functions called with varying numbers of arguments,
and functions whose values are not used.
D 5
.PP
E 5
I 5
.Pp
E 5
By default, it is assumed that all the
D 5
.I files
E 5
I 5
.Ar files
E 5
are to be loaded together; they are checked for
mutual compatibility.
Function definitions for certain libraries are available to
D 5
.IR lint ;
E 5
I 5
.Nm lint  ;
E 5
these libraries are referred to by a
conventional name,
such as `\-lm', in the style of
D 5
.IR ld (1).
E 5
I 5
.Xr ld  1  .
E 5
I 2
Arguments ending in
D 5
.I .ln
E 5
I 5
.Va .ln
E 5
are also treated as library files.  To create lint libraries,
use the
D 5
.B \-C
E 5
I 5
.Fl C
E 5
option:
D 5
.IP
lint \-Cfoo files . . .
E 2
.PP
E 5
I 5
.Pp
D 6
.DL lint \-Cfoo files . . .
E 6
I 6
.Dl lint \-Cfoo files . . .
E 6
.Pp
E 5
I 2
where
D 5
.I files
E 5
I 5
.Ar files
E 5
are the C sources of library
D 5
.I foo.
E 5
I 5
.Ar foo .
E 5
The result is a file
D 5
.I llib-lfoo.ln
E 5
I 5
D 8
.Em llib-lfoo .ln
E 8
I 8
.Pa llib-lfoo .ln
E 8
E 5
in the correct library format suitable for linting programs
using
D 5
.I foo.
.PP
E 5
I 5
.Ar foo .
.Pp
E 5
E 2
Any number of the options in the following list
may be used.
The
D 5
.SM
.BR \-D "\*S,"
.SM
.BR \-U "\*S,"
E 5
I 5
D 8
.Fl D
E 8
I 8
.Fl D ,
E 8
.Fl U
E 5
and
D 5
.SM
.B \-I
E 5
I 5
.Fl I
E 5
options of
D 5
.IR cc (1)
E 5
I 5
.Xr cc  1
E 5
are also recognized as separate arguments.
D 5
.TP
.B p
E 5
I 5
D 8
.Tp Fl p
E 8
I 8
.Bl -tag -width flag
.It Fl p
E 8
E 5
Attempt to check portability to the
D 5
.I IBM
E 5
I 5
D 8
.Em IBM
E 8
I 8
.Tn IBM
E 8
E 5
and
D 5
.I GCOS
E 5
I 5
D 8
.Em GCOS
E 8
I 8
.Tn GCOS
E 8
E 5
dialects of C.
D 5
.TP
.B h
E 5
I 5
D 8
.Tp Fl h
E 8
I 8
.It Fl h
E 8
E 5
Apply a number of heuristic tests to attempt to
intuit bugs, improve style, and reduce waste.
D 5
.TP
.B b
E 5
I 5
D 8
.Tp Fl b
E 8
I 8
.It Fl b
E 8
E 5
Report
D 5
.I break
E 5
I 5
.Ar break
E 5
statements that cannot be reached.
(This is not the default because, unfortunately,
most
D 5
.I lex
E 5
I 5
.Xr lex 1
E 5
and many
D 5
.I yacc
E 5
I 5
.Xr yacc 1
E 5
outputs produce dozens of such comments.)
D 5
.TP
.B v
E 5
I 5
D 8
.Tp Fl v
E 8
I 8
.It Fl v
E 8
E 5
Suppress complaints about unused arguments in functions.
D 5
.TP
.B x
E 5
I 5
D 8
.Tp Fl x
E 8
I 8
.It Fl x
E 8
E 5
Report variables referred to by extern declarations,
but never used.
D 5
.TP
.B a
E 5
I 5
D 8
.Tp Fl a
E 8
I 8
.It Fl a
E 8
E 5
Report assignments of long values to int variables.
D 5
.TP
.B c
E 5
I 5
D 8
.Tp Fl c
E 8
I 8
.It Fl c
E 8
E 5
Complain about casts which have questionable portability.
D 5
.TP
.B u
E 5
I 5
D 8
.Tp Fl u
E 8
I 8
.It Fl u
E 8
E 5
Do not complain about functions and variables used and not
defined, or defined and not used (this is suitable for running
D 5
.I lint
E 5
I 5
.Nm lint
E 5
on a subset of files out of a larger program).
D 5
.TP
.B n
E 5
I 5
D 8
.Tp Fl n
E 8
I 8
.It Fl n
E 8
E 5
Do not check compatibility against the standard library.
I 2
D 5
.TP
.B z
E 5
I 5
D 8
.Tp Fl z
E 8
I 8
.It Fl z
E 8
E 5
Do not complain about structures that are never defined (e.g.
using a structure pointer without knowing its contents.).
E 2
D 5
.PP
.IR Exit (2)
E 5
I 5
D 8
.Tp
E 8
I 8
.El
E 8
.Pp
.Xr Exit  2
E 5
and other functions which do not return
are not understood; this causes various lies.
D 5
.PP
E 5
I 5
.Pp
E 5
Certain conventional comments in the C source
will change the behavior of
D 5
.IR lint :
.TP
/*NOTREACHED*/
E 5
I 5
.Nm lint  :
D 6
.Tw Fl
E 6
I 6
D 8
.Tw Ds
E 6
.Tp Li /*NOTREACHED*/
E 8
I 8
.Bl -tag -width Ds
.It Li /*NOTREACHED*/
E 8
E 5
at appropriate points
stops comments about unreachable code.
D 5
.TP
.RI /*VARARGS n */
E 5
I 5
D 8
.Tp Li /*VARARGS n */
E 8
I 8
.It Li /*VARARGS n */
E 8
E 5
suppresses
the usual checking for variable numbers of arguments
in the following function declaration.
The data types of the first
D 5
.I n
E 5
I 5
.Ar n
E 5
arguments are checked;
a missing
D 5
.I n
E 5
I 5
.Ar n
E 5
is taken to be 0.
D 5
.TP
/*NOSTRICT*/
E 5
I 5
D 8
.Tp Li /*NOSTRICT*/
E 8
I 8
.It Li /*NOSTRICT*/
E 8
E 5
shuts off strict type checking in the next expression.
D 5
.TP
/*ARGSUSED*/
E 5
I 5
D 8
.Tp Li /*ARGSUSED*/
E 8
I 8
.It Li /*ARGSUSED*/
E 8
E 5
turns on the
D 5
.B \-v
E 5
I 5
.Fl v
E 5
option for the next function.
D 5
.TP
/*LINTLIBRARY*/
E 5
I 5
D 8
.Tp Li /*LINTLIBRARY*/
E 8
I 8
.It Li /*LINTLIBRARY*/
E 8
E 5
at the beginning of a file shuts off complaints about
unused functions in this file.
I 2
D 5
.SH AUTHOR
E 5
I 5
D 8
.Yp
E 8
.Sh AUTHOR
E 5
S.C. Johnson.  Lint library construction implemented by Edward Wang.
E 2
D 5
.SH FILES
D 2
.ta \w'/usr/lib/llib-port  'u
/usr/lib/lint/lint[12] programs
E 2
I 2
.ta \w'/usr/lib/lint/llib-port.ln  'u
/usr/lib/lint/lint[12]	programs
E 5
I 5
.Sh FILES
D 8
.Dw /usr/libdata/lint/llib-port.ln
.Di L
D 6
.\" Pa /usr/libdata/lint/llib.ln
.\" .Op 12
.\" programs
E 6
.Dp Pa /usr/libdata/lint/llib-lc.ln
declarations for standard functions
.Dp Pa /usr/libdata/lint/llib-lc
human readable version of above
.Dp Pa /usr/lib/lintdata/llib-port.ln
declarations for portable functions
.Dp Pa /usr/lib/lintdata/llib-port
human readable . . .
.Dp Pa llib-l*.ln
library created with
.Fl C
.Dp
E 8
I 8
.Bl -tag -width /usr/libdata/lint/llib-port.ln -compact
.It Pa /usr/libdata/lint/llib-lc.ln
Declarations for standard functions.
.It Pa /usr/libdata/lint/llib-lc
Human readable version of above.
.It Pa /usr/lib/lintdata/llib-port.ln
Declarations for portable functions.
.It Pa /usr/lib/lintdata/llib-port
Human readable.
.It Pa llib-l*.ln
Library created with
.Fl C .
.El
E 8
.Sh SEE ALSO
.Xr cc 1
E 5
E 2
D 8
.br
D 2
/usr/lib/lint/llib-lc declarations for standard functions
E 2
I 2
D 5
/usr/lib/lint/llib-lc.ln	declarations for standard functions
E 2
.br
D 2
/usr/lib/lint/llib-port declarations for portable functions
E 2
I 2
/usr/lib/lint/llib-lc	human readable version of above
.br
/usr/lib/lint/llib-port.ln	declarations for portable functions
.br
/usr/lib/lint/llib-port	human readable . . .
.br
llib-l*.ln	library created with
.B \-C
E 2
.SH SEE ALSO
cc(1)
.br
E 5
S. C. Johnson,
D 5
.I Lint, a C Program Checker
.SH BUGS
E 5
I 5
.Em Lint ,
a C Program Checker
E 8
I 8
.Rs
.%A S. C. Johnson,
.%T "Lint, a C Program Checker"
.Re
E 8
.Sh HISTORY
D 8
.Nm Lint
appeared in Version 7 AT&T Unix.
E 8
I 8
The
.Nm lint
program appeared in
.At v7 .
E 8
.Sh BUGS
E 5
There are some things you just
D 5
.B can't
E 5
I 5
can't
E 5
get lint to shut up about.
I 4
D 5
.PP
E 5
I 5
.Pp
E 5
D 8
/*NOSTRICT*/
E 8
I 8
.Li /*NOSTRICT*/
E 8
is not implemented in the current version (alas).
E 4
E 1
