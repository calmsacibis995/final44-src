h44097
s 00118/00101/00054
d D 6.6 91/04/24 15:16:43 cael 7 6
c mdoc version three
e
s 00006/00017/00149
d D 6.5 90/06/24 19:19:13 cael 6 5
c converted man page
e
s 00015/00003/00151
d D 6.4 88/09/26 21:37:24 bostic 5 4
c Berkeley copyright
e
s 00001/00001/00153
d D 6.3 86/06/05 18:30:06 bloom 4 3
c fix plus because cfo decided to change things
e
s 00001/00001/00153
d D 6.2 86/05/12 09:11:17 anne 3 2
c punctuation
e
s 00008/00003/00146
d D 6.1 85/04/29 21:26:55 mckusick 2 1
c 4.3BSD beta release manual page
e
s 00149/00000/00000
d D 5.1 85/04/29 21:26:31 mckusick 1 0
c manual page first distributed with 4.2BSD
e
u
U
t
T
I 1
D 5
.\" Copyright (c) 1983 Regents of the University of California.
.\" All rights reserved.  The Berkeley software License Agreement
.\" specifies the terms and conditions for redistribution.
E 5
I 5
D 6
.\" Copyright (c) 1983 The Regents of the University of California.
E 6
I 6
.\" Copyright (c) 1983, 1990 The Regents of the University of California.
E 6
.\" All rights reserved.
E 5
.\"
I 5
D 6
.\" Redistribution and use in source and binary forms are permitted
.\" provided that the above copyright notice and this paragraph are
.\" duplicated in all such forms and that any documentation,
.\" advertising materials, and other materials related to such
.\" distribution and use acknowledge that the software was developed
.\" by the University of California, Berkeley.  The name of the
.\" University may not be used to endorse or promote products derived
.\" from this software without specific prior written permission.
.\" THIS SOFTWARE IS PROVIDED ``AS IS'' AND WITHOUT ANY EXPRESS OR
.\" IMPLIED WARRANTIES, INCLUDING, WITHOUT LIMITATION, THE IMPLIED
.\" WARRANTIES OF MERCHANTIBILITY AND FITNESS FOR A PARTICULAR PURPOSE.
E 6
I 6
D 7
.\" %sccs.include.redist.man%
E 7
I 7
.\" %sccs.include.redist.roff%
E 7
E 6
.\"
E 5
D 6
.\"	%W% (Berkeley) %G%
E 6
I 6
.\"     %W% (Berkeley) %G%
E 6
.\"
I 5
D 6
.TH <PROGNAME> <SECTION> "%Q%"
E 5
D 2
.TH SYSLINE 1 "3 August 1983"
E 2
I 2
.TH SYSLINE 1 "%Q%"
E 6
I 6
D 7
.TH SYSLINE 1 "%Q"
E 6
E 2
.UC 5
.SH NAME
sysline \- display system status on status line of a terminal
.SH SYNOPSIS
.B sysline
[
D 2
.B \-bcdehDilmpqrsj
E 2
I 2
.B \-bcdewhDilmpqrsj
E 2
] [
.B \-H\ remote
] [
.B +N
]
.SH DESCRIPTION
.I Sysline
E 7
I 7
.Dd %Q%
.Dt SYSLINE 1
.Os BSD 4.2
.Sh NAME
.Nm sysline
.Nd display system status on status line of a terminal
.Sh SYNOPSIS
.Nm sysline
.Op Fl Dbcdehijlmpqrsw
.Op Fl H Ar remote
.Op Cm +N
.Sh DESCRIPTION
.Nm Sysline
E 7
runs in the background and periodically displays system status information
on the status line of the terminal.
Not all terminals contain a status line.
Those that do include the h19, concept 108, Ann Arbor Ambassador, vt100,
Televideo 925/950 and Freedom 100.
If no flags are given,
D 7
.I sysline
E 7
I 7
.Nm sysline
E 7
displays the time of day, the current load average, the change in load
average in the last 5 minutes, the number of users (followed by a `u'),
D 7
the number of runnable  process (followed by a `r')[VAX only], the number
of suspended processes (followed by a `s')[VAX only], 
E 7
I 7
the number of runnable  process (followed by a `r')
.Bq Tn VAX No only ,
the number
of suspended processes (followed by a `s')
.Bq Tn VAX No only ,
E 7
and the users who have logged on and off since the last status report.
Finally, if new mail has arrived, a summary of it is printed.
If there is unread mail in your mailbox, an asterisk will appear after the
display of the number of users.
The display is normally in reverse video (if your terminal supports
this in the status line) and is right justified to reduce distraction.
Every fifth display is done in normal video to give the screen a chance
to rest.
D 7
.PP
If you have a file named .who in your home directory, then the contents
E 7
I 7
.Pp
If you have a file named
.Pa .who
in your home directory, then the contents
E 7
of that file is printed first.  One common use of this
feature is to alias chdir, pushd, and popd  to place the current directory 
D 7
stack in ~/.who after it changes the new directory.
.PP
E 7
I 7
stack in
.Pa ~/.who
after it changes the new directory.
.Pp
E 7
The following flags may be given on the command line.
D 7
.TP 12
.B \-b
E 7
I 7
.Bl -tag -width Ds
.It Fl D
Print out the current day/date before the time.
.It Fl H Ar remote
Print the load average on the remote host
.Ar remote
.Bq Tn VAX No only .
If the host is down, or is not sending out
.Xr rwhod
packets, then
the down time is printed instead.  If the prefix "ucb" is present,
then it is removed.
.It Cm +N
Update the status line every N seconds. The default is 60 seconds.
.It Fl b
E 7
Beep once every half hour and twice every hour, just like those obnoxious
watches you keep hearing.
D 7
.TP
.B \-c
E 7
I 7
.It Fl c
E 7
Clear the status line for 5 seconds before each redisplay.
D 7
.TP
.B \-d
E 7
I 7
.It Fl d
E 7
D 3
Debug mode -- print status line data in human readable format
E 3
I 3
Debug mode -- print status line data in human readable format.
E 3
D 7
.TP
.B \-D
Print out the current day/date before the time.
.TP
.B \-e
E 7
I 7
.It Fl e
E 7
Print out only the information.  Do not print out the control commands
necessary to put the information on the bottom line.  This option is
useful for putting the output of
D 7
.I sysline
E 7
I 7
.Nm sysline
E 7
onto the mode line of an emacs window.
D 7
.TP
I 2
.B \-w
Window mode -- print the status on the current line of the terminal,
suitable for use inside a one line window.
.TP
E 2
.B \-H remote
Print the load average on the remote host \fIremote\fP [VAX only].
If the host is down, or is not sending out \fIrwhod\fP packets, then
D 2
the down time is printed instead.
E 2
I 2
the down time is printed instead.  If the prefix "ucb" is present,
then it is removed.
E 2
.TP
.B \-h
Print out the host machine's name after the time [VAX only].
.TP
.B \-l
Don't print the names of people who log in and out.
.TP
.B \-m
Don't check for mail. 
.TP
.B \-p
Don't report the number of process which are runnable and suspended.
.TP
.B \-r
Don't display in reverse video.
.TP
D 4
.B \+N
E 4
I 4
.B +N
E 4
Update the status line every N seconds. The default is 60 seconds.
.TP
.B \-q
Don't print out diagnostic messages if something goes wrong when starting up.
.TP
.B \-i
E 7
I 7
.It Fl h
Print out the host machine's name after the time
.Bq Tn VAX No only .
.It Fl i
E 7
Print out the process id of the
D 7
.I sysline
E 7
I 7
.Nm sysline
E 7
process onto standard output upon startup.
With this information you can send the alarm signal to the
D 7
.I sysline
E 7
I 7
.Nm sysline
E 7
process to cause it to update immediately.
D 7
.I sysline
E 7
I 7
.Nm Sysline
E 7
writes to the standard error, so you can redirect the standard
output into a file to catch the process id.
D 7
.TP
.B \-s
E 7
I 7
.It Fl j
Force the sysline output to be left justified even on terminals capable of
cursor movement on the status line.
.It Fl l
Don't print the names of people who log in and out.
.It Fl m
Don't check for mail. 
.It Fl p
Don't report the number of process which are runnable and suspended.
.It Fl q
Don't print out diagnostic messages if something goes wrong when starting up.
.It Fl r
Don't display in reverse video.
.It Fl s
E 7
Print "short" form of line by left-justifying
D 7
.I iff
E 7
I 7
.Em iff
E 7
escapes are not allowed in the status line.
Some terminals (the Televideos and Freedom 100 for example)
do not allow cursor movement (or other "intelligent" operations)
in the status line.  For these terminals,
D 7
.I sysline
E 7
I 7
.Nm sysline
E 7
normally uses blanks to cause right-justification.
This flag will disable the adding of the blanks.
D 7
.TP
.B \-j
Force the sysline output to be left justified even on terminals capable of
cursor movement on the status line.
.PP
If you have a file .syslinelock in your home directory, then
.I sysline
E 7
I 7
.It Fl w
Window mode -- print the status on the current line of the terminal,
suitable for use inside a one line window.
.El
.Pp
If you have a file
.Pa .syslinelock
in your home directory, then
.Nm sysline
E 7
will not update its statistics and write on your screen, it will just go to
sleep for a minute.  This is useful if you want to momentarily disable
D 7
.I sysline.
E 7
I 7
.Nm sysline .
E 7
Note that it may take a few seconds from the time the lock file
is created until you are guaranteed that
D 7
.I sysline
E 7
I 7
.Nm sysline
E 7
will not write on the screen.
D 7
.SH FILES
.ta 2.4i
.nf
D 6
/etc/utmp	names of people who are logged in
E 6
I 6
/var/run/utmp	names of people who are logged in
E 6
/dev/kmem	contains process table [VAX only]
D 6
/usr/spool/rwho/whod.*	who/uptime information for remote hosts [VAX only]
E 6
I 6
/var/spool/rwho/whod.*	who/uptime information for remote hosts [VAX only]
E 6
${HOME}/.who	information to print on bottom line
${HOME}/.syslinelock	when it exists, sysline will not print
.fi
.SH AUTHORS
John Foderaro
.br
Tom Ferrin converted it to use termcap.
.br
Mark Horton added terminfo capability.
.SH BUGS
E 7
I 7
.Sh FILES
.Bl -tag -width /var/spool/rwho/whod.x -compact
.It Pa /var/run/utmp
names of people who are logged in
.It Pa /dev/kmem
contains process table
.Bq Tn VAX No only
.It Pa /var/spool/rwho/whod.*
who/uptime information for remote hosts
.Bq Tn VAX No only
.It Pa ${HOME}/.who
information to print on bottom line
.It Pa ${HOME}/.syslinelock
when it exists, sysline will not print
.El
.Sh BUGS
E 7
If you interrupt the display then you may find your cursor missing or 
stuck  on the status line.  The best thing to do is reset the terminal.
D 7
.br
E 7
I 7
.Pp
E 7
If there is too much for one line, the excess is thrown away.
I 7
.Sh HISTORY
The
.Nm
command appeared in
.Bx 4.2 .
.Sh ENVIRONMENT
.Bl -tag -width HOME
.Nm Sysline
checks for the existence of
the following environment variables:
.It Ev HOME
The directory provided by the
.Ev HOME
variable is checked for the file
.Pa .who .
.It Ev TERM
Provides terminal type.
.It Ev USER
Provides username.
.El
E 7
E 1
