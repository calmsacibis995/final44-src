h45044
s 00001/00001/00088
d D 8.4 95/04/28 14:14:49 bostic 13 12
c POSIX says that -s precedes init signal names
c From: Charles Hannum <mycroft@NetBSD.ORG>
e
s 00022/00006/00067
d D 8.3 95/03/29 21:49:25 mckusick 12 11
c update for version 3 NFS from Rick Macklem
e
s 00004/00005/00069
d D 8.2 94/08/17 21:57:33 mckusick 11 10
c -n option allows access from non-priviledged ports (from cgd)
e
s 00002/00002/00072
d D 8.1 93/06/09 19:06:02 bostic 10 9
c 4.4BSD snapshot (revision 8.1); add 1993 to copyright
e
s 00002/00003/00072
d D 5.8 93/06/09 19:05:59 bostic 9 7
c fixed the under development line
e
s 00002/00002/00073
d R 8.1 93/06/05 11:05:21 bostic 8 7
c 4.4BSD snapshot (revision 8.1); add 1993 to copyright
e
s 00015/00007/00060
d D 5.7 91/11/11 20:22:59 mckusick 7 6
c more complete explanation (from Rick Macklem)
e
s 00054/00032/00013
d D 5.6 91/03/16 17:07:46 cael 6 5
c macro and text revision (-mdoc version 3)
e
s 00003/00000/00042
d D 5.5 90/09/30 18:42:39 mckusick 5 4
c note that SIGHUP causes mountd to reread its exports file
e
s 00012/00003/00030
d D 5.4 90/06/25 14:13:30 mckusick 4 3
c add -n option (from Macklem)
e
s 00002/00012/00031
d D 5.3 90/06/24 21:42:23 trent 3 2
c new copyright & pathname (mountd)
e
s 00005/00003/00038
d D 5.2 89/11/30 23:46:16 mckusick 2 1
c update from Rick Macklem
e
s 00041/00000/00000
d D 5.1 89/07/16 17:41:48 mckusick 1 0
c date and time created 89/07/16 17:41:48 by mckusick
e
u
U
t
T
I 1
D 6
.\" Copyright (c) 1989 The Regents of the University of California.
E 6
I 6
D 10
.\" Copyright (c) 1989, 1991 The Regents of the University of California.
E 6
.\" All rights reserved.
E 10
I 10
.\" Copyright (c) 1989, 1991, 1993
.\"	The Regents of the University of California.  All rights reserved.
E 10
.\"
D 3
.\" Redistribution and use in source and binary forms are permitted
.\" provided that the above copyright notice and this paragraph are
.\" duplicated in all such forms and that any documentation,
.\" advertising materials, and other materials related to such
.\" distribution and use acknowledge that the software was developed
.\" by the University of California, Berkeley.  The name of the
.\" University may not be used to endorse or promote products derived
.\" from this software without specific prior written permission.
.\" THIS SOFTWARE IS PROVIDED ``AS IS'' AND WITHOUT ANY EXPRESS OR
.\" IMPLIED WARRANTIES, INCLUDING, WITHOUT LIMITATION, THE IMPLIED
.\" WARRANTIES OF MERCHANTABILITY AND FITNESS FOR A PARTICULAR PURPOSE.
E 3
I 3
.\" %sccs.include.redist.man%
E 3
.\"
D 6
.\"	%W% (Berkeley) %G%
E 6
I 6
.\"     %W% (Berkeley) %G%
E 6
.\"
D 6
.TH MOUNTD 8 "%Q%"
.UC 7
.SH NAME
mountd \- service remote NFS mount requests
.SH SYNOPSIS
D 3
.B /sbin/mountd
E 3
I 3
D 4
.B mountd
E 4
I 4
.B /sbin/mountd
E 4
E 3
I 2
[
I 4
.B \-n
]
[
E 4
exportsfile
]
E 2
.SH DESCRIPTION
.I Mountd
E 6
I 6
.Dd %Q%
.Dt MOUNTD 8
.Os
.Sh NAME
.Nm mountd
.Nd service remote
.Tn NFS
mount requests
.Sh SYNOPSIS
.Nm /sbin/mountd
D 12
.Op Fl n
E 12
I 12
.Op Fl nr
E 12
.Op Ar exportsfile
.Sh DESCRIPTION
.Xr Mountd
E 6
is the server for
D 6
.SM NFS
E 6
I 6
.Tn NFS
E 6
mount requests from other client machines.
D 6
.I Mountd
E 6
I 6
.Xr Mountd
E 6
listens for service requests at the port indicated in the
D 6
.SM NFS
E 6
I 6
.Tn NFS
E 6
server specification; see
D 2
``Network File System Protocol Specification''
in the Sun Microsystems manual
``Networking on the Sun Workstation'', Part #800-1324-03, Rev B.
E 2
I 2
D 6
``Network File System Protocol Specification, RFC1094''.
D 4
The optional argument specifies an alternate location for the exports file.
E 4
I 4
The \fB\-n\fR option allows non-root mount requests to be served.
E 6
I 6
.%T "Network File System Protocol Specification" ,
D 12
RFC1094.
E 12
I 12
RFC1094, Appendix A and
.%T "NFS: Network File System Version 3 Protocol Specification" ,
Appendix I.
E 12
.Pp
Options and operands available for
.Nm mountd :
.Bl -tag -width Ds
.It Fl n
D 11
The
.Fl n
option allows non-root mount requests to be served.
E 6
This should only be specified if there are clients such as PC's,
that require it.
E 11
I 11
D 12
Do not require that clients make mount requests from reserved ports.
(Normally, only mount requsts from reserved ports are accepted.)
This option should only be specified if there are clients, such as PC's,
that need it.
E 12
I 12
The
.Fl n
option allows non-root mount requests to be served.
This should only be specified if there are clients such as PC's,
that require it.
.It Fl r
The
.Fl r
option allows mount RPCs requests for regular files to be served.
Although this seems to violate the mount protocol specification,
some diskless workstations do mount requests for
their swapfiles and expect them to be regular files.
Since a regular file cannot be specified in
.Pa /etc/exports ,
the entire file system in which the swapfiles resides
will have to be exported with the
.Fl alldirs
flag.
E 12
E 11
D 6
The \fBexportsfile\fR argument specifies an alternate location
E 6
I 6
D 7
.It Ar exsportfile
E 7
I 7
.It Ar exportsfile
E 7
The
.Ar exportsfile
argument specifies an alternate location
E 6
for the exports file.
I 5
D 6
Sending a SIGHUP signal to
.I mountd
E 6
I 6
.El
.Pp
D 7
Sending a
.Dv SIGHUP
signal to
.Xr mountd
E 6
will cause it to reread its exports file.
E 7
I 7
When mountd is started,
it loads the export host addresses and options into the kernel
using the mount(2) system call.
After changing the exports file,
a hangup signal should be sent to the mountd daemon
to get it to reload the export information.
After sending the SIGHUP
D 13
(kill -HUP `cat /var/run/mountd.pid`),
E 13
I 13
(kill \-s HUP `cat /var/run/mountd.pid`),
E 13
check the syslog output to see if mountd logged any parsing
errors in the exports file.
E 7
E 5
E 4
E 2
D 6
.SH FILES
/etc/exports
.SH SEE ALSO
.IR nfsstat (1),
I 4
.IR exports (5),
E 4
.IR nfsd (8),
D 4
.IR portmap (8)
E 4
I 4
.IR portmap (8),
.IR showmount (8)
E 6
I 6
.Sh FILES
D 7
.Bl -tag -width /etc/exports -compact
E 7
I 7
.Bl -tag -width /var/run/mountd.pid -compact
E 7
.It Pa /etc/exports
I 7
the list of exported filesystems
.It Pa /var/run/mountd.pid
the pid of the currently running mountd
E 7
.El
.Sh SEE ALSO
.Xr nfsstat 1 ,
.Xr exports 5 ,
.Xr nfsd 8 ,
.Xr portmap 8 ,
.Xr showmount 8
.Sh HISTORY
The
D 9
.Nm
command
.Ud
E 9
I 9
.Nm mountd
utility first appeared in 4.4BSD.
E 9
E 6
E 4
E 1
