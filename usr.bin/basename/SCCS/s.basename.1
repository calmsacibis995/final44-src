h14428
s 00002/00002/00069
d D 8.2 94/04/18 20:44:30 bostic 11 10
c spelling
e
s 00002/00002/00069
d D 8.1 93/06/06 14:22:57 bostic 10 9
c 4.4BSD snapshot (revision 8.1); add 1993 to copyright
e
s 00003/00000/00068
d D 6.7 91/06/27 17:10:33 bostic 9 8
c add POSIX/IEEE contribution notice
e
s 00032/00070/00036
d D 6.6 91/03/14 01:39:07 cael 8 7
c updated to -mdoc version 3
e
s 00069/00031/00037
d D 6.5 91/03/09 12:36:20 bostic 7 6
c POSIX.2, Draft 11
e
s 00030/00012/00038
d D 6.4 90/07/24 22:41:24 cael 6 5
c .Xr botch fix
e
s 00049/00031/00001
d D 6.3 90/06/11 05:53:19 cael 5 4
c converted man page
e
s 00018/00018/00014
d D 6.2 87/12/05 18:49:34 bostic 4 3
c add dirname(1), minor cleanups
e
s 00001/00001/00031
d D 6.1 85/04/29 17:39:27 mckusick 3 2
c 4.3BSD beta release manual page
e
s 00002/00002/00030
d D 5.1 85/04/29 17:39:18 mckusick 2 1
c manual page distributed with 4.2BSD
e
s 00032/00000/00000
d D 4.1 85/04/29 17:39:06 mckusick 1 0
c manual page distributed with 4.1BSD
e
u
U
t
T
I 1
D 5
.\"	%W% (Berkeley) %G%
E 5
I 5
D 10
.\" Copyright (c) 1990 The Regents of the University of California.
.\" All rights reserved.
E 10
I 10
D 11
.\" Copyright (c) 1990, 1993
E 11
I 11
.\" Copyright (c) 1990, 1993, 1994
E 11
.\"	The Regents of the University of California.  All rights reserved.
E 10
E 5
.\"
I 9
.\" This code is derived from software contributed to Berkeley by
.\" the Institute of Electrical and Electronics Engineers, Inc.
.\"
E 9
D 2
.TH BASENAME 1 
E 2
I 2
D 3
.TH BASENAME 1 "1 April 1981"
E 3
I 3
D 5
.TH BASENAME 1 "%Q%"
E 3
E 2
.AT 3
.SH NAME
D 4
basename \- strip filename affixes
E 4
I 4
basename, dirname \- strip filename affixes
E 4
.SH SYNOPSIS
D 4
.B basename
string [ suffix ]
E 4
I 4
\fBbasename\fP \fBstring\fP [ \fBsuffix\fP ]
.br
\fBdirname\fP \fBstring\fP
E 4
.SH DESCRIPTION
D 4
.I Basename
deletes any prefix ending in `/' and the
.I suffix,
if present in
.I string,
from
.I string,
and prints the result on the standard output.
It is normally used inside substitution marks \`\ \`
in shell procedures.
E 4
I 4
\fIBasename\fP deletes any prefix ending in `/' and the \fIsuffix\fP,
if present in \fIstring\fP, from \fIstring\fP, and prints the result
to the standard output.  It is normally used inside substitution marks
(\`\`) in shell procedures.
E 4
.PP
D 4
This shell procedure invoked with the argument
D 2
.I /usr/src/cmd/cat.c
E 2
I 2
.I /usr/src/bin/cat.c
E 2
compiles the named file and moves the output to
.I cat
in the current directory:
E 4
I 4
\fIDirname\fP deletes from the last slash (``/'') to the end of
\fIstring\fP, and prints to result to the standard output.
.SH EXAMPLES
This shell procedure invoked with the argument \fI/usr/src/bin/cat.c\fP
compiles the named file and moves the output to \fIcat\fP in the current
directory:
E 4
.IP "" 15n
cc $1
.br
mv a.out \`basename $1 .c\`
I 4
.PP
The following line sets the shell variable \fIFOO\fP to \fI/usr/bin\fP.
.IP "" 15n
FOO=`dirname /usr/bin/trail`
E 4
.SH "SEE ALSO"
sh(1)
E 5
I 5
.\" %sccs.include.redist.man%
.\"
.\"     %W% (Berkeley) %G%
.\"
D 7
.Dt BASENAME 1
E 7
.Dd %Q%
I 7
.Dt BASENAME 1
E 7
D 8
.Os BSD 4.4
E 8
I 8
.Os
E 8
.Sh NAME
D 6
.Nm basename
.Nd Extract filename from pathname
E 6
I 6
.Nm basename , dirname
D 7
.Nd return filename or directory portion of pathname
E 7
I 7
D 8
.Nd return file or directory portion of pathname
E 8
I 8
.Nd return filename or directory portion of pathname
E 8
E 7
E 6
.Sh SYNOPSIS
.Nm basename
.Ar string
D 6
.Op suffix
E 6
I 6
.Op Ar suffix
.Nm dirname
.Ar string
E 6
.Sh DESCRIPTION
.Nm Basename
D 6
strips 
.Ar string
of its pathname prefix
E 6
I 6
D 7
deletes any prefix ending with the last slash
E 7
I 7
D 8
displays the file name portion of a path, as determined by the following
rules.
It first deletes any trailing slash
E 7
.Sq Li \&/
D 7
character present in
E 7
I 7
characters from
E 8
I 8
deletes any prefix ending with the last slash
.Ql \&/
character present in
E 8
E 7
.Ar string ,
E 6
D 7
and a
E 7
I 7
D 8
then any path prefix ending in a slash, and then
E 8
I 8
and a
E 8
E 7
.Ar suffix ,
D 6
if given, to the standard output.
E 6
I 6
D 7
if given.
The resulting filename is written to the standard output.
E 7
I 7
D 8
if specified.
The resulting string, and a terminating newline, is written to the
standard output.
.Pp
If the string resulting from the first two steps is the same as
.Ar suffix ,
the third step is skipped and the suffix doesn't change the resulting
string.
.Pp
E 8
I 8
if given.
The resulting filename is written to the standard output.
E 8
E 7
E 6
If
.Ar string
D 7
ends in the slash character,
D 6
.Li / ,
E 6
I 6
.Sq Li / ,
E 6
or is the same as the
.Ar suffix
argument,
a newline is output.
A non-existant suffix is ignored.
E 7
I 7
D 8
consists entirely of slash characters, the resulting string is a single
slash character.
E 8
I 8
ends in the slash character,
.Ql / ,
or is the same as the
.Ar suffix
argument,
a newline is output.
D 11
A non-existant suffix is ignored.
E 11
I 11
A non-existent suffix is ignored.
E 11
E 8
E 7
.Pp
I 6
.Nm Dirname
D 7
deletes the filename portion, beginning
with the last slash
.Sq Li \&/
character to the end of
.Ar string , 
and writes the result to the standard output.
.Sh EXAMPLES 
E 6
The following line sets the shell variable
.Ev FOO
to
.Pa /usr/bin .
E 7
I 7
D 8
displays the directory portion of a path, as determined by the following
rules.
It first deletes any trailing slash characters from
.Ar string ,
then any trailing non-slash characters, then any trailing slash characters.
The resulting string, and a terminating newline, is written to the standard
output.
E 7
.Pp
D 7
.Dl FOO=`dirname /usr/bin/trail`
E 7
I 7
If the string resulting from the first step has no slash characters,
the resulting string is a single
.Sq Li \&. .
E 7
.Pp
D 6
.Ar baseline
utility exits 0 on success, and >0 if an error occurs.
E 6
I 6
D 7
Both the
.Nm basename
E 7
I 7
If
.Ar string
consists entirely of slash characters, the resulting string is a single
slash character.
.Pp
.Nm Basename
E 7
and
.Nm dirname
exit 0 on success, and >0 if an error occurs.
E 8
I 8
deletes the filename portion, beginning
with the last slash
.Ql \&/
character to the end of
.Ar string , 
and writes the result to the standard output.
E 8
I 7
.Sh EXAMPLES 
The following line sets the shell variable
D 8
.Ev DIR
E 8
I 8
.Ev FOO
E 8
to
D 8
.Pa /usr/bin ,
and the variable
.Ev FILE
to 
.Pa file .
E 8
I 8
.Pa /usr/bin .
E 8
.Pp
D 8
.Dl DIR=`dirname /usr/bin/file.c`
.Dl FILE=`basename /usr/bin/file .c`
E 7
E 6
.Sh SEE ALSO
I 6
D 7
.Xr csh 1
E 6
.Xr sh 1
E 7
I 7
.Xr sed 1
.Sh COMPATIBILITY
The
.Nm basename
implementation described here is different from historical System V
and BSD implementations of the command.
The following table enumerates the differences from the traditional
BSD implementation.
.Ds I
.Cw "basename foo foo" Historic
.Cl .Em Command	Historic	Current
.Cl basename	\en	ERROR
.Cl basename //	\en		/\en
.Cl basename /a/b/	\en		b\en
.Cl basename foo foo	\en		foo\en
.Cw
.De
E 8
I 8
.Dl FOO=`dirname /usr/bin/trail`
E 8
.Pp
D 8
The
E 8
I 8
Both the
.Nm basename
and
E 8
.Nm dirname
D 8
implementation described here is different from the historical System V
implementation.
E 8
I 8
exit 0 on success, and >0 if an error occurs.
.Sh SEE ALSO
.Xr csh 1
.Xr sh 1
E 8
E 7
.Sh STANDARDS
The
D 6
.Nm baseline
function is expected to be POSIX 1003.2 compatible.
E 6
I 6
.Nm basename
and
.Nm dirname
D 7
functions are expected to be POSIX 1003.2 compatible.
E 7
I 7
D 8
functions are expected to be POSIX 1003.2 compliant.
E 8
I 8
functions are expected to be POSIX 1003.2 compatible.
E 8
E 7
E 6
E 5
E 1
