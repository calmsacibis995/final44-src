h59110
s 00002/00002/00098
d D 8.1 93/06/29 18:44:18 bostic 13 12
c 4.4BSD snapshot (revision 8.1); add 1993 to copyright
e
s 00004/00004/00096
d D 6.9 93/06/29 18:44:05 mckusick 12 10
c misc typesetting nits
e
s 00002/00002/00098
d R 8.1 93/06/06 14:27:53 bostic 11 10
c 4.4BSD snapshot (revision 8.1); add 1993 to copyright
e
s 00002/00005/00098
d D 6.8 91/06/17 14:37:10 bostic 10 9
c don't mention contributors in the man page
e
s 00024/00026/00079
d D 6.7 91/03/14 01:40:43 cael 9 8
c updated to -mdoc version 3
e
s 00001/00001/00104
d D 6.6 90/07/24 22:42:29 cael 8 7
c .Xr botch fix
e
s 00002/00002/00103
d D 6.5 90/06/26 00:58:56 cael 7 6
c converted man page
e
s 00060/00079/00045
d D 6.4 90/06/11 05:54:29 cael 6 5
c converted man page
e
s 00109/00058/00015
d D 6.3 90/05/22 11:08:44 bostic 5 4
c new version from Michael Rendell
c Michael Rendell <michael@stretch.cs.mun.ca>
e
s 00005/00005/00068
d D 6.2 86/05/16 14:10:37 mckusick 4 3
c col does not do tab compression by default
e
s 00001/00001/00072
d D 6.1 85/04/29 17:42:32 mckusick 3 2
c 4.3BSD beta release manual page
e
s 00006/00003/00067
d D 5.1 85/04/29 17:42:23 mckusick 2 1
c manual page distributed with 4.2BSD
e
s 00070/00000/00000
d D 4.1 85/04/29 17:42:15 mckusick 1 0
c manual page distributed with 4.1BSD
e
u
U
t
T
I 5
D 13
.\" Copyright (c) 1990 The Regents of the University of California.
.\" All rights reserved.
E 13
I 13
.\" Copyright (c) 1990, 1993
.\"	The Regents of the University of California.  All rights reserved.
E 13
.\"
.\" This code is derived from software contributed to Berkeley by
D 8
.\" Michael Rendell of the Memorial University of Newfoundland.
E 8
I 8
.\" Michael Rendell.
E 8
.\"
.\" %sccs.include.redist.man%
.\"
E 5
I 1
D 6
.\"	%W% (Berkeley) %G%
E 6
I 6
.\"     %W% (Berkeley) %G%
E 6
.\"
D 2
.TH COL 1
E 2
I 2
D 3
.TH COL 1 "18 January 1983"
E 3
I 3
D 6
.TH COL 1 "%Q%"
E 3
E 2
D 5
.AT 3
E 5
I 5
.UC 7
E 5
.SH NAME
D 5
col \- filter reverse line feeds
E 5
I 5
col \- filter reverse line feeds from input
E 5
.SH SYNOPSIS
D 2
.B col [\|\-bfx\|]
E 2
I 2
D 5
.B col
[
D 4
.B \-bfx
E 4
I 4
.B \-bfh
E 4
]
E 5
I 5
.nf
.ft B
col [ \-bfx ] [ \-l num ]
.ft R
.fi
E 5
E 2
.SH DESCRIPTION
.I Col
E 6
I 6
.Dd %Q%
.Dt COL 1
D 7
.Os ATT 7
E 7
I 7
D 9
.Os BSD 4.4
E 9
I 9
.Os
E 9
E 7
.Sh NAME
.Nm col
.Nd filter reverse line feeds from input
.Sh SYNOPSIS
.Nm col
.Op Fl bfx
.Op Fl l Ar num
.Sh DESCRIPTION
.Nm Col
E 6
D 5
reads the standard input and writes the standard output.
It performs the line overlays implied by reverse line
feeds (ESC-7 in ASCII)
and by forward and reverse half line feeds (ESC-9 and ESC-8).
E 5
I 5
D 9
filters out reverse (and half reverse) line feeds so that the output is
in the correct order and contains only forward and half forward line
E 9
I 9
D 12
filters out reverse (and half reverse) line feeds so the output is
E 12
I 12
filters out reverse (and half reverse) line feeds so that the output is
E 12
in the correct order with only forward and half forward line
E 9
feeds, and replaces white-space characters with tabs where possible.
This can be useful in processing the output of
D 6
.IR nroff (1)
E 6
I 6
.Xr nroff 1
E 6
and
D 6
.IR tbl (1).
.PP
E 5
.I Col
E 6
I 6
.Xr tbl  1 .
.Pp
.Nm Col
E 6
D 5
is particularly useful for filtering multicolumn
output made with the `.rt' command of
.I nroff
and output resulting from use of the
.IR tbl (1)
preprocessor.
E 5
I 5
D 12
reads from standard input and writes to standard output.
E 12
I 12
reads from the standard input and writes to the standard output.
E 12
E 5
D 6
.PP
E 6
I 6
.Pp
E 6
D 5
Although
.I col
accepts half line motions in its input, it normally does not
emit them on output.
Instead, text that would appear between lines is moved to the next lower
full line boundary.
This treatment can be suppressed by the
.B \-f
(fine) option; in this case
the output from
.I col
may contain forward half line feeds (ESC-9), but will still never contain
either kind of reverse line motion.
E 5
I 5
The options are as follows:
D 6
.TP
.I \-b
E 6
I 6
D 9
.Tw Fl
.Tp Fl b
E 9
I 9
D 12
.Bl -tag -width "-lnum"
E 12
I 12
.Bl -tag -width "-l num  "
E 12
.It Fl b
E 9
E 6
D 10
Do not output any backspaces \- print only the last character
E 10
I 10
Do not output any backspaces, printing only the last character
E 10
written to each column position.
D 6
.TP
.I \-f
E 6
I 6
D 9
.Tp Fl f
E 9
I 9
.It Fl f
E 9
E 6
Forward half line feeds are permitted (``fine'' mode).
Normally characters printed on a half line boundary are printed
on the following line.
D 6
.TP
.I \-x
E 6
I 6
D 9
.Tp Fl x
E 9
I 9
.It Fl x
E 9
E 6
Output multiple spaces instead of tabs.
D 6
.TP
.I "\-l num"
E 6
I 6
D 9
.Tp Cx Fl l
.Cx Ar num
.Cx
E 9
I 9
D 12
.It Fl l Ns Ar num
E 12
I 12
.It Fl l Ar num
E 12
E 9
E 6
Buffer at least
D 6
.I num
E 6
I 6
.Ar num
E 6
lines in memory.
By default, 128 lines are buffered.
E 5
D 6
.PP
E 6
I 6
D 9
.Tp
E 9
I 9
.El
E 9
.Pp
E 6
D 5
If the
.B \-b
option is given,
E 5
I 5
The control sequences for carriage motion that
E 5
D 6
.I col
E 6
I 6
.Nm col
E 6
D 5
assumes that the output device in use is not capable of backspacing.
In this case, if several characters are to appear in the same place,
only the last one read will be taken.
E 5
I 5
understands and their decimal values are listed in the following
table:
D 6
.sp
.TP 17
ESC\-7
E 6
I 6
.Pp
D 9
.Dw carriage\ return
.Di L
.Dp ESC\-7
E 9
I 9
.Bl -tag -width "carriage return" -compact
.It ESC\-7
E 9
E 6
reverse line feed (escape then 7)
D 6
.br
.ns
.TP 17
ESC\-8
E 6
I 6
D 9
.Dp ESC\-8
E 9
I 9
.It ESC\-8
E 9
E 6
half reverse line feed (escape then 8)
D 6
.br
.ns
.TP 17
ESC\-9 
E 6
I 6
D 9
.Dp ESC\-9
E 9
I 9
.It ESC\-9
E 9
E 6
half forward line feed (escape then 9)
D 6
.br
.ns
.TP 17
backspace
E 6
I 6
D 9
.Dp backspace
E 9
I 9
.It backspace
E 9
E 6
moves back one column (8); ignored in the first column
D 6
.br
.ns
.TP 17
carriage return
E 6
I 6
D 9
.Dp carriage return
E 9
I 9
.It carriage return
E 9
E 6
(13)
D 6
.br
.ns
.TP 17
newline
E 6
I 6
D 9
.Dp newline
E 9
I 9
.It newline
E 9
E 6
forward line feed (10); also does carriage return
D 6
.br
.ns
.TP 17
shift in
E 6
I 6
D 9
.Dp shift in
E 9
I 9
.It shift in
E 9
E 6
shift to normal character set (15)
D 6
.br
.ns
.TP 17
shift out
E 6
I 6
D 9
.Dp shift out
E 9
I 9
.It shift out
E 9
E 6
shift to alternate character set (14)
D 6
.br
.ns
.TP 17
space
E 6
I 6
D 9
.Dp space
E 9
I 9
.It space
E 9
E 6
moves forward one column (32)
D 6
.br
.ns
.TP 17
tab
E 6
I 6
D 9
.Dp tab
E 9
I 9
.It tab
E 9
E 6
moves forward to next tab stop (9)
D 6
.br
.ns
.TP 17
vertical tab
E 6
I 6
D 9
.Dp vertical tab
E 9
I 9
.It vertical tab
E 9
E 6
reverse line feed (11)
E 5
D 6
.PP
E 6
I 6
D 9
.Dp
E 9
I 9
.El
E 9
.Pp
E 6
D 5
The control characters SO (ASCII code 017),
and SI (016) are assumed
to start and end text in an alternate character set.
The character set (primary or alternate) associated with each printing
character read is remembered; on output, SO and SI characters are generated
where necessary to maintain the correct treatment of each character.
E 5
I 5
All unrecognized control characters and escape sequences are
discarded.
E 5
D 6
.PP
D 4
.I Col
normally converts white space to tabs to shorten printing time.
E 4
D 5
If the
D 4
.B \-x
option is given, this conversion is suppressed.
E 4
I 4
.B \-h
option is given,
.I col
converts white space to tabs to shorten printing time.
E 5
I 5
.I Col
E 6
I 6
.Pp
.Nm Col
E 6
keeps track of the character set as characters are read and makes
sure the character set is correct when they are output.
E 5
E 4
D 6
.PP
E 6
I 6
.Pp
E 6
D 5
All control characters are removed from the input except space,
backspace,
tab, return, newline, ESC (033) followed by one of 7, 8, 9, SI, SO, and VT
(013).
This last character is an alternate form of full reverse line feed, for
compatibility with some other hardware conventions.
All other non-printing characters are ignored.
E 5
I 5
If the input attempts to back up to the last flushed line,
D 6
.I col
E 6
I 6
.Nm col
E 6
will display a warning message.
E 5
D 6
.SH "SEE ALSO"
D 2
troff(1), tbl(1), greek(1)
E 2
I 2
D 5
troff(1), tbl(1)
E 2
.SH BUGS
Can't back up more than 128 lines.
.br
No more than 800 characters, including backspaces, on a line.
E 5
I 5
expand(1), nroff(1), tbl(1)
E 6
I 6
.Sh SEE ALSO
.Xr expand 1 ,
.Xr nroff 1 ,
.Xr tbl 1
.Sh HISTORY
A
.Nm col
command
D 9
appeared in Version 6 AT&T UNIX.  The BSD
E 9
I 9
D 10
appeared in Version 6 AT&T UNIX.  The
.Bx
E 9
.Nm col
is derived from code written by Michael Rendell.
E 10
I 10
appeared in Version 6 AT&T UNIX.
E 10
E 6
E 5
E 1
