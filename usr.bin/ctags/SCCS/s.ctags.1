h45754
s 00002/00002/00186
d D 8.1 93/06/06 14:29:38 bostic 13 12
c 4.4BSD snapshot (revision 8.1); add 1993 to copyright
e
s 00013/00012/00175
d D 6.9 93/06/01 17:04:44 bostic 12 11
c cleanup by George Lavendar
e
s 00063/00061/00124
d D 6.8 91/04/24 15:49:24 cael 11 9
c mdoc version three
e
s 00063/00061/00124
d R 6.8 91/04/24 15:47:27 cael 10 9
c 
e
s 00012/00015/00173
d D 6.7 90/07/24 22:43:19 cael 9 8
c .Xr botch fix
e
s 00151/00099/00037
d D 6.6 90/06/11 05:55:26 cael 8 7
c converted man page
e
s 00014/00003/00122
d D 6.5 88/12/31 12:32:27 bostic 7 6
c original by Ken Arnold -- Berkeley copyright
e
s 00007/00000/00118
d D 6.4 87/03/16 17:37:18 bostic 6 5
c cleanup
e
s 00065/00100/00053
d D 6.3 87/03/13 21:56:06 bostic 5 4
c updated, added -d flag, structs, enums, unions
e
s 00011/00000/00142
d D 6.2 85/05/30 23:28:06 sam 4 3
c update for -f flag
e
s 00013/00004/00129
d D 6.1 85/04/29 14:21:00 mckusick 3 2
c 4.3BSD beta release manual page
e
s 00029/00016/00104
d D 5.1 85/04/29 14:20:50 mckusick 2 1
c manual page distributed with 4.2BSD
e
s 00120/00000/00000
d D 4.1 85/04/29 14:20:41 mckusick 1 0
c manual page distributed with 4.1BSD
e
u
U
t
T
I 1
D 7
.\" Copyright (c) 1980 Regents of the University of California.
.\" All rights reserved.  The Berkeley software License Agreement
.\" specifies the terms and conditions for redistribution.
E 7
I 7
D 8
.\" Copyright (c) 1987 The Regents of the University of California.
E 8
I 8
D 13
.\" Copyright (c) 1987, 1990 The Regents of the University of California.
E 8
.\" All rights reserved.
E 13
I 13
.\" Copyright (c) 1987, 1990, 1993
.\"	The Regents of the University of California.  All rights reserved.
E 13
.\"
D 8
.\" Redistribution and use in source and binary forms are permitted
.\" provided that the above copyright notice and this paragraph are
.\" duplicated in all such forms and that any documentation,
.\" advertising materials, and other materials related to such
.\" distribution and use acknowledge that the software was developed
.\" by the University of California, Berkeley.  The name of the
.\" University may not be used to endorse or promote products derived
.\" from this software without specific prior written permission.
.\" THIS SOFTWARE IS PROVIDED ``AS IS'' AND WITHOUT ANY EXPRESS OR
.\" IMPLIED WARRANTIES, INCLUDING, WITHOUT LIMITATION, THE IMPLIED
.\" WARRANTIES OF MERCHANTIBILITY AND FITNESS FOR A PARTICULAR PURPOSE.
E 8
I 8
D 11
.\" %sccs.include.redist.man%
E 11
I 11
.\" %sccs.include.redist.roff%
E 11
E 8
E 7
.\"
D 8
.\"	%W% (Berkeley) %G%
E 8
I 8
.\"     %W% (Berkeley) %G%
E 8
.\"
D 2
.TH CTAGS 1 4/1/81
E 2
I 2
D 3
.TH CTAGS 1 "25 August 1982"
E 3
I 3
D 8
.TH CTAGS 1 "%Q%"
E 3
E 2
.UC 4
.SH NAME
ctags \- create a tags file
.SH SYNOPSIS
.B ctags
[ 
D 2
.B \-u
] [
.B \-v
] [
.B \-w
] [
.B \-x
E 2
I 2
D 5
.B \-BFatuwvx
E 5
I 5
.B \-BFadtuwvx
E 5
I 4
] [
D 5
.B \-f 
E 5
I 5
.B \-f
E 5
.I tagsfile
E 4
E 2
]
name ...
.SH DESCRIPTION
D 5
.I Ctags
makes a tags file for
.IR ex (1)
D 3
from the specified C, Pascal and Fortran sources.
E 3
I 3
from the specified C, Pascal, Fortran, YACC, lex, and lisp sources.
E 3
A tags file gives the locations of specified objects (in this case
D 2
functions) in a group of files.
Each line of the tags file contains the function name,
the file in which it is defined, and a scanning pattern used to find
the function definition.  These are given in separate fields on the line,
separated by blanks or tabs.
E 2
I 2
functions and typedefs) in a group of files.  Each line of the tags
file contains the object name, the file in which it is defined, and
an address specification for the object definition. Functions are
searched with a pattern, typedefs with a line number. Specifiers are
given in separate fields on the line, separated by blanks or tabs.
E 2
Using the
.I tags
file,
.I ex
D 2
can quickly find these function definitions.
E 2
I 2
can quickly find these objects definitions.
E 5
I 5
\fICtags\fP makes a tags file for \fIex\fP(1) from the specified C,
E 8
I 8
.Dd %Q%
.Dt CTAGS 1
.Os BSD 4
.Sh NAME
.Nm ctags
.Nd create a tags file
.Sh SYNOPSIS
.Nm ctags
.Op Fl BFadtuwvx
.Op Fl f Ar tagsfile
.Ar name ...
.Sh DESCRIPTION
.Nm Ctags
makes a tags file for
.Xr ex 1
from the specified C,
E 8
D 11
Pascal, Fortran, YACC, lex, and lisp sources.  A tags file gives the
E 11
I 11
Pascal, Fortran,
.Tn YACC ,
D 12
lex, and lisp sources.  A tags file gives the
E 11
locations of specified objects in a group of files.  Each line of the
tags file contains the object name, the file in which it is defined,
and a search pattern for the object definition, separated by white-space.
E 12
I 12
lex, and lisp sources.
A tags file gives the locations of specified objects in a group of files.
Each line of the tags file contains the object name, the file in which it
is defined, and a search pattern for the object definition, separated by
white-space.
E 12
D 8
Using the \fItags\fP file, \fIex\fP(1) can quickly locate these object
definitions.  Depending on the options provided to \fIctags\fP,
E 8
I 8
Using the
.Ar tags
file,
.Xr ex 1
D 12
can quickly locate these object
D 9
definitions.  Depending on the options provided to .Nm ctags  ,
E 9
I 9
definitions.  Depending on the options provided to
E 12
I 12
can quickly locate these object definitions.
Depending upon the options provided to
E 12
.Nm ctags ,
E 9
E 8
objects will consist of subroutines, typedefs, defines, structs,
enums and unions.
E 5
E 2
D 8
.PP
I 6
Yacc and lex files each have a special tag.  \fIYyparse\fP is the start
of the second section of the yacc file, and \fIyylex\fP is the start of
the second section of the lex file.
.PP
E 6
D 5
If the
.B \-x
flag is given, 
.I ctags
D 2
produces a list of function names, the line number and file
E 2
I 2
produces a list of object names, the line number and file
E 2
name on which each is defined, as well as the text of that line
and prints this on the standard output.  This is a simple index
which can be printed out as an off-line readable function index.
E 5
I 5
If the \fB-x\fP flag is given, \fIctags\fP produces a list of object
E 8
I 8
D 11
.Pp
I 9
.Tw Ds
E 9
.Tp Fl x
.Nm ctags
produces a list of object
E 8
names, the line number and file name on which each is defined, as well
as the text of that line and prints this on the standard output.  This
is a simple index which can be printed out as an off-line readable
function index.
E 5
D 8
.PP
D 5
If the
.B \-v
flag is given,
an index of the form expected by
.IR vgrind (1)
is produced on the standard output.
This listing contains the function name,
file name, and page number
(assuming 64 line pages).
Since the output will be sorted into lexicographic order,
it may be desired to run the output through
.BR "sort \-f" .
E 5
I 5
If the \fB-v\fP flag is given, an index of the form expected by
\fIvgrind\fP(1) is produced on the standard output.  This listing
E 8
I 8
.Pp
.Tp Fl v
An index of the form expected by
.Xr vgrind 1
is produced on the standard output.  This listing
E 8
contains the object name, file name, and page number (assuming 64
line pages).  Since the output will be sorted into lexicographic order,
D 8
it may be desired to run the output through \fBsort -f\fP.
E 8
I 8
it may be desired to run the output through
.Xr sort 1 .
E 8
E 5
Sample use:
D 8
.nf
	ctags \-v files | sort \-f > index
	vgrind \-x index
.fi
I 4
.PP
D 5
Normally 
.I ctags
places the tag descriptions in a file called
.IR tags ;
this may be overridden with the
.B \-f
option.
E 5
I 5
Normally \fIctags\fP places the tag descriptions in a file called
\fItags\fP; this may be overridden with the \fB-f\fP option.
E 5
E 4
.PP
D 3
Files whose name ends in 
E 3
I 3
D 5
Files whose names end in 
E 3
.B \.c
or
.B \.h
are assumed to be C source files and are searched for C routine and
macro definitions.
D 3
Others are first examined to see if they contain any Pascal or
E 3
I 3
Files whose names end in
.B \.y
are assumed to be YACC source files.
Files whose names end in
.B \.l
are assumed to be either lisp files
if their first non-blank character is `;', `(', or `[',
or lex files otherwise.
Other files are first examined to see if they contain any Pascal or
E 3
Fortran routine definitions; if not, they are processed again
looking for C definitions.
E 5
I 5
Files whose names end in \fB.c\fP or \fB.h\fP are assumed to be C
source files and are searched for C style routine and macro definitions.
Files whose names end in \fB.y\fP are assumed to be YACC source files.
Files whose names end in \fB.l\fP are assumed to be lisp files if their
first non-blank character is `;', `(', or `[', otherwise, they are
treated as lex files.  Other files are first examined to see if they
contain any Pascal or Fortran routine definitions, and, if not, are
searched for C style definitions.
E 5
.PP
Other options are:
.TP 5
I 2
.B \-F
E 8
I 8
.Pp
.Ds I
D 9
ctags \-v files  sort \-f > index
E 9
I 9
ctags \-v files \&| sort \-f > index
E 9
vgrind \-x index
.De
.Tp Fl f
Places the tag descriptions in a file called
D 9
.Ar tagsfile.  The default behaviour is to place them in a file
named
E 9
I 9
.Ar tagsfile .
The default behaviour is to place them in a file
E 9
.Ar tags .
.Tp Fl F
E 8
D 5
use forward searching patterns (/.../) (default).
E 5
I 5
use forward searching patterns (/.../) (the default).
E 5
D 8
.TP 5
.B \-B
E 8
I 8
.Tp Fl B
E 8
use backward searching patterns (?...?).
D 8
.TP 5
.B \-a
D 5
append to tags file.
E 5
I 5
append to \fItags\fP file.
E 5
.TP 5
I 5
.B \-d
create tags for \fI#defines\fP that don't take arguments; \fI#defines\fP
E 8
I 8
.Tp Fl a
E 11
I 11
.Bl -tag -width Ds
.It Fl B
use backward searching patterns
.Pq Li ?...? .
.It Fl F
use forward searching patterns
.Pq Li /.../
(the default).
.It Fl a
E 11
append to
.Ar tags
file.
D 11
.Tp Fl d
E 11
I 11
.It Fl d
E 11
create tags for
D 9
.Ar #defines
E 9
I 9
.Li #defines
E 9
that don't take arguments;
D 9
.Ar #defines
E 9
I 9
.Li #defines
E 9
E 8
that take arguments are tagged automatically.
D 8
.TP 5
E 5
.B \-t
E 8
I 8
D 11
.Tp Fl t
E 11
I 11
.It Fl f
Places the tag descriptions in a file called
.Ar tagsfile .
D 12
The default behaviour is to place them in a file
E 12
I 12
The default behaviour is to place them in a file called
E 12
.Ar tags .
.It Fl t
E 11
E 8
D 5
create tags for typedefs.
E 5
I 5
create tags for typedefs, structs, unions, and enums.
E 5
D 8
.TP 5
E 2
.B \-w
E 8
I 8
D 11
.Tp Fl w
E 8
D 5
suppressing warning diagnostics.
E 5
I 5
suppress warning diagnostics.
E 5
D 8
.TP 5
.B \-u
D 5
causing the specified files to be
.I updated
in tags, that is, all references to them are deleted,
and the new values are appended to the file.
(Beware: this option is implemented in a way which is rather slow;
it is usually faster to simply rebuild the
.I tags
file.)
E 5
I 5
update the specified files in the \fItags\fP file, that is, all
E 8
I 8
.Tp Fl u
E 11
I 11
.It Fl u
E 11
update the specified files in the
.Ar tags
file, that is, all
E 8
references to them are deleted, and the new values are appended to the
file.  (Beware: this option is implemented in a way which is rather
D 8
slow; it is usually faster to simply rebuild the \fItags\fP file.)
E 5
.PP
D 5
The tag
.I main
is treated specially in C programs.
The tag formed is created by prepending
.I M
to the name of the file, with a trailing .c removed, if
any, and leading pathname components also removed.
This makes use of
.I ctags
practical in directories with more than one program.
E 5
I 5
The tag \fImain\fP is treated specially in C programs.  The tag formed
is created by prepending \fIM\fP to the name of the file, with the
trailing \fB.c\fP and any leading pathname components removed.  This
makes use of \fIctags\fP practical in directories with more than one
E 8
I 8
slow; it is usually faster to simply rebuild the
.Ar tags
file.)
D 11
.Tp
E 11
I 11
.It Fl v
An index of the form expected by
.Xr vgrind 1
is produced on the standard output.  This listing
contains the object name, file name, and page number (assuming 64
line pages).  Since the output will be sorted into lexicographic order,
it may be desired to run the output through
.Xr sort 1 .
Sample use:
.Bd -literal -offset indent
ctags \-v files \&| sort \-f > index
vgrind \-x index
.Ed
.It Fl w
suppress warning diagnostics.
.It Fl x
.Nm ctags
produces a list of object
names, the line number and file name on which each is defined, as well
as the text of that line and prints this on the standard output.  This
is a simple index which can be printed out as an off-line readable
function index.
.El
E 11
.Pp
Files whose names end in
.Nm \&.c
or
.Nm \&.h
are assumed to be C
source files and are searched for C style routine and macro definitions.
Files whose names end in
.Nm \&.y
D 11
are assumed to be YACC source files.
E 11
I 11
are assumed to be
.Tn YACC
source files.
E 11
Files whose names end in
.Nm \&.l
are assumed to be lisp files if their
first non-blank character is `;', `(', or `[',
otherwise, they are
treated as lex files.  Other files are first examined to see if they
contain any Pascal or Fortran routine definitions, and, if not, are
searched for C style definitions.
.Pp
The tag
D 9
.Ar main
E 9
I 9
.Li main
E 9
is treated specially in C programs.  The tag formed
is created by prepending
.Ar M
to the name of the file, with the
trailing
.Nm \&.c
and any leading pathname components removed.  This
makes use of
.Nm ctags
practical in directories with more than one
E 8
program.
E 5
D 8
.SH FILES
.DT
D 5
tags		output tags file
E 5
I 5
tags		default output tags file
I 6
.SH DIAGNOSTICS
\fICtags\fP exits with a value of 1 if an error occurred, where
E 8
I 8
.Pp
Yacc and lex files each have a special tag.
.Ar Yyparse
is the start
of the second section of the yacc file, and
.Ar yylex
is the start of
the second section of the lex file.
.Sh FILES
D 11
.Dw tags
.Di L
.Dp Pa tags
E 11
I 11
.Bl -tag -width tags -compact
.It Pa tags
E 11
default output tags file
D 11
.Dp
E 11
I 11
.El
E 11
.Sh DIAGNOSTICS
.Nm Ctags
D 12
exits with a value of 1 if an error occurred, where
E 8
duplicate objects are not considered errors, 0 otherwise.
E 12
I 12
exits with a value of 1 if an error occurred, 0 otherwise.
Duplicate objects are not considered errors.
E 12
E 6
E 5
D 8
.SH SEE ALSO
ex(1), vi(1)
.SH AUTHOR
E 8
I 8
.Sh SEE ALSO
.Xr ex 1 ,
.Xr vi 1
D 11
.Sh HISTORY
.Nm
appeared in 3 BSD.
.Sh AUTHOR
E 8
D 5
Ken Arnold; FORTRAN added by Jim Kleckner; Bill Joy
added Pascal and
.B \-x,
replacing
D 2
.I cxref.
E 2
I 2
.I cxref;
C typedefs added by Ed Pelegri-Llopart.
E 5
I 5
Ken Arnold; FORTRAN added by Jim Kleckner; Bill Joy added Pascal and
D 8
\fB-x\fP, replacing \fIcxref\fP; C typedefs added by Ed Pelegri-Llopart.
E 5
E 2
.SH BUGS
Recognition of \fBfunctions\fR, \fBsubroutines\fR and \fBprocedures\fR
E 8
I 8
.Fl x ,
replacing
.Ar cxref  ;
C typedefs added by Ed Pelegri-Llopart.
E 11
.Sh BUGS
Recognition of
.Nm functions  ,
.Nm subroutines
and
.Nm procedures
E 8
D 5
for FORTRAN and Pascal is done is a very simpleminded way.
No attempt is made to deal with block structure; if you have two
Pascal procedures in different blocks with the same name you lose.
E 5
I 5
D 11
for FORTRAN and Pascal is done is a very simpleminded way.  No attempt
E 11
I 11
for
.Tn FORTRAN
and Pascal is done is a very simpleminded way.  No attempt
E 11
is made to deal with block structure; if you have two Pascal procedures
D 8
in different blocks with the same name you lose.  \fICtags\fP doesn't
E 8
I 8
in different blocks with the same name you lose.
.Nm Ctags
doesn't
E 8
understand about Pascal types.
E 5
D 8
.PP
E 8
I 8
.Pp
E 8
D 5
The method of deciding whether to look for C or Pascal and FORTRAN
E 5
I 5
D 11
The method of deciding whether to look for C, Pascal or FORTRAN
E 11
I 11
The method of deciding whether to look for C, Pascal or
.Tn FORTRAN
E 11
E 5
functions is a hack.
I 2
D 8
.PP
D 5
Does not know about #ifdefs.
.PP
Should know about Pascal types.
Relies on the input being well formed to detect typedefs.
Use of -tx shows only the last line of typedefs.
I 3

E 5
I 5
\fICtags\fP relies on the input being well formed, and any syntactical
E 8
I 8
.Pp
.Nm Ctags
relies on the input being well formed, and any syntactical
E 8
errors will completely confuse it.  It also finds some legal syntax
D 8
confusing; for example, as it doesn't understand \fI#ifdef\fP's,
E 8
I 8
D 12
confusing; for example, as it doesn't understand
D 9
.Cx Ar #ifdef
.Cx 's,
.Cx
E 9
I 9
D 11
.Sf Li #ifdef 's,
E 11
I 11
.Li #ifdef Ns 's ,
E 11
E 9
E 8
(incidentally, that's a feature, not a bug) any code with unbalanced
E 12
I 12
confusing; for example, since it doesn't understand
.Li #ifdef Ns 's
(incidentally, that's a feature, not a bug), any code with unbalanced
E 12
D 8
braces inside \fI#ifdef\fP's will cause it to become somewhat disoriented.
E 8
I 8
braces inside
D 9
.Cx Ar #ifdef
.Cx 's
E 9
I 9
D 11
.Sf Li #ifdef 's
E 11
I 11
.Li #ifdef Ns 's
E 11
E 9
will cause it to become somewhat disoriented.
D 9
.Cx
E 9
E 8
In a similar fashion, multiple line changes within a definition will
cause it to enter the last line of the object, rather than the first, as
D 8
the searching pattern.  The last line of multiple line \fItypedef\fP's
E 8
I 8
the searching pattern.  The last line of multiple line
D 9
.Ar typedef
's
E 9
I 9
D 11
.Sf Li typedef 's
E 11
I 11
.Li typedef Ns 's
E 11
E 9
E 8
will similarly be noted.
I 11
.Sh HISTORY
The
.Nm
command appeared in 
.Bx 3.0 .
E 11
E 5
E 3
E 2
E 1
