.\" Copyright (c) 1990, 1993
.\"	The Regents of the University of California.  All rights reserved.
.\"
.\" This module is believed to contain source code proprietary to AT&T.
.\" Use and redistribution is subject to the Berkeley Software License
.\" Agreement and your Software Agreement with AT&T (Western Electric).
.\"
.\"	@(#)deroff.1	8.1 (Berkeley) 6/6/93
.\"
.Dd June 6, 1993
.Dt DEROFF 1
.Os ATT 7th
.Sh NAME
.Nm deroff
.Nd remove nroff, troff, tbl and eqn constructs
.Sh SYNOPSIS
.Nm deroff
.Op Fl w
.Ar file \&...
.Sh DESCRIPTION
.Nm Deroff
reads each file in sequence and removes all
.Xr nroff 1
and
.Xr troff 1
command lines, backslash constructions, macro definitions,
.Xr eqn 1
constructs (between `.EQ' and `.EN' lines or between delimiters),
and table descriptions and writes the remainder on the standard output.
.Nm Deroff
follows chains of included files (`.so' and `.nx' commands);
if a file has already been included, a `.so' is ignored and a `.nx'
terminates execution.  If no input file is given,
.Nm deroff
reads from the standard input.
.Pp
If the
.Fl w
flag is given, the output is a word list, one `word' (string of letters,
digits, and apostrophes, beginning with a letter; apostrophes are removed)
per line, and all other characters ignored.
Otherwise, the output follows the original, with the deletions mentioned above.
.Sh SEE ALSO
.Xr troff 1 ,
.Xr eqn 1 ,
.Xr tbl 1
.Sh HISTORY
.Nm Deroff
appeared in Version 7 AT&T Unix.
.Sh BUGS
.Nm Deroff
is not a complete
.Xr troff 1
interpreter, so it can be confused by subtle constructs.
Most errors result in too much rather than too little output.
