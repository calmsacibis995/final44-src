h17372
s 00027/00010/00064
d D 8.2 94/04/01 09:23:00 bostic 22 21
c POSIX 1003.2B/D9 symbolic links
e
s 00002/00002/00072
d D 8.1 93/06/06 14:36:58 bostic 21 20
c 4.4BSD snapshot (revision 8.1); add 1993 to copyright
e
s 00001/00001/00073
d D 6.18 92/07/27 13:46:14 bostic 20 19
c on second thought, make it symlink(7)
e
s 00001/00000/00073
d D 6.17 92/07/27 13:39:44 bostic 19 18
c add symlin(1)
e
s 00013/00005/00060
d D 6.16 92/06/01 12:19:05 elan 18 17
c Added -Hh flags documentation.
e
s 00012/00012/00053
d D 6.15 92/03/01 16:35:42 bostic 17 16
c replace -k with the BLOCKSIZE environmental variable
e
s 00003/00003/00062
d D 6.14 91/08/07 00:00:53 cael 16 15
c fix history and .Os
e
s 00007/00006/00058
d D 6.13 91/06/20 11:59:46 bostic 15 14
c make -a and -s mutually exclusive
e
s 00003/00002/00061
d D 6.12 91/06/17 15:22:29 bostic 14 13
c minor wordsmithing
e
s 00003/00003/00060
d D 6.11 91/05/23 18:58:58 bostic 13 12
c make symbolic link behavior clearer
e
s 00006/00001/00057
d D 6.10 91/05/23 18:29:15 bostic 12 11
c follow symbolic links if they are specified as command line args
e
s 00012/00011/00046
d D 6.9 91/04/24 19:30:09 cael 11 10
c mdoc version three/bsd copyright - this wording is convoluted,
e
s 00009/00010/00048
d D 6.8 90/11/21 14:30:54 bostic 10 9
c rephrase so the default case is included in the DESCRIPTION section
e
s 00001/00000/00057
d D 6.7 90/07/24 22:44:16 cael 9 8
c .Xr botch fix
e
s 00000/00001/00057
d D 6.6 90/06/30 01:30:29 cael 8 7
c converted man page
e
s 00043/00037/00015
d D 6.5 90/06/24 19:01:34 cael 7 6
c converted man page
e
s 00028/00018/00024
d D 6.4 89/08/21 22:44:45 bostic 6 5
c display 512-byte blocks, add -k option for 1024-byte blocks
e
s 00001/00001/00041
d D 6.3 89/05/08 17:34:33 bostic 5 4
c document type of link du handles
e
s 00017/00023/00025
d D 6.2 89/03/16 17:20:36 bostic 4 3
c from Chris Newcomb; new version of du, plus bug fixes
e
s 00001/00002/00047
d D 6.1 85/04/29 20:03:43 mckusick 3 2
c 4.3BSD beta release manual page
e
s 00007/00006/00042
d D 5.1 85/04/29 20:03:24 mckusick 2 1
c manual page distributed with 4.2BSD
e
s 00048/00000/00000
d D 4.1 85/04/29 20:03:08 mckusick 1 0
c manual page distributed with 4.1BSD
e
u
U
t
T
I 1
D 7
.\"	%W% (Berkeley) %G%
E 7
I 7
D 21
.\" Copyright (c) 1990 The Regents of the University of California.
.\" All rights reserved.
E 21
I 21
.\" Copyright (c) 1990, 1993
.\"	The Regents of the University of California.  All rights reserved.
E 21
E 7
.\"
D 2
.TH DU 1 
E 2
I 2
D 3
.TH DU 1 "17 March 1982"
E 3
I 3
D 7
.TH DU 1 "%Q%"
E 3
E 2
.AT 3
I 2
D 3
.UC 4
E 3
E 2
.SH NAME
du \- summarize disk usage
.SH SYNOPSIS
.B du
[
D 4
.B \-s
] [
.B \-a
E 4
I 4
D 6
.B \-asx
E 6
I 6
.B \-aksx
E 6
E 4
] [ name ... ]
.SH DESCRIPTION
.I Du
D 2
gives the number of blocks contained in all files
and (recursively) directories within each specified directory or
file
E 2
I 2
D 6
gives the number of kilobytes contained in all files
and, recursively, directories within each specified
directory or file
E 6
I 6
gives the number of 512-byte blocks contained in all files and,
recursively, directories within each specified directory or file
E 6
E 2
.IR name .
If
.I name
D 4
is missing,
`\fB.\fR'
is used.
E 4
I 4
is missing, the current directory is used.
E 7
I 7
D 11
.\" %sccs.include.redist.man%
E 11
I 11
.\" %sccs.include.redist.roff%
E 11
.\"
D 16
.\"     %W% (Berkeley) %G%
E 16
I 16
.\"	%W% (Berkeley) %G%
E 16
.\"
.Dd %Q%
.Dt DU 1
D 16
.Os BSD 4.4
E 16
I 16
.Os
E 16
.Sh NAME
.Nm du
.Nd display disk usage statistics
.Sh SYNOPSIS
.Nm du
D 15
.Op Fl aksx
E 15
I 15
D 22
.Op Fl a Li \&| Fl s
D 17
.Op Fl kx
E 17
I 17
D 18
.Op Fl x
E 18
I 18
.Op Fl Hhx
E 22
I 22
.Op Fl H | Fl L | Fl P
.Op Fl a | Fl s
.Op Fl x
E 22
E 18
E 17
E 15
D 12
.Op Ar pathname ...
E 12
I 12
.Op Ar file ...
E 12
.Sh DESCRIPTION
D 10
.Nm Du
utility displays the block usage of files in the current directory
or for the entire tree of a given pathname.
E 10
I 10
The
.Nm du
D 11
utility displays the file system block usage of each file argument
or of each directory in the file hierarchy rooted in each directory
E 11
I 11
utility displays the file system block usage for each file argument
D 15
or for each directory in the file hierarchy rooted in each directory
E 15
I 15
and for each directory in the file hierarchy rooted in each directory
E 15
E 11
argument.
D 15
By default, the block usage of the hierarchy rooted in the current
directory is displayed.
E 15
I 15
If no file is specified, the block usage of the hierarchy rooted in
the current directory is displayed.
I 17
The number of blocks are in the same units as that returned by the
.Xr stat 2
system call, i.e. 512-byte blocks.
Partial numbers of blocks are rounded up.
E 17
E 15
E 10
.Pp
E 7
E 4
D 6
.PP
D 2
The optional argument
E 2
I 2
D 4
The argument
E 2
.B \-s
causes only the grand total to
be given.
D 2
The optional argument
E 2
I 2
The argument
E 4
I 4
The
E 4
E 2
.B \-a
D 4
causes an entry to be generated
for each file.
E 4
I 4
option causes an entry to be generated for each file.
The
.B \-s
option causes only the grand total to be given.
E 4
Absence of either causes an entry to be generated for
each directory only.
.PP
D 4
A file which has two links to it is only counted once.
E 4
I 4
The
.B \-x
option keeps
E 6
I 6
The options are as follows:
I 9
D 11
.Tw Ds
E 9
D 7
.TP
-a
E 7
I 7
.Tp Fl a
E 11
I 11
.Bl -tag -width Ds
I 22
.It Fl H
Symbolic links on the command line are followed.
(Symbolic links encountered in the tree traversal are not followed.)
.It Fl L
All symbolic links are followed.
.It Fl P
No symbolic links are followed.
E 22
.It Fl a
E 11
E 7
D 15
Generate an entry for each file.
E 15
I 15
Display an entry for each file in the file hierarchy.
E 15
D 7
.TP
-k
E 7
I 7
D 11
.Tp Fl k
E 11
I 11
D 17
.It Fl k
E 11
E 7
By default,
E 6
D 7
.I du
E 7
I 7
.Nm du
E 7
D 6
from crossing any mount points.
E 6
I 6
displays the number of blocks as returned by the
D 7
.IR stat (2)
E 7
I 7
.Xr stat  2
E 7
system call, i.e. 512-byte blocks.
If the
D 7
.I -k
E 7
I 7
.Fl k
E 7
flag is specified, the number displayed is the number of 1024-byte
D 14
blocks with partial blocks rounded up.
E 14
I 14
blocks.
Partial numbers of blocks are rounded up.
E 17
E 14
D 7
.TP
-s
E 7
I 7
D 11
.Tp Fl s
E 11
I 11
.It Fl s
E 11
E 7
D 15
Generate only the grand total.
E 15
I 15
Display only the grand total for the specified files.
I 18
D 22
.It Fl H
When encountering a symbolic link on the command line, follow it.  All other
symbolic links encountered in the traversal are not followed.
.It Fl h
When encountering a symbolic link anywhere in the traversal, follow it.
E 22
E 18
E 15
D 10
If neither
D 7
.I -a
E 7
I 7
.Fl a
E 7
or
D 7
.I -s
E 7
I 7
.Fl s
E 7
are specified, an entry is generated for each directory only.
E 10
D 7
.TP
-x
E 7
I 7
D 11
.Tp Fl x
E 11
I 11
.It Fl x
E 11
E 7
D 14
Don't traverse any mount points.
E 14
I 14
Filesystem mount points are not traversed.
E 14
E 6
D 7
.PP
D 5
A file which has multiple links to it is only counted
E 5
I 5
A file which has multiple hard links to it is only counted
E 5
(and displayed) once per
.I du
E 7
I 7
D 11
.Tp
E 11
I 11
.El
I 12
.Pp
D 13
Symbolic links are not followed unless they are specified as a command
line
E 13
I 13
D 18
If
E 13
.Ar file
D 13
argument.
E 13
I 13
is a symbolic link referencing an existing file, the file referenced
by the link is reported on instead of the link itself.
E 18
I 18
.Nm Du
D 22
references symbolic links as the links themselves unless the
E 22
I 22
counts the storage used by symbolic links and not the files they
reference unless the
E 22
.Fl H
or 
D 22
.Fl h 
flags are specified, in which case behavior is as detailed above.
E 22
I 22
.Fl L 
option is specified.
If either the
.Fl H
or
.Fl L
options are specified, storage used by any symbolic links which are
followed is not counted or displayed.
The
.Fl H ,
.Fl L
and
.Fl P
options override each other and the command's actions are determined
by the last one specified.
E 22
E 18
E 13
E 12
E 11
.Pp
D 10
Files having multiple hard links are counted
(and displayed) a single time per
E 10
I 10
Files having multiple hard links are counted (and displayed) a single
time per
E 10
.Nm du
E 7
execution.
I 17
.Sh ENVIRONMENTAL VARIABLES
.Bl -tag -width BLOCKSIZE
.It Ev BLOCKSIZE
If the environmental variable
.Ev BLOCKSIZE
is set, the block counts will be displayed in units of that size block.
.El
E 17
E 4
D 7
.SH "SEE ALSO"
df(1), quot(8)
E 7
I 7
D 8
.Dp
E 8
.Sh SEE ALSO
.Xr df 1 ,
I 19
D 20
.Xr symlink 1 ,
E 20
E 19
I 18
.Xr fts 3 ,
I 20
.Xr symlink 7 ,
E 20
E 18
.Xr quot 8
.Sh HISTORY
A
D 11
.Nm du
command appeared in Version 6 AT&T Unix.
E 11
I 11
D 16
.Nm
E 16
I 16
.Nm du
E 16
command appeared in
.At v6 .
E 11
E 7
D 4
.SH BUGS
Non-directories
given as arguments (not under
.B \-a
option) are not listed.
.br
If there are too many distinct linked files,
.I du
counts the excess files multiply.
E 4
E 1
