h47961
s 00022/00001/01109
d D 8.3 94/10/09 20:49:16 mckusick 24 23
c update to support passive mode (from cgd)
e
s 00002/00002/01108
d D 8.2 93/12/30 15:38:42 mckusick 23 22
c copyediting for Usenix manuals
e
s 00002/00002/01108
d D 8.1 93/06/06 14:40:51 bostic 22 21
c 4.4BSD snapshot (revision 8.1); add 1993 to copyright
e
s 00001/00001/01109
d D 6.18 91/07/30 18:09:29 cael 21 20
c fix list entry
e
s 00297/00368/00813
d D 6.17 91/07/27 20:11:01 cael 20 19
c mdoc version three
e
s 00002/00000/01179
d D 6.16 91/03/14 00:17:52 cael 19 17
c add .Vx so tmac.andoc will call tmac.mdoc-old
e
s 00001/00000/01179
d R 6.16 91/03/13 20:33:23 cael 18 17
c add .Vx so tmac.andoc will call tmac.mdoc-old
e
s 00142/00117/01037
d D 6.15 90/07/24 22:45:32 cael 17 16
c .Xr botch fix
e
s 00736/00506/00418
d D 6.14 90/06/11 05:56:17 cael 16 15
c converted man page
e
s 00018/00002/00906
d D 6.13 89/03/21 16:24:23 karels 15 13
c changes from Dave Borman: add site, umask, chmod, idle commands;
c try Xxxx directory commands if standard versions don't work; non-verbose
c PWD is not useful
e
s 00000/00019/00889
d D 6.12.1.1 89/03/02 09:27:50 karels 14 13
c remove restart, etc on branch
e
s 00020/00008/00888
d D 6.12 89/03/01 14:25:36 karels 13 12
c (some of) my favorite fixes, review changes
e
s 00060/00005/00836
d D 6.11 89/02/28 14:09:19 karels 12 11
c checked in for rick: add restart, size, modtime, newer, syst;
c switch to binary if both sides are unix; ls uses LIST, (new) nlist uses NLST;
c add default token to .netrc as wildcard machine
e
s 00015/00004/00826
d D 6.10 88/09/20 17:07:34 bostic 11 10
c Berkeley copyright notice
e
s 00002/00000/00828
d D 6.9 88/06/27 16:17:48 bostic 10 9
c add ftpd.8 to SEE ALSO, so admin's can find out about /etc/shells
e
s 00014/00002/00814
d D 6.8 87/10/06 11:38:23 bostic 9 8
c fix ls overwrite problem; bug report 4.3BSD/ucb/124
e
s 00001/00001/00815
d D 6.7 86/05/12 14:28:27 anne 8 7
c grammar
e
s 00006/00005/00810
d D 6.6 86/05/08 17:15:27 karels 7 6
c minor wording changes
e
s 00003/00009/00812
d D 6.5 86/03/07 11:37:26 minshall 6 5
c minor changes from Steve Jacobson.
e
s 00003/00001/00818
d D 6.4 86/02/05 05:03:26 lepreau 5 4
c ^D now == quit
e
s 00543/00189/00276
d D 6.3 86/02/03 15:18:30 minshall 4 3
c Steve Jacobson's changes (from <csvsj@ucbopal>).
e
s 00185/00150/00280
d D 6.2 86/01/13 19:45:39 mckusick 3 2
c rewrite by sun!gorodish!guy
e
s 00048/00047/00382
d D 6.1 85/04/29 21:08:21 mckusick 2 1
c 4.3BSD beta release manual page
e
s 00429/00000/00000
d D 5.1 85/04/29 21:08:09 mckusick 1 0
c manual page first distributed with 4.2BSD
e
u
U
f b 
t
T
I 1
D 4
.\" Copyright (c) 1983 Regents of the University of California.
E 4
I 4
D 11
.\" Copyright (c) 1985 Regents of the University of California.
E 4
.\" All rights reserved.  The Berkeley software License Agreement
.\" specifies the terms and conditions for redistribution.
E 11
I 11
D 15
.\" Copyright (c) 1985 The Regents of the University of California.
E 15
I 15
D 16
.\" Copyright (c) 1985, 1989 The Regents of the University of California.
E 16
I 16
D 22
.\" Copyright (c) 1985, 1989, 1990 The Regents of the University of California.
E 16
E 15
.\" All rights reserved.
E 22
I 22
.\" Copyright (c) 1985, 1989, 1990, 1993
.\"	The Regents of the University of California.  All rights reserved.
E 22
E 11
.\"
I 11
D 16
.\" Redistribution and use in source and binary forms are permitted
.\" provided that the above copyright notice and this paragraph are
.\" duplicated in all such forms and that any documentation,
.\" advertising materials, and other materials related to such
.\" distribution and use acknowledge that the software was developed
.\" by the University of California, Berkeley.  The name of the
.\" University may not be used to endorse or promote products derived
.\" from this software without specific prior written permission.
.\" THIS SOFTWARE IS PROVIDED ``AS IS'' AND WITHOUT ANY EXPRESS OR
.\" IMPLIED WARRANTIES, INCLUDING, WITHOUT LIMITATION, THE IMPLIED
D 12
.\" WARRANTIES OF MERCHANTIBILITY AND FITNESS FOR A PARTICULAR PURPOSE.
E 12
I 12
.\" WARRANTIES OF MERCHANTABILITY AND FITNESS FOR A PARTICULAR PURPOSE.
E 16
I 16
D 20
.\" %sccs.include.redist.man%
E 20
I 20
.\" %sccs.include.redist.roff%
E 20
E 16
E 12
.\"
E 11
D 16
.\"	%W% (Berkeley) %G%
E 16
I 16
D 20
.\"     %W% (Berkeley) %G%
E 20
I 20
.\"	%W% (Berkeley) %G%
E 20
E 16
.\"
I 19
D 20
.Vx
.Vx
E 20
E 19
D 2
.TH FTP 1C "18 July 1983"
E 2
I 2
D 4
.TH FTP 1C "%Q%"
E 4
I 4
D 11
.TH FTP 1C "April 29, 1985"
E 11
I 11
D 12
.TH FTP 1 "%Q%"
E 12
I 12
D 15
.TH FTP 1 "February 23, 1989"
E 15
I 15
D 16
.TH FTP 1 "March 14, 1989"
E 15
E 12
E 11
E 4
E 2
.UC 5
.SH NAME
D 2
ftp \- file transfer program
E 2
I 2
ftp \- ARPANET file transfer program
E 2
.SH SYNOPSIS
.B ftp
[ 
.B \-v
] [
.B \-d
] [
.B \-i
] [
.B \-n
] [
.B \-g
] [
D 3
.B host
E 3
I 3
D 4
.B \-t
] [
.I host
E 4
I 4
.B host
E 4
E 3
]
.SH DESCRIPTION
.I Ftp
E 16
I 16
.Dd %Q%
.Dt FTP 1
.Os BSD 4.2
.Sh NAME
.Nm ftp
D 20
.Nd ARPANET file transfer program
E 20
I 20
.Nd
.Tn ARPANET
file transfer program
E 20
.Sh SYNOPSIS
.Nm ftp
.Op Fl v
.Op Fl d
.Op Fl i
.Op Fl n
.Op Fl g
.Op Ar host
.Sh DESCRIPTION
.Nm Ftp
E 16
D 20
is the user interface to the ARPANET standard File Transfer Protocol.
E 20
I 20
is the user interface to the
.Tn ARPANET
standard File Transfer Protocol.
E 20
D 3
The program allows a user to transfer files to and from a
remote network site.
.PP
E 3
I 3
D 4
\fIFtp\fP transfers files to and from a remote network site.
.LP
E 4
I 4
The program allows a user to transfer files to and from a
remote network site.
D 16
.PP
E 4
E 3
The client host with which 
.I ftp
E 16
I 16
.Pp
Options may be specified at the command line, or to the
command interpreter.
I 17
D 20
.Tw Ds
E 17
.Tp Fl v
E 20
I 20
.Bl -tag -width flag
.It Fl v
E 20
Verbose option forces
.Nm ftp
to show all responses from the remote server, as well
as report on data transfer statistics.
D 20
.Tp Fl n
E 20
I 20
.It Fl n
E 20
Restrains
.Nm ftp
from attempting \*(Lqauto-login\*(Rq upon initial connection.
If auto-login is enabled,
.Nm ftp
will check the
.Pa .netrc
(see below) file in the user's home directory for an entry describing
D 20
an account on the remote machine.  If no entry exists,
E 20
I 20
an account on the remote machine.
If no entry exists,
E 20
.Nm ftp
will prompt for the remote machine login name (default is the user
identity on the local machine), and, if necessary, prompt for a password
and an account with which to login.
D 20
.Tp Fl i
E 20
I 20
.It Fl i
E 20
Turns off interactive prompting during
multiple file transfers.
D 20
.Tp Fl d
E 20
I 20
.It Fl d
E 20
Enables debugging.
D 20
.Tp Fl g
E 20
I 20
.It Fl g
E 20
Disables file name globbing.
D 20
.Tp
E 20
I 20
.El
E 20
.Pp
The client host with which
.Nm ftp
E 16
is to communicate may be specified on the command line.
If this is done,
D 16
.I ftp
E 16
I 16
.Nm ftp
E 16
D 3
will immediately attempt to establish a connection to an FTP
server on that host; otherwise, 
.I ftp
will enter its command interpreter and await instructions
from the user.  When 
.I ftp
is awaiting commands from the user the prompt \*(lqftp>\*(rq
is provided the user.  The following commands are recognized
E 3
I 3
D 4
immediately attempts to establish a connection to an FTP server on that host;
otherwise, \fIftp\fP enters its command interpreter and awaits instructions
from the user.  When \fIftp\fP is awaiting commands from the user, it
displays the prompt \*(lqftp>\*(rq.  The following commands are recognized
E 4
I 4
D 20
will immediately attempt to establish a connection to an FTP
E 20
I 20
will immediately attempt to establish a connection to an
.Tn FTP
E 20
D 16
server on that host; otherwise, 
.I ftp
E 16
I 16
server on that host; otherwise,
.Nm ftp
E 16
will enter its command interpreter and await instructions
D 16
from the user.  When 
.I ftp
is awaiting commands from the user the prompt \*(lqftp>\*(rq
E 16
I 16
D 20
from the user.  When
E 20
I 20
from the user.
When
E 20
.Nm ftp
D 17
is awaiting commands from the user the prompt \*(Lqftp>\*(Rq
E 17
I 17
is awaiting commands from the user the prompt
.Ql ftp>
E 17
E 16
D 8
is provided the user.  The following commands are recognized
E 8
I 8
D 20
is provided to the user.  The following commands are recognized
E 20
I 20
is provided to the user.
The following commands are recognized
E 20
E 8
E 4
E 3
by
D 16
.IR ftp :
.TP
D 2
.B \&!
Invoke a shell on the local machine.
E 2
I 2
D 3
.B \&! [command [args] ]
Invoke an interactive shell on the local machine.
If there are arguments, the first is taken to be a command to execute
directly, with the rest of the arguments as its arguments.
E 3
I 3
D 4
\fB\&! \fR[ \fIcommand \fR]
Run
.I command
as a shell command on the local machine.
If no 
.I command
is given, invoke an interactive shell.
E 4
I 4
\fB\&!\fP [ \fIcommand\fP [ \fIargs\fP ] ]
E 16
I 16
.Nm ftp  :
D 20
.Tw Fl
.Tp Cx Ic \&!
D 17
.Cx \&\ \&
E 17
I 17
.Ws
E 17
.Op Ar command Op Ar args
.Cx
E 20
I 20
.Bl -tag -width Fl
.It Ic \&! Op Ar command Op Ar args
E 20
E 16
Invoke an interactive shell on the local machine.
If there are arguments, the first is taken to be a command to execute
directly, with the rest of the arguments as its arguments.
E 4
E 3
E 2
D 16
.TP
I 4
\fB\&$\fP \fImacro-name\fP [ \fIargs\fP ]
Execute the macro \fImacro-name\fP that was defined with the
\fBmacdef\fP command.
E 16
I 16
D 20
.Tp Cx Ic \&$
D 17
.Cx \&\ \&
E 17
I 17
.Ws
E 17
.Ar macro-name
.Op Ar args
.Cx
E 20
I 20
.It Ic \&$ Ar macro-name Op Ar args
E 20
Execute the macro
.Ar macro-name
that was defined with the
.Ic macdef
command.
E 16
Arguments are passed to the macro unglobbed.
D 16
.TP
\fBaccount\fP [ \fIpasswd\fP ]
E 16
I 16
D 20
.Tp Cx Ic account
D 17
.Cx \&\ \&
E 17
I 17
.Ws
E 17
.Op Ar passwd
.Cx
E 20
I 20
.It Ic account Op Ar passwd
E 20
E 16
Supply a supplemental password required by a remote system for access
to resources once a login has been successfully completed.
If no argument is included, the user will be prompted for an account
password in a non-echoing input mode.
D 16
.TP
E 4
\fBappend\fP \fIlocal-file\fP [ \fIremote-file\fP ]
E 16
I 16
D 20
.Tp Cx Ic append
D 17
.Cx \&\ \&
E 17
I 17
.Ws
E 17
.Ar local-file
D 17
.Cx \&\ \&
E 17
I 17
.Ws
E 17
.Op Ar remote-file
.Cx
E 16
Append a local file to a file on the remote machine.  If
E 20
I 20
.It Ic append Ar local-file Op Ar remote-file
Append a local file to a file on the remote machine.
If
E 20
D 16
.I remote-file
E 16
I 16
.Ar remote-file
E 16
is left unspecified, the local file name is used in naming the
D 4
remote file.  File transfer uses the current settings for
D 3
.IR type ,
.IR format ,
.IR mode ,
and
.IR structure .
E 3
I 3
\*(lqrepresentation type\*(rq, \*(lqfile structure\*(rq,
and \*(lqtransfer mode\*(rq.
E 4
I 4
remote file after being altered by any
D 16
.I ntrans
E 16
I 16
.Ic ntrans
E 16
or
D 16
.I nmap
E 16
I 16
.Ic nmap
E 16
setting.
File transfer uses the current settings for
D 16
.IR type ,
.IR format ,
.IR mode ,
E 16
I 16
.Ic type  ,
.Ic format ,
.Ic mode  ,
E 16
and
D 16
.IR structure .
E 4
E 3
.TP
.B ascii
D 3
Set the file transfer 
.I type
to network ASCII.  This is the default type.
E 3
I 3
D 4
Set the \*(lqrepresentation type\*(rq
to \*(lqnetwork ASCII\*(rq.  This is the default type.
E 4
I 4
Set the file transfer 
.I type
E 16
I 16
D 17
.Ic structure  .
E 17
I 17
.Ic structure .
E 17
D 20
.Tp Ic ascii
E 20
I 20
.It Ic ascii
E 20
Set the file transfer
.Ic type
E 16
D 20
to network ASCII.  This is the default type.
E 4
E 3
D 16
.TP
.B bell
E 16
I 16
.Tp Ic bell
E 20
I 20
to network
.Tn ASCII .
This is the default type.
.It Ic bell
E 20
E 16
Arrange that a bell be sounded after each file transfer
command is completed.
D 16
.TP
.B binary
E 16
I 16
D 20
.Tp Ic binary
E 20
I 20
.It Ic binary
E 20
E 16
D 3
Set the file transfer
.I type
to support binary image transfer.
E 3
I 3
D 4
Set the \*(lqrepresentation type\*(rq to \*(lqimage\*(rq.
E 4
I 4
Set the file transfer
D 16
.I type
E 16
I 16
.Ic type
E 16
to support binary image transfer.
E 4
E 3
D 16
.TP
.B bye
E 16
I 16
D 20
.Tp Ic bye
E 16
Terminate the FTP session with the remote server
E 20
I 20
.It Ic bye
Terminate the
.Tn FTP
session with the remote server
E 20
and exit
D 16
.IR ftp .
E 16
I 16
.Nm ftp  .
E 16
I 5
An end of file will also terminate the session and exit.
E 5
D 16
.TP
I 4
.B case
E 16
I 16
D 20
.Tp Ic case
E 20
I 20
.It Ic case
E 20
E 16
Toggle remote computer file name case mapping during
D 16
.B mget
E 16
I 16
.Ic mget
E 16
commands.
When
D 16
.B case
E 16
I 16
.Ic case
E 16
is on (default is off), remote computer file names with all letters in
upper case are written in the local directory with the letters mapped
to lower case.
D 16
.TP
E 4
.BI cd " remote-directory"
E 16
I 16
D 20
.Tp Cx Ic cd
D 17
.Cx \&\ \&
E 17
I 17
.Ws
E 17
.Ar remote-directory
.Cx
E 20
I 20
.It Ic \&cd Ar remote-directory
E 20
E 16
Change the working directory on the remote machine
D 16
to 
.IR remote-directory .
.TP
I 4
.B cdup
E 16
I 16
to
.Ar remote-directory  .
D 20
.Tp Ic cdup
E 20
I 20
.It Ic cdup
E 20
E 16
Change the remote machine working directory to the parent of the
current remote machine working directory.
D 16
.TP
I 15
.BI chmod " mode file-name"
Change the permission modes the file \fIfile-name\fR on the remote
sytem to \fImode\fR.
.TP
E 15
E 4
.B close
E 16
I 16
D 20
.Tp Cx Ic chmod
D 17
.Cx \&\ \&
E 17
I 17
.Ws
E 17
.Ar mode file-name
.Cx
E 20
I 20
.It Ic chmod Ar mode file-name
E 20
D 17
Change the permission modes the file
E 17
I 17
Change the permission modes of the file
E 17
.Ar file-name
on the remote
sytem to
D 17
.Ic mode  .
E 17
I 17
.Ar mode  .
E 17
D 20
.Tp Ic close
E 16
Terminate the FTP session with the remote server, and
E 20
I 20
.It Ic close
Terminate the
.Tn FTP
session with the remote server, and
E 20
return to the command interpreter.
I 4
Any defined macros are erased.
E 4
D 16
.TP
I 4
.B cr
E 16
I 16
D 20
.Tp Ic cr
E 20
I 20
.It Ic \&cr
E 20
E 16
Toggle carriage return stripping during
ascii type file retrieval.
Records are denoted by a carriage return/linefeed sequence
during ascii type file transfer.
When
D 16
.B cr
E 16
I 16
D 20
.Ic cr
E 20
I 20
.Ic \&cr
E 20
E 16
is on (the default), carriage returns are stripped from this
D 20
sequence to conform with the UNIX single linefeed record
E 20
I 20
sequence to conform with the
.Ux
single linefeed record
E 20
delimiter.
D 20
Records on non-UNIX remote systems may contain single linefeeds;
E 20
I 20
Records on
.Pf non\- Ns Ux
remote systems may contain single linefeeds;
E 20
when an ascii type transfer is made, these linefeeds may be
distinguished from a record delimiter only when
D 16
.B cr
E 16
I 16
D 20
.Ic cr
E 20
I 20
.Ic \&cr
E 20
E 16
is off.
D 16
.TP
E 4
.BI delete " remote-file"
E 16
I 16
D 20
.Tp Cx Ic delete
D 17
.Cx \&\ \&
E 17
I 17
.Ws
E 17
.Ar remote-file
.Cx
E 20
I 20
.It Ic delete Ar remote-file
E 20
E 16
Delete the file
D 16
.I remote-file
E 16
I 16
.Ar remote-file
E 16
on the remote machine.
D 16
.TP
\fBdebug\fP [ \fIdebug-value\fP ]
E 16
I 16
D 20
.Tp Cx Ic debug
D 17
.Cx \&\ \&
E 17
I 17
.Ws
E 17
.Op Ar debug-value
.Cx
E 16
Toggle debugging mode.  If an optional
E 20
I 20
.It Ic debug Op Ar debug-value
Toggle debugging mode.
If an optional
E 20
D 16
.I debug-value
E 16
I 16
.Ar debug-value
E 16
is specified it is used to set the debugging level.
When debugging is on,
D 16
.I ftp
E 16
I 16
.Nm ftp
E 16
prints each command sent to the remote machine, preceded
D 16
by the string \*(lq-->\*(rq.
.TP
\fBdir\fP [ \fIremote-directory\fP ] [ \fIlocal-file\fP ]
E 16
I 16
D 17
by the string \*(Lq-->\*(Rq.
E 17
I 17
by the string
.Ql \-\->
E 17
D 20
.Tp Cx Ic dir
D 17
.Cx \&\ \&
E 17
I 17
.Ws
E 20
I 20
.It Xo
.Ic dir
E 20
E 17
.Op Ar remote-directory
D 17
.Cx \&\ \&
E 17
I 17
D 20
.Ws
E 20
E 17
.Op Ar local-file
D 20
.Cx
E 20
I 20
.Xc
E 20
E 16
Print a listing of the directory contents in the
directory,
D 16
.IR remote-directory ,
E 16
I 16
.Ar remote-directory  ,
E 16
and, optionally, placing the output in
D 16
.IR local-file .
E 16
I 16
.Ar local-file  .
E 16
I 9
If interactive prompting is on,
D 16
.I ftp
E 16
I 16
.Nm ftp
E 16
will prompt the user to verify that the last argument is indeed the
target local file for receiving
D 16
.B dir
E 16
I 16
.Ic dir
E 16
output.
E 9
If no directory is specified, the current working
D 20
directory on the remote machine is used.  If no local
E 20
I 20
directory on the remote machine is used.
If no local
E 20
D 2
file is specified, output comes to the terminal.
E 2
I 2
D 3
file is specified, or \fIlocal-file\fP is \fB-\fP,
E 3
I 3
D 4
file is specified, or \fIlocal-file\fP is \fB\-\fP,
E 4
I 4
D 16
file is specified, or \fIlocal-file\fP is \fB-\fP,
E 16
I 16
file is specified, or
.Ar local-file
is
.Fl  ,
E 16
E 4
E 3
output comes to the terminal.
E 2
D 16
.TP
D 3
.BI form " format"
Set the file transfer 
.I form
to 
.IR format .
The default format is \*(lqfile\*(rq.
E 3
I 3
D 4
\fBform\fP [ \fIformat-name\fP ]
Set the carriage control format subtype of the
\*(lqrepresentation type\*(rq to
.IR format-name .
The only valid
.I format-name
is
.BR non-print ,
which corresponds to the default \*(lqnon-print\*(rq subtype.
E 4
I 4
.B disconnect
E 16
I 16
D 20
.Tp Ic disconnect
E 20
I 20
.It Ic disconnect
E 20
E 16
A synonym for
D 16
.BR close .
E 4
E 3
.TP
I 4
.BI form " format"
Set the file transfer 
.I form
to 
.IR format .
The default format is \*(lqfile\*(rq.
.TP
E 4
\fBget\fP \fIremote-file\fP [ \fIlocal-file\fP ]
Retrieve the 
.I remote-file
E 16
I 16
.Ar close  .
D 20
.Tp Cx Ic form
D 17
.Cx \&\ \&
E 17
I 17
.Ws
E 17
.Ar format
.Cx
E 20
I 20
.It Ic form Ar format
E 20
Set the file transfer
.Ic form
to
.Ar format  .
The default format is \*(Lqfile\*(Rq.
D 20
.Tp Cx Ic get
D 17
.Cx \&\ \&
E 17
I 17
.Ws
E 17
.Ar remote-file
D 17
.Cx \&\ \&
E 17
I 17
.Ws
E 17
.Op Ar local-file
.Cx
E 20
I 20
.It Ic get Ar remote-file Op Ar local-file
E 20
Retrieve the
.Ar remote-file
E 16
D 20
and store it on the local machine.  If the local
E 20
I 20
and store it on the local machine.
If the local
E 20
file name is not specified, it is given the same
D 4
name it has on the remote machine.
D 3
The current settings for 
.IR type ,
.IR form ,
.IR mode ,
and
.I structure
E 3
I 3
The current settings for \*(lqrepresentation type\*(rq,
\*(lqfile structure\*(rq, and \*(lqtransfer mode\*(rq
E 4
I 4
name it has on the remote machine, subject to
alteration by the current
D 16
.IR case ,
.IR ntrans ,
E 16
I 16
.Ic case  ,
.Ic ntrans ,
E 16
and
D 16
.I nmap
E 16
I 16
.Ic nmap
E 16
settings.
D 16
The current settings for 
.IR type ,
.IR form ,
.IR mode ,
E 16
I 16
The current settings for
.Ic type  ,
.Ic form ,
.Ic mode  ,
E 16
and
D 16
.I structure
E 16
I 16
.Ic structure
E 16
E 4
E 3
are used while transferring the file.
D 16
.TP
I 2
D 3
\fBglob\fP
Toggle filename expansion for \fBmdelete\fP, \fBmget\fP and \fBmput\fP.
If globbing is turned off with \fBglob\fP, the file name arguments
are taken literally and not expanded.
Globbing for \fBmput\fP is done as in \fBcsh\fP(1).
For \fBmdelete\fP and \fBmget\fP, each remote file name is expanded
separately on the remote machine and the lists are not merged.
E 3
I 3
D 4
\fBglob\fR
Toggle filename expansion, or "globbing",  
for \fBmdelete\fP, \fBmget\fP and \fBmput\fP.
If globbing is turned off, filenames are taken literally.
.IP
Globbing for \fBmput\fP is done as in \fIcsh\fP\|(1).
For \fBmdelete\fP and \fBmget\fP, each remote file name is
expanded separately on the remote machine, and the lists are not merged.
.IP
E 3
Expansion of a directory name is likely to be radically
E 4
I 4
\fBglob\fP
Toggle filename expansion for \fBmdelete\fP, \fBmget\fP and \fBmput\fP.
If globbing is turned off with \fBglob\fP, the file name arguments
E 16
I 16
D 20
.Tp Ic glob
E 20
I 20
.It Ic glob
E 20
Toggle filename expansion for
.Ic mdelete  ,
.Ic mget
and
.Ic mput  .
If globbing is turned off with
.Ic glob  ,
the file name arguments
E 16
are taken literally and not expanded.
D 16
Globbing for \fBmput\fP is done as in \fBcsh\fP(1).
For \fBmdelete\fP and \fBmget\fP, each remote file name is expanded
E 16
I 16
Globbing for
.Ic mput
is done as in
.Xr csh 1 .
For
.Ic mdelete
and
.Ic mget  ,
each remote file name is expanded
E 16
separately on the remote machine and the lists are not merged.
D 16
Expansion of a directory name is likely to be 
E 16
I 16
Expansion of a directory name is likely to be
E 16
E 4
different from expansion of the name of an ordinary file:
D 3
the exact result depends on the foreign operating system and ftp server,
and can be previewed by doing `\fBmls\fP\ \fIremote-files\fP\ \fB-\fP'.
Note:  \fBmget\fP and \fBmput\fP are not meant to transfer
entire directory subtrees of files.  That can be done by
transferring a \fBtar\fP(1) archive of the subtree (in binary mode).
E 3
I 3
D 4
the exact result depends on the remote operating system and
FTP server,
and can be previewed by doing `\fBmls\fP\ \fIremote-files\fP\ \fB\-\fP'.
.IP
\fBmget\fP and \fBmput\fP are not meant to transfer
entire directory subtrees of files.  You can do this by
transferring a \fItar\fP\|(1) archive of the subtree (using a
\*(lqrepresentation type\*(rq of \*(lqimage\*(rq as set by the
.B binary
command).
E 4
I 4
the exact result depends on the foreign operating system and ftp server,
D 16
and can be previewed by doing `\fBmls\fP\ \fIremote-files\fP\ \fB-\fP'.
Note:  \fBmget\fP and \fBmput\fP are not meant to transfer
E 16
I 16
and can be previewed by doing
D 17
.Cx `
.Cx Li mls remote-files \-
.Cx \'.
.Cx
E 17
I 17
.Ql mls remote-files \-
E 17
Note:
.Ic mget
and
.Ic mput
are not meant to transfer
E 16
D 20
entire directory subtrees of files.  That can be done by
E 20
I 20
entire directory subtrees of files.
That can be done by
E 20
D 16
transferring a \fBtar\fP(1) archive of the subtree (in binary mode).
E 4
E 3
.TP
E 2
D 3
\fBhash\f
E 3
I 3
D 4
\fBhash\fP
E 4
I 4
\fBhash\f
E 16
I 16
transferring a
.Xr tar 1
archive of the subtree (in binary mode).
D 20
.Tp Ic hash
E 20
I 20
.It Ic hash
E 20
E 16
E 4
E 3
Toggle hash-sign (``#'') printing for each data block
D 20
transferred.  The size of a data block is 1024 bytes.
D 16
.TP
D 2
.B glob
Toggle file name globbing.  With file name globbing enabled,
each local file or pathname is processed for 
.IR csh (1)
metacharacters.  These characters include ``*?[]~{}''.
Remote files specified in mutliple item commands, e.g.
.IR mput ,
are globbed by the remote server.  With globbing disabled
all files and pathnames are treated literally.
.TP
E 2
\fBhelp\fP [ \fIcommand\fP ]
E 16
I 16
.Tp Cx Ic help
D 17
.Cx \&\ \&
E 17
I 17
.Ws
E 17
.Op Ar command
.Cx
E 20
I 20
transferred.
The size of a data block is 1024 bytes.
.It Ic help Op Ar command
E 20
E 16
Print an informative message about the meaning of
D 16
.IR command .
If no argument is given, 
.I ftp
E 16
I 16
.Ar command  .
If no argument is given,
.Nm ftp
E 16
prints a list of the known commands.
D 16
.TP
I 15
\fBidle\fP [ \fIseconds\fP ]
Set the inactivity timer on the remote server to \fIseconds\fR seconds.
If \fIseconds\fR is ommitted, the current inactivity timer is printed.
.TP
E 15
\fBlcd\fP [ \fIdirectory\fP ]
E 16
I 16
D 20
.Tp Cx Ic idle
D 17
.Cx \&\ \&
E 17
I 17
.Ws
E 17
.Op Ar seconds
.Cx
E 20
I 20
.It Ic idle Op Ar seconds
E 20
Set the inactivity timer on the remote server to
.Ar seconds
seconds.
If
.Ar seconds
D 23
is ommitted, the current inactivity timer is printed.
E 23
I 23
is omitted, the current inactivity timer is printed.
E 23
D 20
.Tp Cx Ic lcd
D 17
.Cx \&\ \&
E 17
I 17
.Ws
E 17
.Op Ar directory
.Cx
E 16
Change the working directory on the local machine.  If
E 20
I 20
.It Ic lcd Op Ar directory
Change the working directory on the local machine.
If
E 20
D 16
no 
.I directory
E 16
I 16
no
.Ar directory
E 16
is specified, the user's home directory is used.
D 16
.TP
\fBls\fP [ \fIremote-directory\fP ] [ \fIlocal-file\fP ]
E 16
I 16
D 20
.Tp Cx Ic ls
D 17
.Cx \&\ \&
E 17
I 17
.Ws
E 20
I 20
.It Xo
.Ic \&ls
E 20
E 17
.Op Ar remote-directory
D 17
.Cx \&\ \&
E 17
I 17
D 20
.Ws
E 20
E 17
.Op Ar local-file
D 20
.Cx
E 20
I 20
.Xc
E 20
E 16
D 12
Print an abbreviated listing of the contents of a
E 12
I 12
Print a listing of the contents of a
E 12
D 13
directory on the remote machine.  If
E 13
I 13
directory on the remote machine.
The listing includes any system-dependent information that the server
D 20
chooses to include; for example, most UNIX systems will produce
E 20
I 20
chooses to include; for example, most
.Ux
systems will produce
E 20
D 16
output from the command \*(lqls -l\*(rq.
(See also \fBnlist\fP.)
E 16
I 16
D 17
output from the command \*(Lqls -l\*(Rq.
E 17
I 17
output from the command
.Ql ls \-l .
E 17
(See also
D 20
.Ic nlist  .
)
E 20
I 20
.Ic nlist . )
E 20
E 16
If
E 13
D 16
.I remote-directory
E 16
I 16
.Ar remote-directory
E 16
D 9
is left unspecified, the current working directory
D 2
is used.  If no local file is specified, the output
is sent to the terminal.
E 2
I 2
D 3
is used.  If no local file is specified, or if \fIlocal-file\fR is \fB-\fR,
E 3
I 3
D 4
is used.  If no local file is specified, 
or if \fIlocal-file\fR is \fB\-\fR,
E 4
I 4
is used.  If no local file is specified, or if \fIlocal-file\fR is \fB-\fR,
E 9
I 9
is left unspecified, the current working directory is used.
If interactive prompting is on,
D 16
.I ftp
E 16
I 16
.Nm ftp
E 16
will prompt the user to verify that the last argument is indeed the
target local file for receiving
D 16
.B ls
E 16
I 16
D 20
.Ic ls
E 20
I 20
.Ic \&ls
E 20
E 16
output.
D 16
If no local file is specified, or if \fIlocal-file\fR is \fB-\fR,
E 16
I 16
If no local file is specified, or if
.Ar local-file
is
D 17
.Fl  ,
E 17
I 17
.Sq Fl ,
E 17
E 16
E 9
E 4
E 3
the output is sent to the terminal.
E 2
D 16
.TP
I 4
\fBmacdef\fP \fImacro-name\fP
E 16
I 16
D 20
.Tp Cx Ic macdef
D 17
.Cx \&\ \&
E 17
I 17
.Ws
E 17
.Ar macro-name
.Cx
E 20
I 20
D 24
.It Ic macdefNs Ar macro-name
E 24
I 24
.It Ic macdef Ar macro-name
E 24
E 20
E 16
Define a macro.
Subsequent lines are stored as the macro
D 16
\fImacro-name\fP; a null line (consecutive newline characters
E 16
I 16
.Ar macro-name  ;
a null line (consecutive newline characters
E 16
in a file or
carriage returns from the terminal) terminates macro input mode.
There is a limit of 16 macros and 4096 total characters in all
defined macros.
Macros remain defined until a
D 16
.B close
E 16
I 16
.Ic close
E 16
command is executed.
D 17
The macro processor interprets '$' and '\\' as special characters.
A '$' followed by a number (or numbers) is replaced by the
E 17
I 17
The macro processor interprets `$' and `\e' as special characters.
A `$' followed by a number (or numbers) is replaced by the
E 17
corresponding argument on the macro invocation command line.
D 17
A '$' followed by an 'i' signals that macro processor that the
executing macro is to be looped. On the first pass '$i' is
E 17
I 17
A `$' followed by an `i' signals that macro processor that the
D 20
executing macro is to be looped. On the first pass `$i' is
E 20
I 20
executing macro is to be looped.
On the first pass `$i' is
E 20
E 17
replaced by the first argument on the macro invocation command line,
on the second pass it is replaced by the second argument, and so on.
D 17
A '\\' followed by any character is replaced by that character.
Use the '\\' to prevent special treatment of the '$'.
E 17
I 17
A `\e' followed by any character is replaced by that character.
Use the `\e' to prevent special treatment of the `$'.
E 17
D 16
.TP
E 4
D 2
\fBmdelete\fP \fIremote-files\fP
Delete the specified files on the remote machine.  If globbing
is enabled, the specification of remote files will first be
expanded using
.IR ls .
E 2
I 2
\fBmdelete\fP [ \fIremote-files\fP ]
Delete the \fIremote-files\fP on the remote machine.
E 2
.TP
D 2
\fBmdir\fP \fIremote-files\fP \fIlocal-file\fP
Obtain a directory listing of multiple files on the remote
machine and place the result in
.IR local-file .
E 2
I 2
D 3
\fBmdir\fP [ \fIremote-files\fP ] [ \fIlocal-file\fP ]
E 3
I 3
\fBmdir\fP \fIremote-files\fP \fIlocal-file\fP
E 3
Like \fBdir\fP, except multiple remote files may be specified.
E 16
I 16
D 20
.Tp Cx Ic mdelete
D 17
.Cx \&\ \&
E 17
I 17
.Ws
E 17
.Op Ar remote-files
.Cx
E 20
I 20
.It Ic mdelete Op Ar remote-files
E 20
Delete the
.Ar remote-files
on the remote machine.
D 20
.Tp Cx Ic mdir
D 17
.Cx \&\ \&
E 17
I 17
.Ws
E 17
.Ar remote-files
D 17
.Cx \&\ \&
E 17
I 17
.Ws
E 17
.Ar local-file
.Cx
E 20
I 20
.It Ic mdir Ar remote-files local-file
E 20
Like
.Ic dir  ,
except multiple remote files may be specified.
E 16
I 4
If interactive prompting is on,
D 16
.I ftp
E 16
I 16
.Nm ftp
E 16
will prompt the user to verify that the last argument is indeed the
target local file for receiving
D 16
.B mdir
E 16
I 16
.Ic mdir
E 16
output.
E 4
E 2
D 16
.TP
\fBmget\fP \fIremote-files\fP
D 2
Retrieve the specified files from the remote machine and
place them in the current local directory.  If globbing
is enabled, the specification of remote files will first be
expanding using
.IR ls .
E 2
I 2
Expand the \fIremote-files\fP on the remote machine
and do a \fBget\fP for each file name thus produced.
See \fBglob\fR for details on the filename expansion.
E 16
I 16
D 20
.Tp Cx Ic mget
D 17
.Cx \&\ \&
E 17
I 17
.Ws
E 17
.Ar remote-files
.Cx
E 20
I 20
.It Ic mget Ar remote-files
E 20
Expand the
.Ar remote-files
on the remote machine
and do a
.Ic get
for each file name thus produced.
See
.Ic glob
for details on the filename expansion.
E 16
I 4
Resulting file names will then be processed according to
D 16
.IR case ,
.IR ntrans ,
E 16
I 16
.Ic case  ,
.Ic ntrans ,
E 16
and
D 16
.I nmap
E 16
I 16
.Ic nmap
E 16
settings.
E 4
Files are transferred into the local working directory,
D 3
which can be changed with `\fBlcd\fP\ directory';
new local directories can be created with `\fB!\fP\ mkdir\ directory'.
E 3
I 3
D 4
which can be changed with `\fBlcd\fP\ \fIdirectory\fP';
new local directories can be created with
`\fB!\fP\ \fBmkdir\fP\ \fIdirectory\fP'.
E 4
I 4
D 16
which can be changed with `\fBlcd\fP\ directory';
new local directories can be created with `\fB!\fP\ mkdir\ directory'.
E 4
E 3
E 2
.TP
\fBmkdir\fP \fIdirectory-name\fP
E 16
I 16
which can be changed with
D 20
.Cx `
.Cx Li lcd directory
.Cx \';
E 20
I 20
.Ql lcd directory ;
E 20
new local directories can be created with
D 20
.Cx Li \&! mkdir directory
.Cx \'.
.Tp Cx Ic mkdir
D 17
.Cx \&\ \&
E 17
I 17
.Ws
E 17
.Ar directory-name
.Cx
E 20
I 20
.Ql "\&! mkdir directory" .
.It Ic mkdir Ar directory-name
E 20
E 16
Make a directory on the remote machine.
D 16
.TP
D 2
\fBmls\fP \fIremote-files\fP \fIlocal-file\fP
Obtain an abbreviated listing of multiple files on the remote
machine and place the result in
.IR local-file .
E 2
I 2
D 3
\fBmls\fP [ \fIremote-files\fP ] [ \fIlocal-file\fP ]
E 3
I 3
\fBmls\fP \fIremote-files\fP \fIlocal-file\fP
E 3
D 13
Like \fBls\fP, except multiple remote files may be specified.
E 13
I 13
Like \fBnlist\fP, except multiple remote files may be specified,
and the \fIlocal-file\fP must be specified.
E 16
I 16
D 20
.Tp Cx Ic mls
D 17
.Cx \&\ \&
E 17
I 17
.Ws
E 17
.Ar remote-files
D 17
.Cx \&\ \&
E 17
I 17
.Ws
E 17
.Ar local-file
.Cx
E 20
I 20
.It Ic mls Ar remote-files local-file
E 20
Like
.Ic nlist  ,
except multiple remote files may be specified,
and the
.Ar local-file
must be specified.
E 16
E 13
I 4
If interactive prompting is on,
D 16
.I ftp
E 16
I 16
.Nm ftp
E 16
will prompt the user to verify that the last argument is indeed the
target local file for receiving
D 16
.B mls
E 16
I 16
.Ic mls
E 16
output.
E 4
E 2
D 16
.TP
\fBmode\fP [ \fImode-name\fP ]
E 16
I 16
D 20
.Tp Cx Ic mode
D 17
.Cx \&\ \&
E 17
I 17
.Ws
E 17
.Op Ar mode-name
.Cx
E 20
I 20
.It Ic mode Op Ar mode-name
E 20
E 16
D 3
Set the file transfer
.I mode
to
E 3
I 3
D 4
Set the \*(lqtransfer mode\*(rq to
E 4
I 4
Set the file transfer
D 16
.I mode
E 16
I 16
.Ic mode
E 16
to
E 4
E 3
D 16
.IR mode-name .
D 3
The default mode is \*(lqstream\*(rq mode.
E 3
I 3
D 4
The only valid
.I mode-name
is
.BR stream ,
which corresponds to the default \*(lqstream\*(rq mode.
E 4
I 4
The default mode is \*(lqstream\*(rq mode.
E 4
E 3
.TP
I 12
\fBmodtime\fP \fIfile-name\fP
E 16
I 16
.Ar mode-name  .
The default mode is \*(Lqstream\*(Rq mode.
D 20
.Tp Cx Ic modtime
D 17
.Cx \&\ \&
E 17
I 17
.Ws
E 17
.Ar file-name
.Cx
E 20
I 20
.It Ic modtime Ar file-name
E 20
E 16
Show the last modification time of the file on the remote machine.
D 16
.TP
E 12
\fBmput\fP \fIlocal-files\fP
E 16
I 16
D 20
.Tp Cx Ic mput
D 17
.Cx \&\ \&
E 17
I 17
.Ws
E 17
.Ar local-files
.Cx
E 20
I 20
.It Ic mput Ar local-files
E 20
E 16
D 2
Transfer multiple local files from the current local directory
to the current working directory on the remote machine.
E 2
I 2
Expand wild cards in the list of local files given as arguments
D 16
and do a \fBput\fR for each file in the resulting list.
See \fBglob\fP for details of filename expansion.
E 16
I 16
and do a
.Ic put
for each file in the resulting list.
See
.Ic glob
for details of filename expansion.
E 16
I 4
Resulting file names will then be processed according to
D 16
.I ntrans
E 16
I 16
.Ic ntrans
E 16
and
D 16
.I nmap
E 16
I 16
.Ic nmap
E 16
settings.
E 4
E 2
D 16
.TP
I 12
D 14
\fBnewer\fP \fIfile-name\fP
E 16
I 16
D 20
.Tp Cx Ic newer
D 17
.Cx \&\ \&
E 17
I 17
.Ws
E 17
.Ar file-name
.Cx
E 20
I 20
.It Ic newer Ar file-name
E 20
E 16
Get the file only if the modification time of the remote file is more
D 20
recent that the file on the current system. If the file does not
E 20
I 20
recent that the file on the current system.
If the file does not
E 20
D 13
exist on the current syste, the remote file is considered \fInewer\fP.
E 13
I 13
D 16
exist on the current system, the remote file is considered \fInewer\fP.
E 13
Otherwise, this command is identical to \fBget\fP.
.TP
E 14
\fBnlist\fP [ \fIremote-directory\fP ] [ \fIlocal-file\fP ]
E 16
I 16
exist on the current system, the remote file is considered
.Ic newer  .
Otherwise, this command is identical to
.Ar get  .
D 20
.Tp Cx Ic nlist
D 17
.Cx \&\ \&
E 17
I 17
.Ws
E 20
I 20
.It Xo
.Ic nlist
E 20
E 17
.Op Ar remote-directory
D 17
.Cx \&\ \&
E 17
I 17
D 20
.Ws
E 20
E 17
.Op Ar local-file
D 20
.Cx
E 20
I 20
.Xc
E 20
E 16
D 13
Print an abbreviated listing of the contents of a
E 13
I 13
D 17
Print a  list of the files of a
E 17
I 17
Print a  list of the files in a
E 17
E 13
D 20
directory on the remote machine.  If
E 20
I 20
directory on the remote machine.
If
E 20
D 16
.I remote-directory
E 16
I 16
.Ar remote-directory
E 16
is left unspecified, the current working directory is used.
If interactive prompting is on,
D 16
.I ftp
E 16
I 16
.Nm ftp
E 16
will prompt the user to verify that the last argument is indeed the
target local file for receiving
D 16
.B nlist
E 16
I 16
.Ic nlist
E 16
output.
D 16
If no local file is specified, or if \fIlocal-file\fR is \fB-\fR,
E 16
I 16
If no local file is specified, or if
.Ar local-file
is
.Fl  ,
E 16
the output is sent to the terminal.
D 16
.TP
E 12
I 4
\fBnmap\fP [ \fIinpattern\fP \fIoutpattern\fP ]
E 16
I 16
D 20
.Tp Cx Ic nmap
D 17
.Cx \&\ \&
E 17
I 17
.Ws
E 17
.Op Ar inpattern outpattern
.Cx
E 20
I 20
.It Ic nmap Op Ar inpattern outpattern
E 20
E 16
Set or unset the filename mapping mechanism.
If no arguments are specified, the filename mapping mechanism is unset.
If arguments are specified, remote filenames are mapped during
D 16
.B mput
E 16
I 16
.Ic mput
E 16
commands and
D 16
.B put
E 16
I 16
.Ic put
E 16
commands issued without a specified remote target filename.
If arguments are specified, local filenames are mapped during
D 16
.B mget
E 16
I 16
.Ic mget
E 16
commands and
D 16
.B get
E 16
I 16
.Ic get
E 16
commands issued without a specified local target filename.
D 20
This command is useful when connecting to a non-UNIX remote computer
E 20
I 20
This command is useful when connecting to a
.No non\- Ns Ux
remote computer
E 20
with different file naming conventions or practices.
The mapping follows the pattern set by
D 16
.I inpattern
E 16
I 16
.Ar inpattern
E 16
and
D 16
.IR outpattern .
.I Inpattern
E 16
I 16
.Ar outpattern  .
.Op Ar Inpattern
E 16
is a template for incoming filenames (which may have already been
processed according to the
D 16
.B ntrans
E 16
I 16
.Ic ntrans
E 16
and
D 16
.B case
E 16
I 16
.Ic case
E 16
settings).
D 6
Variable templating is accomplished by including the sequences '$1', '$2',
\..., '$9' in
E 6
I 6
D 17
Variable templating is accomplished by including the sequences '$1', '$2', ..., '$9' in
E 17
I 17
D 20
Variable templating is accomplished by including the sequences `$1', `$2', ..., `$9' in
E 20
I 20
Variable templating is accomplished by including the
sequences `$1', `$2', ..., `$9' in
E 20
E 17
E 6
D 16
.IR inpattern .
E 16
I 16
.Ar inpattern  .
E 16
D 17
Use '\\' to prevent this special treatment of the '$' character.
E 17
I 17
Use `\\' to prevent this special treatment of the `$' character.
E 17
All other characters are treated literally, and are used to determine the
D 16
.B nmap
.I inpattern
E 16
I 16
.Ic nmap
.Op Ar inpattern
E 16
variable values.
D 12
For exmaple, given
E 12
I 12
For example, given
E 12
D 16
.I inpattern
E 16
I 16
.Ar inpattern
E 16
$1.$2 and the remote file name "mydata.data", $1 would have the value
"mydata", and $2 would have the value "data".
The
D 16
.I outpattern
E 16
I 16
.Ar outpattern
E 16
determines the resulting mapped filename.
D 17
The sequences '$1', '$2', ...., '$9' are replaced by any value resulting
E 17
I 17
The sequences `$1', `$2', ...., `$9' are replaced by any value resulting
E 17
from the
D 16
.I inpattern
E 16
I 16
.Ar inpattern
E 16
template.
D 17
The sequence '$0' is replace by the original filename.
E 17
I 17
The sequence `$0' is replace by the original filename.
E 17
D 16
Additionally, the sequence '[\fIseq1\fP,\fIseq2\f\P]' is replaced by
.I seq1
E 16
I 16
Additionally, the sequence
D 20
.Cx `
.Op Ar seq1 , Ar seq2
.Cx \'
I 17
.Cx
E 20
I 20
.Ql Op Ar seq1 , Ar seq2
E 20
E 17
is replaced by
.Op Ar seq1
E 16
if
D 16
.I seq1
E 16
I 16
.Ar seq1
E 16
is not a null string; otherwise it is replaced by
D 16
.IR seq2 .
For example, the command "nmap $1.$2.$3 [$1,$2].[$2,file]" would yield
E 16
I 16
.Ar seq2 .
For example, the command
.Pp
D 20
.Df I
nmap $1.$2.$3
.Cx Op $1,$2
.Cx .
.Op $2,file
.Cx
.De
E 20
I 20
.Bd -literal -offset indent -compact
nmap $1.$2.$3 [$1,$2].[$2,file]
.Ed
E 20
.Pp
would yield
E 16
the output filename "myfile.data" for input filenames "myfile.data" and
"myfile.data.old", "myfile.file" for the input filename "myfile", and
"myfile.myfile" for the input filename ".myfile".
Spaces may be included in
D 16
.IR outpattern ,
as in the example: nmap $1 |sed "s/  *$//" > $1 .
E 16
I 16
.Ar outpattern  ,
D 17
as in the example: nmap $1 sed "s/  *$//" > $1 .
E 16
Use the '\\' character to prevent special treatment
D 16
of the '$', '[', ']', and ',' characters.
.TP
\fBntrans\fP [ \fIinchars\fP [ \fIoutchars\fP ] ]
E 16
I 16
of the '$','[','[', and ',' characters.
E 17
I 17
as in the example: `nmap $1 sed "s/  *$//" > $1' .
Use the `\e' character to prevent special treatment
of the `$','[','[', and `,' characters.
E 17
D 20
.Tp Cx Ic ntrans
D 17
.Cx \&\ \&
E 17
I 17
.Ws
E 17
.Op Ar inchars Op Ar outchars
.Cx
E 20
I 20
.It Ic ntrans Op Ar inchars Op Ar outchars
E 20
E 16
Set or unset the filename character translation mechanism.
If no arguments are specified, the filename character
translation mechanism is unset.
If arguments are specified, characters in
remote filenames are translated during
D 16
.B mput
E 16
I 16
.Ic mput
E 16
commands and
D 16
.B put
E 16
I 16
.Ic put
E 16
commands issued without a specified remote target filename.
If arguments are specified, characters in
local filenames are translated during
D 16
.B mget
E 16
I 16
.Ic mget
E 16
commands and
D 16
.B get
E 16
I 16
.Ic get
E 16
commands issued without a specified local target filename.
D 20
This command is useful when connecting to a non-UNIX remote computer
E 20
I 20
This command is useful when connecting to a
.No non\- Ns Ux
remote computer
E 20
with different file naming conventions or practices.
Characters in a filename matching a character in
D 16
.I inchars
E 16
I 16
.Ar inchars
E 16
are replaced with the corresponding character in
D 16
.IR outchars .
E 16
I 16
.Ar outchars  .
E 16
If the character's position in
D 16
.I inchars
E 16
I 16
.Ar inchars
E 16
is longer than the length of
D 16
.IR outchars ,
E 16
I 16
.Ar outchars  ,
E 16
the character is deleted from the file name.
D 16
.TP
E 4
\fBopen\fP \fIhost\fP [ \fIport\fP ]
E 16
I 16
D 20
.Tp Cx Ic open
D 17
.Cx \&\ \&
E 17
I 17
.Ws
E 17
.Ar host
D 17
.Cx \&\ \&
E 17
I 17
.Ws
E 17
.Op Ar port
.Cx
E 20
I 20
.It Ic open Ar host Op Ar port
E 20
E 16
Establish a connection to the specified
D 16
.I host
E 16
I 16
.Ar host
E 16
D 20
FTP server.  An optional port number may be supplied,
E 20
I 20
.Tn FTP
server.
An optional port number may be supplied,
E 20
D 16
in which case, 
.I ftp
E 16
I 16
in which case,
.Nm ftp
E 16
D 20
will attempt to contact an FTP server at that port.
E 20
I 20
will attempt to contact an
.Tn FTP
server at that port.
E 20
D 16
If the 
.I auto-login
option is on (default), 
.I ftp
E 16
I 16
If the
.Ic auto-login
option is on (default),
.Nm ftp
E 16
will also attempt to automatically log the user in to
D 20
the FTP server (see below).
D 16
.TP
.B prompt
E 16
I 16
.Tp Ic prompt
E 16
Toggle interactive prompting.  Interactive prompting
E 20
I 20
the
.Tn FTP
server (see below).
I 24
.It Ic passive
Toggle passive mode.  If passive mode is turned on
(default is off), the ftp client will
send a
.Dv PASV
command for all data connections instead of the usual
.Dv PORT
command.  The
.Dv PASV
command requests that the remote server open a port for the data connection
and return the address of that port.  The remote server listens on that
port and the client connects to it.  When using the more traditional
.Dv PORT
command, the client listens on a port and sends that address to the remote
server, who connects back to it.  Passive mode is useful when using
.Nm ftp
through a gateway router or host that controls the directionality of
traffic.
(Note that though ftp servers are required to support the
.Dv PASV
command by RFC 1123, some do not.)
E 24
.It Ic prompt
Toggle interactive prompting.
Interactive prompting
E 20
occurs during multiple file transfers to allow the
D 2
user to selectively retrieve or store files.  If
prompting is turned off (default), any
.I mget
or
.I mput
will transfer all files.
E 2
I 2
user to selectively retrieve or store files.
D 3
If prompting is turned off (default), any \fBmget\fP or \fBmput\fP
E 3
I 3
D 4
By default, prompting is turned on.
If prompting is turned off, any \fBmget\fP or \fBmput\fP
E 4
I 4
D 16
If prompting is turned off (default is on), any \fBmget\fP or \fBmput\fP
E 4
E 3
will transfer all files, and any \fBmdelete\fP will delete all files.
E 2
.TP
I 4
\fBproxy\fP \fIftp-command\fP
E 16
I 16
If prompting is turned off (default is on), any
.Ic mget
or
.Ic mput
will transfer all files, and any
.Ic mdelete
will delete all files.
D 20
.Tp Cx Ic proxy
D 17
.Cx \&\ \&
E 17
I 17
.Ws
E 17
.Ar ftp-command
.Cx
E 20
I 20
.It Ic proxy Ar ftp-command
E 20
E 16
Execute an ftp command on a secondary control connection.
This command allows simultaneous connection to two remote ftp
servers for transferring files between the two servers.
The first
D 16
.B proxy
E 16
I 16
.Ic proxy
E 16
command should be an
D 16
.BR open ,
E 16
I 16
.Ic open  ,
E 16
to establish the secondary control connection.
Enter the command "proxy ?" to see other ftp commands executable on the
secondary connection.
D 7
The following commands behave diffrently when prefaced by
E 7
I 7
The following commands behave differently when prefaced by
E 7
D 16
.BR proxy :
.B open
E 16
I 16
.Ic proxy  :
.Ic open
E 16
will not define new macros during the auto-login process,
D 16
.B close
E 16
I 16
.Ic close
E 16
will not erase existing macro definitions,
D 16
.B get
E 16
I 16
.Ic get
E 16
and
D 16
.B mget
E 16
I 16
.Ic mget
E 16
transfer files from the host on the primary control connection
to the host on the secondary control connection, and
D 16
.BR put ,
.BR mput ,
E 16
I 16
.Ic put  ,
.Ic mput ,
E 16
and
D 16
.B append
E 16
I 16
.Ic append
E 16
transfer files from the host on the secondary control connection
to the host on the primary control connection.
Third party file transfers depend upon support of the ftp protocol
D 20
PASV command by the server on the secondary control connection.
D 16
.TP
E 4
\fBput\fP \fIlocal-file\fP [ \fIremote-file\fP ]
Store a local file on the remote machine.  If 
.I remote-file
E 16
I 16
.Tp Cx Ic put
D 17
.Cx \&\ \&
E 17
I 17
.Ws
E 17
.Ar local-file
D 17
.Cx \&\ \&
E 17
I 17
.Ws
E 17
.Op Ar remote-file
.Cx
Store a local file on the remote machine.  If
E 20
I 20
.Dv PASV
command by the server on the secondary control connection.
.It Ic put Ar local-file Op Ar remote-file
Store a local file on the remote machine.
If
E 20
.Ar remote-file
E 16
is left unspecified, the local file name is used
I 4
after processing according to any
D 16
.I ntrans
E 16
I 16
.Ic ntrans
E 16
or
D 16
.I nmap
E 16
I 16
.Ic nmap
E 16
settings
E 4
D 20
in naming the remote file.  File transfer uses the
E 20
I 20
in naming the remote file.
File transfer uses the
E 20
D 3
current settings for
.IR type ,
.IR format ,
.IR mode ,
and
.IR structure .
E 3
I 3
D 4
current settings for \*(lqrepresentation type\*(rq,
\*(lqfile structure\*(rq, and \*(lqtransfer mode\*(rq.
E 4
I 4
current settings for
D 16
.IR type ,
.IR format ,
.IR mode ,
E 16
I 16
.Ic type  ,
.Ic format ,
.Ic mode  ,
E 16
and
D 16
.IR structure .
E 4
E 3
.TP
.B pwd
E 16
I 16
.Ic structure  .
D 20
.Tp Ic pwd
E 20
I 20
.It Ic pwd
E 20
E 16
Print the name of the current working directory on the remote
machine.
D 16
.TP
.B quit
E 16
I 16
D 20
.Tp Ic quit
E 20
I 20
.It Ic quit
E 20
E 16
D 3
A synonym for bye.
E 3
I 3
D 4
A synonym for \fBbye\fP.
E 4
I 4
D 5
A synonym for bye.
E 5
I 5
A synonym for
D 16
.BR bye .
E 5
E 4
E 3
.TP
D 2
.BI quote " arg1 arg2 ..."
E 2
I 2
D 3
.BI quote "arg1 arg2 ..."
E 2
The arguments specified are sent, verbatim, to the remote FTP
E 3
I 3
D 4
\fBquote\fP \fIarg1\fP \fIarg2\fP ...
Send the arguments specified, verbatim, to the remote FTP
E 3
server.  A single FTP reply code is expected in return.
E 4
I 4
.BI quote " arg1 arg2 ..."
E 16
I 16
.Ic bye  .
D 20
.Tp Cx Ic quote
D 17
.Cx \&\ \&
.Ar crg1 arg2 ...
E 17
I 17
.Ws
.Ar arg1 arg2 ...
E 17
.Cx
E 16
The arguments specified are sent, verbatim, to the remote FTP
E 20
I 20
.It Ic quote Ar arg1 arg2 ...
The arguments specified are sent, verbatim, to the remote
.Tn FTP
E 20
server.
E 4
D 16
.TP
\fBrecv\fP \fIremote-file\fP [ \fIlocal-file\fP ]
E 16
I 16
D 20
.Tp Cx Ic recv
D 17
.Cx \&\ \&
E 17
I 17
.Ws
E 17
.Ar remote-file
D 17
.Cx \&\ \&
E 17
I 17
.Ws
E 17
.Op Ar local-file
.Cx
E 20
I 20
.It Ic recv Ar remote-file Op Ar local-file
E 20
E 16
D 3
A synonym for get.
E 3
I 3
D 4
A synonym for \fBget\fP.
E 4
I 4
A synonym for get.
E 4
E 3
D 16
.TP
I 12
D 14
\fBreget\fP \fIremote-file\fP [ \fIlocal-file\fP ]
Reget acts like get, except that if \fIlocal-file\fP exists and is
smaller than \fIremote-file\fP, \fIlocal-file\fP is presumed to be
a partially transferred copy of \fIremote-file\fP and the transfer
E 16
I 16
D 20
.Tp Cx Ic reget
D 17
.Cx \&\ \&
E 17
I 17
.Ws
E 17
.Ar remote-file
D 17
.Cx \&\ \&
E 17
I 17
.Ws
E 17
.Op Ar local-file
.Cx
E 20
I 20
.It Ic reget Ar remote-file Op Ar local-file
E 20
Reget acts like get, except that if
.Ar local-file
exists and is
smaller than
.Ar remote-file  ,
.Ar local-file
is presumed to be
a partially transferred copy of
.Ar remote-file
and the transfer
E 16
D 20
is continued from the apparent point of failure. This command
E 20
I 20
is continued from the apparent point of failure.
This command
E 20
is useful when transferring very large files over networks that
are prone to dropping connections.
D 16
.TP
E 14
E 12
\fBremotehelp\fP [ \fIcommand-name\fP ]
Request help from the remote FTP server.  If a 
.I command-name
E 16
I 16
D 20
.Tp Cx Ic remotehelp
D 17
.Cx \&\ \&
E 17
I 17
.Ws
E 17
.Op Ar command-name
.Cx
Request help from the remote FTP server.  If a
E 20
I 20
.It Ic remotehelp Op Ar command-name
Request help from the remote
.Tn FTP
server.
If a
E 20
.Ar command-name
E 16
is specified it is supplied to the server as well.
D 16
.TP
I 12
\fBremotestatus\fP [ \fIfile-name\fP ]
With no arguments, show status of remote machine. If \fIfile-name\fP
is specified, show status of \fIfile-name\fP on remote machine.
.TP
E 12
D 3
\fBrename\fP [ \fIfrom\fP ] [ \fIto\fP ]
E 3
I 3
D 4
\fBrename\fP \fIfrom\fP \fIto\fP
E 4
I 4
\fBrename\fP [ \fIfrom\fP ] [ \fIto\fP ]
E 16
I 16
D 20
.Tp Cx Ic remotestatus
I 17
.Ws
E 17
.Op Ar file-name
.Cx
With no arguments, show status of remote machine. If
E 20
I 20
.It Ic remotestatus Op Ar file-name
With no arguments, show status of remote machine.
If
E 20
.Ar file-name
is specified, show status of
.Ar file-name
on remote machine.
D 20
.Tp Cx Ic rename
D 17
.Cx \&\ \&
E 17
I 17
.Ws
E 20
I 20
.It Xo
.Ic rename
E 20
E 17
.Op Ar from
D 17
.Cx \&\ \&
E 17
I 17
D 20
.Ws
E 20
E 17
.Op Ar to
D 20
.Cx
E 20
I 20
.Xc
E 20
E 16
E 4
E 3
Rename the file
D 16
.I from
E 16
I 16
.Ar from
E 16
D 3
on the remote machine, to the file
E 3
I 3
D 4
on the remote machine to have the name
E 4
I 4
on the remote machine, to the file
E 4
E 3
D 16
.IR to .
.TP
I 4
.B reset
E 16
I 16
.Ar to  .
D 20
.Tp Ic reset
E 20
I 20
.It Ic reset
E 20
E 16
Clear reply queue.
This command re-synchronizes command/reply sequencing with the remote
ftp server.
D 12
Resynchronization may be neccesary following a violation of the ftp protocol
E 12
I 12
Resynchronization may be necessary following a violation of the ftp protocol
E 12
by the remote server.
D 14
D 16
.TP
I 12
.BI restart " marker"
Restart the immediately following \fBget\fP or \fBput\fP at the
indicated \fImarker\fP. On UNIX systems, marker is usually a byte
E 16
I 16
D 20
.Tp Cx Ic restart
D 17
.Cx \&\ \&
E 17
I 17
.Ws
E 17
.Ar marker
.Cx
E 20
I 20
.It Ic restart Ar marker
E 20
Restart the immediately following
.Ic get
or
.Ic put
at the
indicated
.Ar marker  .
D 20
On UNIX systems, marker is usually a byte
E 20
I 20
On
.Ux
systems, marker is usually a byte
E 20
E 16
offset into the file.
E 14
D 16
.TP
E 12
E 4
.BI rmdir " directory-name"
E 16
I 16
D 20
.Tp Cx Ic rmdir
D 17
.Cx \&\ \&
E 17
I 17
.Ws
E 17
.Ar directory-name
.Cx
E 20
I 20
.It Ic rmdir Ar directory-name
E 20
E 16
Delete a directory on the remote machine.
D 16
.TP
I 4
.B runique
E 16
I 16
D 20
.Tp Ic runique
E 20
I 20
.It Ic runique
E 20
E 16
Toggle storing of files on the local system with unique filenames.
If a file already exists with a name equal to the target
local filename for a
D 16
.B get
E 16
I 16
.Ic get
E 16
or
D 16
.B mget
E 16
I 16
.Ic mget
E 16
D 6
command, a ".1" is appended to name.
E 6
I 6
command, a ".1" is appended to the name.
E 6
If the resulting name matches another existing file,
a ".2" is appended to the original name.
If this process continues up to ".99", an error
message is printed, and the transfer does not take place.
The generated unique filename will be reported.
Note that
D 16
.B runique
E 16
I 16
.Ic runique
E 16
will not affect local files generated from a shell command
(see below).
The default value is off.
D 16
.TP
E 4
\fBsend\fP \fIlocal-file\fP [ \fIremote-file\fP ]
E 16
I 16
D 20
.Tp Cx Ic send
D 17
.Cx \&\ \&
E 17
I 17
.Ws
E 17
.Ar local-file
D 17
.Cx \&\ \&
E 17
I 17
.Ws
E 17
.Op Ar remote-file
.Cx
E 20
I 20
.It Ic send Ar local-file Op Ar remote-file
E 20
E 16
D 3
A synonym for put.
E 3
I 3
D 4
A synonym for \fBput\fP.
E 4
I 4
A synonym for put.
E 4
E 3
D 16
.TP
.B sendport
Toggle the use of PORT commands.  By default, 
.I ftp
E 16
I 16
D 20
.Tp Ic sendport
Toggle the use of PORT commands.  By default,
E 20
I 20
.It Ic sendport
Toggle the use of
.Dv PORT
commands.
By default,
E 20
.Nm ftp
E 16
D 20
will attempt to use a PORT command when establishing
E 20
I 20
will attempt to use a
.Dv PORT
command when establishing
E 20
D 4
a connection for each data transfer.  If the PORT
E 4
I 4
a connection for each data transfer.
D 20
The use of PORT commands can prevent delays
when performing multiple file transfers. If the PORT
E 20
I 20
The use of
.Dv PORT
commands can prevent delays
when performing multiple file transfers.
If the
.Dv PORT
E 20
E 4
D 16
command fails, 
.I ftp
E 16
I 16
command fails,
.Nm ftp
E 16
D 20
will use the default data port.  When the use of PORT
E 20
I 20
will use the default data port.
When the use of
.Dv PORT
E 20
commands is disabled, no attempt will be made to use
D 20
PORT commands for each data transfer.  This is useful
D 3
for certain FTP implementations which do ignore PORT
commands but, incorrectly, indicate they've been accepted.
E 3
I 3
D 4
for certain FTP implementations which ignore PORT
commands but incorrectly indicate they've been accepted.
E 4
I 4
for certain FTP implementations which do ignore PORT
E 20
I 20
.Dv PORT
commands for each data transfer.
This is useful
for certain
.Tn FTP
implementations which do ignore
.Dv PORT
E 20
commands but, incorrectly, indicate they've been accepted.
E 4
E 3
D 16
.TP
I 15
.BI site " arg1 arg2 ..."
E 16
I 16
D 20
.Tp Cx Ic site
D 17
.Cx \&\ \&
E 17
I 17
.Ws
E 17
.Ar arg1 arg2 ...
.Cx
E 16
The arguments specified are sent, verbatim, to the remote FTP
server as a SITE command.
D 16
.TP
E 15
I 12
.BI size " file-name"
Return size of \fIfile-name\fP on remote machine.
.TP
E 12
.B status
E 16
I 16
.Tp Cx Ic size
D 17
.Cx \&\ \&
E 17
I 17
.Ws
E 17
.Ar file-name
.Cx
E 20
I 20
.It Ic site Ar arg1 arg2 ...
The arguments specified are sent, verbatim, to the remote
.Tn FTP
server as a
.Dv SITE
command.
.It Ic size Ar file-name
E 20
Return size of
.Ar file-name
on remote machine.
D 20
.Tp Ic status
E 20
I 20
.It Ic status
E 20
E 16
Show the current status of
D 16
.IR ftp .
.TP
\fBstruct\fP [ \fIstruct-name\fP ]
E 16
I 16
.Nm ftp  .
D 20
.Tp Cx Ic struct
D 17
.Cx \&\ \&
E 17
I 17
.Ws
E 17
.Op Ar struct-name
.Cx
E 20
I 20
.It Ic struct Op Ar struct-name
E 20
E 16
D 3
Set the file transfer
.I structure
to
E 3
I 3
D 4
Set the \*(lqfile structure\*(rq to
E 4
I 4
Set the file transfer
D 16
.I structure
E 16
I 16
.Ar structure
E 16
to
E 4
E 3
D 16
.IR struct-name .
D 3
By default \*(lqstream\*(rq structure is used.
E 3
I 3
D 4
The only valid
.I struct-name
is
.BR file ,
which corresponds to the default \*(lqfile\*(rq structure.
E 4
I 4
By default \*(lqstream\*(rq structure is used.
E 4
E 3
.TP
I 4
.B sunique
E 16
I 16
D 17
.Ar struct-name  .
E 17
I 17
.Ar struct-name .
E 17
By default \*(Lqstream\*(Rq structure is used.
D 20
.Tp Ic sunique
E 20
I 20
.It Ic sunique
E 20
E 16
Toggle storing of files on remote machine under unique file names.
D 20
Remote ftp server must support ftp protocol STOU command for
E 20
I 20
Remote ftp server must support ftp protocol
.Dv STOU
command for
E 20
successful completion.
The remote server will report unique name.
Default value is off.
D 16
.TP
I 12
.B system
E 16
I 16
D 20
.Tp Ic system
E 20
I 20
.It Ic system
E 20
E 16
Show the type of operating system running on the remote machine.
D 16
.TP
E 12
E 4
.B tenex
E 16
I 16
D 20
.Tp Ic tenex
E 20
I 20
.It Ic tenex
E 20
E 16
D 3
Set the file transfer type to that needed to
E 3
I 3
D 4
Set the \*(lqrepresentation type\*(rq to that needed to
E 4
I 4
Set the file transfer type to that needed to
E 4
E 3
D 20
talk to TENEX machines.
D 16
.TP
.B trace
E 16
I 16
.Tp Ic trace
E 20
I 20
talk to
.Tn TENEX
machines.
.It Ic trace
E 20
E 16
D 3
Toggle packet tracing.
E 3
I 3
D 4
Toggle packet tracing (unimplemented).
E 4
I 4
Toggle packet tracing.
E 4
E 3
D 16
.TP
\fBtype\fP [ \fItype-name\fP ]
E 16
I 16
D 20
.Tp Cx Ic type
D 17
.Cx \&\ \&
E 17
I 17
.Ws
E 17
.Op Ar type-name
.Cx
E 20
I 20
.It Ic type Op Ar type-name
E 20
E 16
D 3
Set the file transfer
.I type
to
E 3
I 3
D 4
Set the \*(lqrepresentation type\*(rq to
E 4
I 4
Set the file transfer
D 16
.I type
E 16
I 16
.Ic type
E 16
to
E 4
E 3
D 16
.IR type-name .
E 16
I 16
.Ar type-name  .
E 16
I 3
D 4
The valid
.IR type-name s
are
.B ascii
for \*(lqnetwork ASCII\*(rq,
.B binary
or
.B image
for \*(lqimage\*(rq,
and
.B tenex
for \*(lqlocal byte size\*(rq with a byte size of 8 (used to talk to
TENEX machines).
E 4
E 3
If no type is specified, the current type
D 3
is printed.  The default type is network ASCII.
E 3
I 3
D 4
is printed.  The default type is \*(lqnetwork ASCII\*(rq.
E 4
I 4
D 20
is printed.  The default type is network ASCII.
I 15
D 16
.TP
\fBumask\fP [ \fInewmask\fP ]
Set the default umask on the remote server to \fInewmask\fR.
If \fInewmask\fR is ommitted, the current umask is printed.
E 15
E 4
E 3
.TP
\fBuser\fP \fIuser-name\fP [ \fIpassword\fP ] [ \fIaccount\fP ]
E 16
I 16
.Tp Cx Ic umask
D 17
.Cx \&\ \&
E 17
I 17
.Ws
E 17
.Op Ar newmask
.Cx
E 20
I 20
is printed.
The default type is network
.Tn ASCII .
.It Ic umask Op Ar newmask
E 20
Set the default umask on the remote server to
D 17
.Ic newmask  .
E 17
I 17
.Ar newmask  .
E 17
If
D 17
.Ic newmask
E 17
I 17
.Ar newmask
E 17
D 23
is ommitted, the current umask is printed.
E 23
I 23
is omitted, the current umask is printed.
E 23
D 20
.Tp Cx Ic user
D 17
.Cx \&\ \&
E 17
I 17
.Ws
E 17
.Ar user-name
D 17
.Cx \&\ \&
E 17
I 17
.Ws
E 20
I 20
.It Xo
.Ic user Ar user-name
E 20
E 17
.Op Ar password
D 17
.Cx \&\ \&
E 17
I 17
D 20
.Ws
E 20
E 17
.Op Ar account
D 20
.Cx
E 16
Identify yourself to the remote FTP server.  If the
E 20
I 20
.Xc
Identify yourself to the remote
.Tn FTP
server.
If the
E 20
D 17
password is not specified and the server requires it,
E 17
I 17
.Ar password
is not specified and the server requires it,
E 17
D 16
.I ftp
E 16
I 16
.Nm ftp
E 16
will prompt the user for it (after disabling local echo).
D 17
If an account field is not specified, and the FTP server
E 17
I 17
If an
.Ar account
D 20
field is not specified, and the FTP server
E 20
I 20
field is not specified, and the
.Tn FTP
server
E 20
E 17
D 4
requires it, the user will be prompted for it.  Unless
E 4
I 4
requires it, the user will be prompted for it.
D 17
If an account field is specified, an account command will
E 17
I 17
If an
.Ar account
field is specified, an account command will
E 17
be relayed to the remote server after the login sequence
is completed if the remote server did not require it
for logging in.
Unless
E 4
D 16
.I ftp
is invoked with \*(lqauto-login\*(rq disabled, this
E 16
I 16
.Nm ftp
is invoked with \*(Lqauto-login\*(Rq disabled, this
E 16
process is done automatically on initial connection to
D 20
the FTP server.
D 16
.TP
.B verbose
E 16
I 16
.Tp Ic verbose
E 16
Toggle verbose mode.  In verbose mode, all responses from
the FTP server are displayed to the user.  In addition,
E 20
I 20
the
.Tn FTP
server.
.It Ic verbose
Toggle verbose mode.
In verbose mode, all responses from
the
.Tn FTP
server are displayed to the user.
In addition,
E 20
D 3
if verbose is on, when a file transfer completes, statistics
E 3
I 3
D 4
if verbose mode is on, when a file transfer completes, statistics
E 4
I 4
if verbose is on, when a file transfer completes, statistics
E 4
E 3
D 20
regarding the efficiency of the transfer are reported.  By default,
E 20
I 20
regarding the efficiency of the transfer are reported.
By default,
E 20
D 3
verbose is on.
E 3
I 3
D 4
verbose mode is on if
.IR ftp 's
commands are coming from a terminal, and off otherwise.
E 4
I 4
verbose is on.
E 4
E 3
D 16
.TP
\fB?\fP [ \fIcommand\fP ]
E 16
I 16
D 20
.Tp Cx Ic ?
D 17
.Cx \&\ \&
E 17
I 17
.Ws
E 17
.Op Ar command
.Cx
E 20
I 20
.It Ic ? Op Ar command
E 20
E 16
D 3
A synonym for help.
.PP
E 3
I 3
D 4
A synonym for \fBhelp\fP.
.LP
E 4
I 4
A synonym for help.
D 16
.PP
E 16
I 16
D 20
.Tp
E 20
I 20
.El
E 20
.Pp
E 16
E 4
E 3
Command arguments which have embedded spaces may be quoted with
D 17
quote (") marks.
I 3
D 4
.LP
If any command argument which is not indicated as being optional is
not specified,
E 4
I 4
D 16
.SH "ABORTING A FILE TRANSFER"
E 16
I 16
.Sh "ABORTING A FILE TRANSFER"
E 17
I 17
quote `"' marks.
.Sh ABORTING A FILE TRANSFER
E 17
E 16
D 7
To abort a file transfer, enter the terminal interrupt key sequence
E 7
I 7
To abort a file transfer, use the terminal interrupt key
E 7
(usually Ctrl-C).
Sending transfers will be immediately halted.
D 20
Receiving transfers will be halted by sending a ftp protocol ABOR
E 20
I 20
Receiving transfers will be halted by sending a ftp protocol
.Dv ABOR
E 20
command to the remote server, and discarding any further data received.
The speed at which this is accomplished depends upon the remote
D 20
server's support for ABOR processing.
D 7
If the remote server does not support the ABOR command, a "ftp>"
E 7
I 7
D 17
If the remote server does not support the ABOR command, an "ftp>"
E 17
I 17
If the remote server does not support the ABOR command, an
E 20
I 20
server's support for
.Dv ABOR
processing.
If the remote server does not support the
.Dv ABOR
command, an
E 20
.Ql ftp>
E 17
E 7
prompt will not appear until the remote server has completed
sending the requested file.
D 16
.PP
E 16
I 16
.Pp
E 16
The terminal interrupt key sequence will be ignored when
E 4
D 16
.I ftp
E 16
I 16
.Nm ftp
E 16
D 4
will prompt for that argument.
E 4
I 4
has completed any local processing and is awaiting a reply
from the remote server.
A long delay in this mode may result from the ABOR processing described
above, or from unexpected behavior by the remote server, including
violations of the ftp protocol.
If the delay results from unexpected remote server behavior, the local
D 16
.I ftp
E 16
I 16
.Nm ftp
E 16
program must be killed by hand.
E 4
E 3
D 16
.SH "FILE NAMING CONVENTIONS"
E 16
I 16
D 17
.Sh "FILE NAMING CONVENTIONS"
E 17
I 17
.Sh FILE NAMING CONVENTIONS
E 17
E 16
D 3
Files specified as arguments to
E 3
I 3
D 4
Local files specified as arguments to
E 4
I 4
Files specified as arguments to
E 4
E 3
D 16
.I ftp
E 16
I 16
.Nm ftp
E 16
commands are processed according to the following rules.
D 16
.TP
1)
D 3
If the file name \*(lq\-\*(rq is specified, the
.B stdin
(for reading) or
.B stdout
E 3
I 3
D 4
If the file name \*(lq-\*(rq is specified, the
standard input (for reading) or standard output
E 4
I 4
If the file name \*(lq\-\*(rq is specified, the
.B stdin
E 16
I 16
D 17
.Tw Fl
E 17
I 17
D 20
.Tw Ds
E 17
.Tp \&1)
E 20
I 20
.Bl -enum
.It
E 20
D 17
If the file name \*(Lq\-\*(Rq is specified, the
E 17
I 17
If the file name
.Sq Fl
is specified, the
E 17
.Ar stdin
E 16
(for reading) or
D 16
.B stdout
E 16
I 16
.Ar stdout
E 16
E 4
E 3
(for writing) is used.
D 16
.TP
2)
If the first character of the file name is \*(lq|\*(rq, the
E 16
I 16
D 20
.Tp \&2)
E 20
I 20
.It
E 20
D 17
If the first character of the file name is \*(Lq\*(Rq, the
E 17
I 17
If the first character of the file name is
.Sq \&| ,
the
E 17
E 16
remainder of the argument is interpreted as a shell command.
D 3
.I Ftp
E 3
I 3
D 4
.I ftp
E 4
I 4
D 16
.I Ftp
E 4
E 3
then forks a shell, using 
D 3
.IR popen (3)
with the argument supplied, and reads (writes) from the stdout
(stdin).  If the shell command includes spaces, the argument
E 3
I 3
D 4
.IR popen (3S)
with the argument supplied, and reads (writes) from the standard output
(standard input) of that shell.  If the shell command includes spaces,
the argument
E 4
I 4
.IR popen (3)
E 16
I 16
.Nm Ftp
then forks a shell, using
.Xr popen 3
E 16
with the argument supplied, and reads (writes) from the stdout
D 20
(stdin).  If the shell command includes spaces, the argument
E 4
E 3
D 16
must be quoted; e.g. \*(lq"| ls -lt"\*(rq.  A particularly
useful example of this mechanism is: \*(lqdir |more\*(rq.
.TP
3)
D 3
Failing the above checks, if ``globbing'' is enabled, 
E 3
I 3
D 4
Failing the above checks, if ``globbing'' is enabled,
E 4
I 4
Failing the above checks, if ``globbing'' is enabled, 
E 16
I 16
must be quoted; e.g. \*(Lq" ls -lt"\*(Rq.  A particularly
E 20
I 20
(stdin).
If the shell command includes spaces, the argument
must be quoted; e.g.
\*(Lq" ls -lt"\*(Rq.
A particularly
E 20
useful example of this mechanism is: \*(Lqdir more\*(Rq.
D 20
.Tp \&3)
E 20
I 20
.It
E 20
Failing the above checks, if ``globbing'' is enabled,
E 16
E 4
E 3
local file names are expanded
D 16
according to the rules used in the 
.IR csh (1);
D 3
c.f. the 
E 3
I 3
D 4
c.f. the
E 4
I 4
c.f. the 
E 4
E 3
.I glob
D 3
command. 
E 3
I 3
D 4
command.
.LP
Note that remote file names are not processed, but are passed just as they
are typed, except for the \fBmdelete\fP, \fBmdir\fP, \fBmget\fP,
and \fBmls\fP commands, where they are expanded according to the rules of
the remote host's operating system, if any.
E 4
I 4
command. 
E 16
I 16
according to the rules used in the
.Xr csh  1  ;
c.f. the
.Ic glob
command.
E 16
If the
D 16
.I ftp
E 16
I 16
.Nm ftp
E 16
D 17
command expects a single local file ( .e.g.
E 17
I 17
command expects a single local file (.e.g.
E 17
D 16
.BR put ),
E 16
I 16
.Ic put  ) ,
E 16
only the first filename generated by the "globbing" operation is used.
D 16
.TP
4)
E 16
I 16
D 20
.Tp \&4)
E 20
I 20
.It
E 20
E 16
For
D 16
.B mget
E 16
I 16
.Ic mget
E 16
commands and
D 16
.B get
E 16
I 16
.Ic get
E 16
commands with unspecified local file names, the local filename is
the remote filename, which may be altered by a
D 16
.BR case ,
.BR ntrans ,
E 16
I 16
.Ic case  ,
.Ic ntrans ,
E 16
or
D 16
.B nmap
E 16
I 16
.Ic nmap
E 16
setting.
The resulting filename may then be altered if
D 16
.B runique
E 16
I 16
.Ic runique
E 16
is on.
D 16
.TP
5)
E 16
I 16
D 20
.Tp \&5)
E 20
I 20
.It
E 20
E 16
For
D 16
.B mput
E 16
I 16
.Ic mput
E 16
commands and
D 16
.B put
E 16
I 16
.Ic put
E 16
commands with unspecified remote file names, the remote filename is
the local filename, which may be altered by a
D 16
.B ntrans
E 16
I 16
.Ic ntrans
E 16
or
D 16
.B nmap
E 16
I 16
.Ic nmap
E 16
setting.
The resulting filename may then be altered by the remote server if
D 16
.B sunique
E 16
I 16
.Ic sunique
E 16
is on.
E 4
E 3
D 16
.SH "FILE TRANSFER PARAMETERS"
E 16
I 16
D 20
.Tp
E 20
I 20
.El
E 20
D 17
.Sh "FILE TRANSFER PARAMETERS"
E 17
I 17
.Sh FILE TRANSFER PARAMETERS
E 17
E 16
The FTP specification specifies many parameters which may
D 3
affect a file transfer.  The 
.I type
may be one of \*(lqascii\*(rq, \*(lqimage\*(rq (binary),
\*(lqebcdic\*(rq, and \*(lqlocal byte size\*(rq (for PDP-10's
and PDP-20's mostly).
.I Ftp
D 2
supports the ascii and image types of file transfer.
E 2
I 2
supports the ascii and image types of file transfer,
plus local byte size 8 for \fBtenex\fP mode transfers.
E 2
.PP
.I Ftp
supports only the default values for the remaining
file transfer parameters: 
.IR mode ,
.IR form ,
and
.IR struct .
E 3
I 3
D 4
affect a file transfer.
.LP
The \*(lqrepresentation type\*(rq
may be one of \*(lqnetwork ASCII\*(rq, \*(lqEBCDIC\*(rq, \*(lqimage\*(rq,
or \*(lqlocal byte size\*(rq with a specified byte size (for PDP-10's
and PDP-20's mostly).  The \*(lqnetwork ASCII\*(rq and \*(lqEBCDIC\*(rq
types have a further subtype which specifies whether vertical format control
(newlines, form feeds, etc.) are to be passed through (\*(lqnon-print\*(rq),
provided in TELNET format (\*(lqTELNET format controls\*(rq),
or provided in ASA (FORTRAN) (\*(lqcarriage control (ASA)\*(rq) format.
.I ftp
supports the \*(lqnetwork ASCII\*(rq (subtype \*(lqnon-print\*(rq only)
and \*(lqimage\*(rq types, plus \*(lqlocal byte size\*(rq
with a byte size of 8 for communicating with TENEX machines.
.LP
The \*(lqfile structure\*(rq may be one of \*(lqfile\*(rq
(no record structure), \*(lqrecord\*(rq, or \*(lqpage\*(rq.
.I ftp
supports only the default value, which is \*(lqfile\*(rq.
.LP
The \*(lqtransfer mode\*(rq may be one of \*(lqstream\*(rq,
\*(lqblock\*(rq, or \*(lqcompressed\*(rq.
.I ftp
supports only the default value, which is \*(lqstream\*(rq.
E 4
I 4
D 16
affect a file transfer.  The 
.I type
may be one of \*(lqascii\*(rq, \*(lqimage\*(rq (binary),
\*(lqebcdic\*(rq, and \*(lqlocal byte size\*(rq (for PDP-10's
E 16
I 16
D 20
affect a file transfer.  The
E 20
I 20
affect a file transfer.
The
E 20
.Ic type
may be one of \*(Lqascii\*(Rq, \*(Lqimage\*(Rq (binary),
D 20
\*(Lqebcdic\*(Rq, and \*(Lqlocal byte size\*(Rq (for PDP-10's
E 16
and PDP-20's mostly).
E 20
I 20
\*(Lqebcdic\*(Rq, and \*(Lqlocal byte size\*(Rq (for
.Tn PDP Ns -10's
and
.Tn PDP Ns -20's
mostly).
E 20
D 16
.I Ftp
E 16
I 16
.Nm Ftp
E 16
supports the ascii and image types of file transfer,
D 16
plus local byte size 8 for \fBtenex\fP mode transfers.
.PP
.I Ftp
E 16
I 16
plus local byte size 8 for
.Ic tenex
mode transfers.
.Pp
.Nm Ftp
E 16
supports only the default values for the remaining
D 16
file transfer parameters: 
.IR mode ,
.IR form ,
E 16
I 16
file transfer parameters:
.Ic mode  ,
.Ic form ,
E 16
and
D 16
.IR struct .
E 4
E 3
.SH OPTIONS
Options may be specified at the command line, or to the 
command interpreter.
D 3
.PP
The
E 3
I 3
D 4
.TP
E 4
I 4
.PP
E 16
I 16
.Ic struct  .
D 17
.Sh "THE .netrc FILE"
E 17
I 17
.Sh THE .netrc FILE
E 17
E 16
The
E 4
E 3
D 16
.B \-v
D 3
(verbose on) option forces
E 3
I 3
D 4
show all responses from the remote server, as well
as report on data transfer statistics.  This is turned on by
default if
E 4
I 4
(verbose on) option forces
E 4
E 3
.I ftp
D 3
to show all responses from the remote server, as well
as report on data transfer statistics.
.PP
The
E 3
I 3
D 4
is running interactively with its input coming from the user's terminal.
.TP
E 4
I 4
to show all responses from the remote server, as well
as report on data transfer statistics.
.PP
The
E 4
E 3
.B \-n
D 3
option restrains 
.I ftp
from attempting \*(lqauto-login\*(rq upon initial connection.
E 3
I 3
D 4
do not attempt \*(lqauto-login\*(rq upon initial connection.
E 4
I 4
option restrains 
.I ftp
from attempting \*(lqauto-login\*(rq upon initial connection.
E 4
E 3
If auto-login is enabled, 
.I ftp
D 3
will check the
.I .netrc
E 3
I 3
D 4
checks the
.BI . netrc
E 3
file in the user's home directory for an entry describing
E 4
I 4
will check the
.I .netrc
(see below) file in the user's home directory for an entry describing
E 4
an account on the remote machine.  If no entry exists,
.I ftp
D 3
will use the login name on the local machine as the user
identity on the remote machine, and prompt for a password
E 3
I 3
D 4
uses the login name on the local machine as the user
identity on the remote machine, and prompts for a password
E 3
and, optionally, an account with which to login.
D 3
.PP
The
E 3
I 3
.TP
E 4
I 4
will prompt for the remote machine login name (default is the user
identity on the local machine), and, if necessary, prompt for a password
and an account with which to login.
.PP
The
E 4
E 3
.B \-i
D 3
option turns off interactive prompting during
D 2
mutliple file transfers.
E 2
I 2
multiple file transfers.
E 2
.PP
The
.B \-d
option enables debugging.
.PP
The
E 3
I 3
D 4
turn off interactive prompting during multiple file transfers.
.TP
E 4
I 4
option turns off interactive prompting during
multiple file transfers.
.PP
The
.B \-d
option enables debugging.
.PP
The
E 4
E 3
.B \-g
D 3
option disables file name globbing.
E 3
I 3
D 4
disable filename "globbing."
E 4
I 4
option disables file name globbing.
.SH "THE .netrc FILE"
The .netrc file contains login and initialization information
E 16
I 16
.Pa .netrc
file contains login and initialization information
E 16
used by the auto-login process.
It resides in the user's home directory.
The following tokens are recognized; they may be separated by spaces,
tabs, or new-lines:
E 4
D 16
.TP
D 4
.B \-d
enable debugging.
E 4
I 4
\fBmachine\fP \fIname\fP
E 16
I 16
D 20
.Tw password
.Tp Cx Ic machine
D 17
.Cx \&\ \&
E 17
I 17
.Ws
E 17
.Ar name
.Cx
E 20
I 20
.Bl -tag -width password
.It Ic machine Ar name
E 20
E 16
D 17
Identify a remote machine name.
The auto-login process searches the .netrc file for a
E 17
I 17
Identify a remote machine
.Ar name .
The auto-login process searches the
.Pa .netrc
file for a
E 17
D 16
.B machine
E 16
I 16
.Ic machine
E 16
D 6
token the matches the remote machine specified on the
E 6
I 6
token that matches the remote machine specified on the
E 6
D 16
.I ftp
E 16
I 16
.Nm ftp
E 16
command line or as an
D 16
.B open
E 16
I 16
.Ic open
E 16
command argument.
D 6
Note that the matching is performed using the specified name;
this name will not match a
.B machine
token referencing the same Internet address, but by a different
name or nickname.
E 6
D 17
Once a match is made, the subsequent .netrc tokens are processed,
E 17
I 17
Once a match is made, the subsequent
.Pa .netrc
tokens are processed,
E 17
stopping when the end of file is reached or another
D 16
.B machine
E 16
I 16
.Ic machine
E 16
I 13
or a
D 16
.B default
E 16
I 16
.Ic default
E 16
E 13
token is encountered.
I 12
D 16
.TP
D 13
\fBdefault\fP \fIname\fP
This is the same as \fBmachine\fP except that \fBdefault\fP always
matches the machine \fIname\fP. This is normally used as:
E 13
I 13
\fBdefault\fP
This is the same as \fBmachine\fP \fIname\fP except that \fBdefault\fP
E 16
I 16
D 20
.Tp Ic default
E 20
I 20
.It Ic default
E 20
This is the same as
.Ic machine
.Ar name
except that
.Ic default
E 16
matches any name.
D 16
There can be only one \fBdefault\fP token, and it must be after all
\fBmachine\fP tokens.
E 16
I 16
There can be only one
.Ic default
token, and it must be after all
.Ic machine
tokens.
E 16
This is normally used as:
I 17
.Pp
E 17
E 13
D 16
.ce
default login anonymous password user@site
thereby giving the user \fIautomatic\fP anonymous ftp login to
machines not specified in \fB.netrc\fP. This can be overridden
by using the \fB\-n\fP flag to disable auto-login.
E 12
E 4
.TP
D 4
.B \-t
enable packet tracing (unimplemented).
.SH "SEE ALSO"
rcp(1), ftpd(8c)
E 4
I 4
\fBlogin\fP \fIname\fP
E 16
I 16
.Dl default login anonymous password user@site
I 17
.Pp
E 17
thereby giving the user
.Ar automatic
anonymous ftp login to
machines not specified in
.Pa .netrc .
This can be overridden
by using the
.Fl n
flag to disable auto-login.
D 20
.Tp Cx Ic login
D 17
.Cx \&\ \&
E 17
I 17
.Ws
E 17
.Ar name
.Cx
E 20
I 20
.It Ic login Ar name
E 20
E 16
Identify a user on the remote machine.
If this token is present, the auto-login process will initiate
D 17
a login using the specified name.
E 17
I 17
a login using the specified
.Ar name .
E 17
D 16
.TP
\fBpassword\fP \fIstring\fP
E 16
I 16
D 20
.Tp Cx Ic password
D 17
.Cx \&\ \&
E 17
I 17
.Ws
E 17
.Ar string
.Cx
E 20
I 20
.It Ic password Ar string
E 20
E 16
Supply a password.
If this token is present, the auto-login process will supply the
specified string if the remote server requires a password as part
of the login process.
D 13
Note that if this token is present in the .netrc file,
E 13
I 13
D 16
Note that if this token is present in the .netrc file for any user other
than \fIanonymous\fP,
E 13
.I ftp
will abort the auto-login process if the .netrc is readable by
E 16
I 16
Note that if this token is present in the
.Pa .netrc
file for any user other
than
.Ar anonymous  ,
.Nm ftp
will abort the auto-login process if the
.Pa .netrc
is readable by
E 16
anyone besides the user.
D 16
.TP
\fBaccount\fP \fIstring\fP
E 16
I 16
D 20
.Tp Cx Ic account
D 17
.Cx \&\ \&
E 17
I 17
.Ws
E 17
.Ar string
.Cx
E 20
I 20
D 21
.It Ic account Ns Ar string
E 21
I 21
.It Ic account Ar string
E 21
E 20
E 16
Supply an additional account password.
If this token is present, the auto-login process will supply the
specified string if the remote server requires an additional
account password, or the auto-login process will initiate an
D 20
ACCT command if it does not.
D 16
.TP
\fBmacdef\fP \fIname\fP
E 16
I 16
.Tp Cx Ic macdef
D 17
.Cx \&\ \&
E 17
I 17
.Ws
E 17
.Ar name
.Cx
E 20
I 20
.Dv ACCT
command if it does not.
.It Ic macdef Ar name
E 20
E 16
Define a macro.
This token functions like the
D 16
.I ftp
.B macdef
E 16
I 16
.Nm ftp
.Ic macdef
E 16
command functions.
A macro is defined with the specified name; its contents begin with the
D 16
next .netrc line and continue until a null line (consecutive new-line
E 16
I 16
next
.Pa .netrc
line and continue until a null line (consecutive new-line
E 16
characters) is encountered.
If a macro named
D 16
.I init
E 16
I 16
.Ic init
E 16
is defined, it is automatically executed as the last step in the
auto-login process.
I 10
D 16
.SH "SEE ALSO"
ftpd(8)
E 10
E 4
E 3
.SH BUGS
E 16
I 16
D 20
.Tp
E 20
I 20
.El
E 20
.Sh ENVIRONMENT
.Nm Ftp
D 17
makes use of the
.Ev HOME
and
.Ev SHELL
environment variables.
E 17
I 17
utilizes the following environment variables.
D 20
.Tw Fl
.Tp Ev HOME
E 20
I 20
.Bl -tag -width Fl
.It Ev HOME
E 20
For default location of a
.Pa .netrc
file, if one exists.
D 20
.Tp Ev SHELL
E 20
I 20
.It Ev SHELL
E 20
For default shell.
D 20
.Tp
E 20
I 20
.El
E 20
E 17
.Sh SEE ALSO
.Xr ftpd 8
.Sh HISTORY
D 20
.Nm Ftp
appeared in 4.2 BSD.
E 20
I 20
The
.Nm ftp
command appeared in
.Bx 4.2 .
E 20
.Sh BUGS
E 16
D 2
Many FTP server implementation do not support the experimental
E 2
I 2
D 3
Many FTP server implementations do not support the experimental
E 2
operations such as print working directory.  Aborting a file
transfer does not work right; if one attempts this the local
.I ftp
will likely have to be killed by hand.
E 3
I 3
D 4
Many FTP server implementations do not support experimental
operations such as print working directory.
E 4
I 4
Correct execution of many commands depends upon proper behavior
by the remote server.
E 4
D 16
.PP
E 16
I 16
.Pp
E 16
D 4
Aborting a
.B get
often causes the connection to be closed;
aborting a
.B put
gives no indication that the transfer failed to complete.
E 4
I 4
D 7
A protocol violation present in the UNIX 4.2 ascii transfer code
E 7
I 7
An error in the treatment of carriage returns
D 20
in the 4.2BSD UNIX ascii-mode transfer code
E 20
I 20
in the
.Bx 4.2
ascii-mode transfer code
E 20
E 7
has been corrected.
This correction may result in incorrect transfers of binary files
D 7
to and from UNIX 4.2 remote servers using the ascii type.
E 7
I 7
D 20
to and from 4.2BSD servers using the ascii type.
E 20
I 20
to and from
.Bx 4.2
servers using the ascii type.
E 20
E 7
Avoid this problem by using the binary image type.
E 4
E 3
E 1
