h14858
s 00001/00001/00168
d D 8.5 94/01/02 10:40:39 bostic 15 14
c _version goes from BSD.1 -> BSD.2
e
s 00003/00003/00166
d D 8.4 94/01/02 10:40:15 bostic 14 13
c minor wordsmithing
e
s 00012/00006/00157
d D 8.3 94/01/02 10:39:48 bostic 13 12
c document that fnmatch is used for the suffix matching, not glob
e
s 00071/00048/00092
d D 8.2 94/01/02 10:39:13 bostic 12 11
c document _suffix, _build
e
s 00002/00002/00138
d D 8.1 93/06/09 19:21:46 bostic 11 10
c 4.4BSD snapshot (revision 8.1); add 1993 to copyright
e
s 00000/00005/00140
d D 5.8 93/06/09 19:21:43 bostic 10 8
c fixed the under development line
e
s 00002/00002/00143
d R 8.1 93/06/06 15:23:35 bostic 9 8
c 4.4BSD snapshot (revision 8.1); add 1993 to copyright
e
s 00004/00003/00141
d D 5.7 91/07/22 15:35:45 cael 8 7
c Os change
e
s 00093/00060/00051
d D 5.6 91/05/10 13:58:29 cael 7 5
c mdoc version three
e
s 00002/00002/00109
d R 5.6 90/09/30 17:51:46 bostic 6 5
c man.conf -> manconf
e
s 00004/00001/00107
d D 5.5 90/06/28 18:04:50 trent 5 4
c MANPATH subdirectories now specified by _config in man.conf
e
s 00001/00011/00107
d D 5.4 90/06/23 18:07:21 trent 4 3
c new copyright notice
e
s 00004/00002/00114
d D 5.3 90/05/31 12:02:53 bostic 3 2
c document multiple lines, multiple entries per line
e
s 00087/00020/00029
d D 5.2 90/05/27 15:24:08 bostic 2 1
c new man version, with much more complicated configuration file
e
s 00049/00000/00000
d D 5.1 90/04/12 17:28:42 sklower 1 0
c date and time created 90/04/12 17:28:42 by sklower
e
u
U
t
T
I 1
D 7
.\" Copyright (c) 1989 The Regents of the University of California.
E 7
I 7
D 11
.\" Copyright (c) 1989, 1991 The Regents of the University of California.
E 7
.\" All rights reserved.
E 11
I 11
.\" Copyright (c) 1989, 1991, 1993
.\"	The Regents of the University of California.  All rights reserved.
E 11
.\"
D 4
.\" Redistribution and use in source and binary forms are permitted
.\" provided that the above copyright notice and this paragraph are
.\" duplicated in all such forms and that any documentation,
.\" advertising materials, and other materials related to such
.\" distribution and use acknowledge that the software was developed
.\" by the University of California, Berkeley.  The name of the
.\" University may not be used to endorse or promote products derived
.\" from this software without specific prior written permission.
.\" THIS SOFTWARE IS PROVIDED ``AS IS'' AND WITHOUT ANY EXPRESS OR
.\" IMPLIED WARRANTIES, INCLUDING, WITHOUT LIMITATION, THE IMPLIED
.\" WARRANTIES OF MERCHANTABILITY AND FITNESS FOR A PARTICULAR PURPOSE.
E 4
I 4
D 7
.\" %sccs.include.redist.man%
E 7
I 7
.\" %sccs.include.redist.roff%
E 7
E 4
.\"
D 7
.\"	%W% (Berkeley) %G%
E 7
I 7
D 8
.\"     %W% (Berkeley) %G%
E 8
I 8
.\"	%W% (Berkeley) %G%
E 8
E 7
.\"
D 7
.TH MAN.CONF 5 "%Q%"
.SH NAME
D 2
man.conf \- man command's directory list
E 2
I 2
man.conf \- man command's configuration file
E 2
.SH DESCRIPTION
D 2
.IR Man (1)
searches the directories specified in the
E 2
I 2
.IR Man (1),
.IR apropos (1),
E 7
I 7
.Dd %Q%
.Dt MAN.CONF 5
I 8
.Os
E 8
.Sh NAME
.Nm man.conf
.Nd configuration file for
.Xr man 1
.Sh DESCRIPTION
The
.Xr man 1 ,
.Xr apropos 1 ,
E 7
and
D 7
.IR whatis (1)
E 7
I 7
.Xr whatis 1
commands
E 7
search for manual pages or their database files as specified by the
E 2
D 7
.I man.conf
E 7
I 7
.Nm man.conf
E 7
D 2
file for manual pages to display.
E 2
I 2
file.
D 12
Manual pages are expected to be preformatted (see
E 12
I 12
Manual pages are normally expected to be preformatted (see
E 12
D 7
.IR nroff (1))
E 7
I 7
.Xr nroff 1 )
E 7
and named with a trailing ``.0''.
D 7
.PP
E 7
I 7
.Pp
E 7
E 2
The
D 7
.I man.conf
E 7
I 7
.Nm man.conf
E 7
D 2
file should contain a list of pathnames, one per line.
Lines starting with whitespace or a hash character (``#'') are ignored.
E 2
I 2
file contains two types of lines.
E 2
D 7
.PP
E 7
I 7
.Pp
E 7
D 2
Each of these directories should contain sub-directories of the form
``cat#'', where the ``#'' should be a manual section number, i.e. ``1''
through ``8'' or ``3f''.
Each of these sub-directories may in turn have sub-directories of their
own, per machine type, for example ``tahoe''.
Manual pages should be pre-formatted (see
.IR nroff (1))
and stored in a file named with a trailing ``.0''.
E 2
I 2
The first type of line is a ``section'' line, which contains a
D 12
section name followed by a directory path.
E 12
I 12
section name followed by one or more directory paths.
The directory paths may contain the normal shell globbing characters,
including curly braces (``{}''); to escape a shell globbing character,
precede it with a backslash (``\e'').
E 12
Lines in this format specify that manual pages for the section
D 12
may be found in the directory.
E 12
I 12
D 14
may be found in the associated directories.
E 14
I 14
may be found in the following directories.
E 14
E 12
D 3
Multiple specifications for a section are cumulative and the
directories are searched in the order listed in the file.
E 3
E 2
D 7
.PP
E 7
I 7
.Pp
E 7
D 2
For example, the
E 2
I 2
Directories named with a trailing slash character (``/'') are expected
D 12
to contain subdirectories (see the keyword ``_subdir'' below) instead
of manual pages.
E 12
I 12
to contain subdirectories of manual pages, (see the keyword ``_subdir''
below) instead of manual pages.
E 12
These subdirectories are searched instead of the directory.
D 7
.PP
E 7
I 7
.Pp
E 7
D 12
All directories (either explicitly specified or named with a trailing
slash) may contain subdirectories.
D 7
.IR Man (1)
E 7
I 7
The
E 12
I 12
Before searching any directory for a manual page, the
E 12
.Xr man 1
D 12
command
E 7
automatically searches any subdirectory with the same name as the
current machine type before the directory is searched.
E 12
I 12
command always searches the subdirectory with the same name
as the current machine type, if it exists.
E 12
No specification of these subdirectories is necessary in the
D 7
.I man.conf
E 7
I 7
.Nm man.conf
E 7
file.
D 7
.PP
E 7
I 7
.Pp
E 7
Section names are unrestricted except for the reserved words specified
D 12
below; in general, however, it is best to avoid anything beginning with
an underscore (``_'') in order to avoid future incompatibilities.
E 12
I 12
below; in general, you should avoid anything with a leading underscore
(``_'') to avoid future incompatibilities.
E 12
D 7
.PP
E 7
I 7
.Pp
E 7
D 12
The section named ``_default'' is the list of directories to be
searched if no section is specified.
E 12
I 12
The section named ``_default'' is the list of directories that will
be searched if no section is specified by the user.
E 12
D 7
.PP
E 7
I 7
.Pp
E 7
The second type of line is preceded with a ``keyword''.
The possible keywords and their meanings are as follows:
D 7
.sp
.TP
_subdir
E 7
I 7
.Pp
D 8
.Bl -tag -width indent
E 8
I 8
.Bl -tag -width "_version"
I 12
.It _build
Man file names, regardless of their format, are expected to end in
a ``.*'' pattern, i.e. a ``.'' followed by some suffix.
D 13
The first field of a _build line lists a suffix globbing pattern which
indicates files which need to be reformated or manipulated in
some way before being displayed to the user.
E 13
I 13
The first field of a _build line lists a suffix which indicates
files which need to be reformated or manipulated in some way before
being displayed to the user.
The suffix may contain the normal shell globbing characters (NOT
including curly braces (``{}'')).
E 13
The rest of the line must be a shell command line, the standard
output of which is the manual page in a format which may be directly
displayed to the user.
D 14
Any occurrences of the string ``%s'' in the latter part of the line
will be replaced by the name of the file which is being reformatted.
E 14
I 14
Any occurrences of the string ``%s'' in the shell command line will
be replaced by the name of the file which is being reformatted.
E 14
E 12
E 8
.It _subdir
E 7
The list (in search order) of subdirectories which will be searched in
D 5
any directory named with a trailing slash (``/'') character.
E 5
I 5
D 12
any directory named with a trailing slash (``/'') character.  This
D 7
list is also used when a path is specified by the MANPATH environment 
variable or the -M option.
.
E 5
.TP
_version
E 7
I 7
list is also used when a path is specified by the
E 12
I 12
any directory named with a trailing slash (``/'') character.
This list is also used when a path is specified to the
.Xr man 1
utility by the user, using the
E 12
.Ev MANPATH
D 12
environment 
variable or the
E 12
I 12
environment variable or the
E 12
.Fl M
D 12
option.
E 12
I 12
and
.Fl m
options.
.It _suffix
Man file names, regardless of their format are expected to end in
a ``.*'' pattern, i.e. a ``.'' followed by some suffix.
D 13
Each field of a _suffix line is a suffix globbing pattern which
indicates files which do not need to be reformatted or manipulated
E 13
I 13
Each field of a _suffix line is a suffix which indicates
files which do not need to be reformatted or manipulated
E 13
in any way, but which may be directly displayed to the user.
I 13
Each suffix may contain the normal shell globbing characters (NOT
including curly braces (``{}'')).
E 13
E 12
.It _version
E 7
The version of the configuration file.
D 7
.TP
_whatdb
E 7
I 7
.It _whatdb
E 7
The full pathname (not just a directory path) for a database to be used
by the
D 7
.IR apropos (1)
E 7
I 7
.Xr apropos 1
E 7
and
D 7
.IR whatis (1)
E 7
I 7
.Xr whatis 1
E 7
commands.
I 3
D 7
.PP
E 7
I 7
.El
.Pp
E 7
D 12
Multiple specifications for all types of lines (except for ``_version'')
are cumulative and the entries are used in the order listed in the file;
multiple entries may be listed per line, as well.
E 12
I 12
Multiple specifications for all types of lines are cumulative and the
entries are used in the order listed in the file; multiple entries may
be listed per line, as well.
E 12
E 3
D 7
.PP
E 7
I 7
.Pp
E 7
Empty lines or lines whose first non-whitespace character is a hash
mark (``#'') are ignored.
D 7
.SH EXAMPLES
E 7
I 7
.Sh EXAMPLES
E 7
Given the following
D 7
.I man.conf file:
.sp
.nf
.RS
_version		BSD.1
E 7
I 7
.Nm man.conf
file:
.Bd -literal -offset indent
D 15
_version	BSD.1
E 15
I 15
_version	BSD.2
E 15
E 7
D 12
_subdir		cat1 cat2 cat3
E 12
I 12
_subdir		cat[123]
_suffix		.0
_build		.[1-9]	nroff -man %s
_build		.tbl	tbl %s | nroff -man
E 12
D 7
_default		/usr/share/man/
E 7
I 7
_default	/usr/share/man/
E 7
D 12
sect3		/usr/share/man/cat3
E 12
I 12
sect3		/usr/share/man/{old/,}cat3
E 12
D 7
.fi
.RE
.sp
E 7
I 7
.Ed
.Pp
E 7
D 12
The default
E 2
D 7
.IR mktemp (3)
D 2
manual page should be stored in ``cat3/mktemp.0''.
A VAX specific version of it should be stored in ``cat3/vax/mktemp.0''.
The FORTRAN version should be in ``cat3f/mktemp.0''.
.FILE
E 2
I 2
manual page should be stored in ``/usr/share/man/cat3/mktemp.0''.
Any VAX architecture specific version of it should be stored in
``cat3/vax/mktemp.0''.
.PP
The command ``man mktemp'' would search the subdirectories ``cat1''
``cat2'', and ``cat3'', in ``/usr/share/man'', in that order, for
``mktemp.0''.
E 7
I 7
.Xr mktemp 3
manual page should be stored in
.Dq Pa /usr/share/man/cat3/mktemp.0 .
Any
.Tn VAX
architecture specific version of it should be stored in
.Dq Pa cat3/vax/mktemp.0 .
.Pp
The command
E 12
I 12
By default, the command
E 12
.Dq Li man mktemp
D 12
would search the subdirectories
.Dq Pa cat1
.Dq Pa cat2 ,
E 12
I 12
will search for
``mktemp.<any_digit>'' and ``mktemp.tbl''
in the directories
.Dq Pa /usr/share/man/cat1 , 
.Dq Pa /usr/share/man/cat2 , 
E 12
and
D 12
.Dq Pa cat3 ,
in
.Dq Pa /usr/share/man ,
in that order, for
.Dq Pa mktemp.0''.
E 7
If a subdirectory with the same name as the current machine type
existed in any of them, it would be searched as well.
E 12
I 12
.Dq Pa /usr/share/man/cat3 .
If on a machine of type ``vax'', the subdirectory ``vax'' in each
directory would be searched as well, before the directory was
searched.
E 12
D 7
.PP
The command ``man sect3 mktemp'' would only search ``/usr/share/man/cat3''
E 7
I 7
.Pp
I 12
If ``mktemp.tbl'' was found first, the command
.Dq Li tbl <manual page> | nroff -man
would be run to build a man page for display to the user.
.Pp
E 12
The command
.Dq Li man sect3 mktemp
D 12
would only search
.Dq Li /usr/share/man/cat3
E 7
and any possible per machine subdirectory.
E 12
I 12
would search the directories
.Dq Pa /usr/share/man/old/cat3
and
.Dq Pa /usr/share/man/cat3 ,
in that order, for
the mktemp manual page.
If a subdirectory with the same name as the current machine type
existed in any of them, it would be searched as well, before each
of them were searched.
E 12
E 2
D 7
.SH FILES
/etc/man.conf	standard manual directory search path
.SH "SEE ALSO"
D 2
apropos(1), man(1), whatis(1), whereis(1)
E 2
I 2
apropos(1), machine(1), man(1), whatis(1), whereis(1)
E 7
I 7
.Sh FILES
.Bl -tag -width /etc/man.conf -compact
.It Pa /etc/man.conf
Standard manual directory search path.
.El
.Sh SEE ALSO
.Xr apropos 1 ,
.Xr machine 1 ,
.Xr man 1 ,
.Xr whatis 1 ,
D 13
.Xr whereis 1
E 13
I 13
.Xr whereis 1 ,
.Xr fnmatch 3 ,
.Xr glob 3
E 13
D 10
.Sh HISTORY
The
.Nm
D 8
file format
E 8
I 8
file format is
E 8
.Ud .
E 10
E 7
E 2
E 1
