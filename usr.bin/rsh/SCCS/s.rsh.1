h37194
s 00007/00001/00154
d D 8.2 95/04/29 10:35:02 vjs 16 15
c Andy Cherenson's hack to understand user@remote.host just like rcp
c Checked in for Vernon Schryver <vjs@calcite.rhyolite.com>.
e
s 00002/00002/00153
d D 8.1 93/06/06 16:11:08 bostic 15 13
c 4.4BSD snapshot (revision 8.1); add 1993 to copyright
e
s 00001/00008/00147
d D 6.10.1.1 91/08/20 17:28:52 mckusick 14 13
c delete data-stream encryption for the foreign sites (Network, Release 2)
e
s 00027/00021/00128
d D 6.10 91/07/24 23:30:51 cael 13 12
c mdco version three
e
s 00002/00000/00147
d D 6.9 91/03/14 00:26:52 cael 12 9
c add .Vx so tmac.andoc will call tmac.mdoc-old
e
s 00001/00000/00147
d R 6.9 91/03/13 20:37:41 cael 11 9
c add .Vx so tmac.andoc will call tmac.mdoc-old
e
s 00001/00006/00141
d D 6.8.1.1 90/10/21 20:04:38 mckusick 10 9
c delete data-stream encryption for the foreign sites (4.3-Reno)
e
s 00099/00078/00048
d D 6.8 90/07/24 22:51:17 cael 9 8
c .Xr botch fix
e
s 00003/00007/00123
d D 6.7 90/06/24 19:15:05 cael 8 7
c converted man page
e
s 00004/00001/00126
d D 6.6 90/04/09 19:38:13 bostic 7 6
c add -K flag to avoid Kerberos connection.
c change -n flag to not be dependent on KERBEROS
e
s 00076/00111/00051
d D 6.5 90/04/09 10:27:43 bostic 6 5
c move options before host argument, minor cleanups, rephrasing
e
s 00050/00014/00112
d D 6.4 89/08/22 17:36:03 kfall 5 4
c add Kerberos info
e
s 00002/00002/00124
d D 6.3 88/10/28 11:46:48 bostic 4 3
c remove 1C's
e
s 00018/00007/00108
d D 6.2 88/09/20 17:24:48 bostic 3 2
c Berkeley copyright
e
s 00001/00001/00114
d D 6.1 85/04/29 21:15:53 mckusick 2 1
c 4.3BSD beta release manual page
e
s 00115/00000/00000
d D 5.1 85/04/29 21:15:43 mckusick 1 0
c manual page first distributed with 4.2BSD
e
u
U
f b 
t
T
I 5
D 6
.\" $Source: /mit/kerberos/src/man/RCS/rsh.1,v $
.\" $Author: jtkohl $
.\" $Header: rsh.1,v 4.1 89/01/23 11:39:11 jtkohl Exp $
.\"
E 5
I 1
D 3
.\" Copyright (c) 1983 Regents of the University of California.
.\" All rights reserved.  The Berkeley software License Agreement
.\" specifies the terms and conditions for redistribution.
E 3
I 3
.\" Copyright (c) 1983 The Regents of the University of California.
E 6
I 6
D 15
.\" Copyright (c) 1983, 1990 The Regents of the University of California.
E 6
.\" All rights reserved.
E 15
I 15
.\" Copyright (c) 1983, 1990, 1993
.\"	The Regents of the University of California.  All rights reserved.
E 15
E 3
.\"
I 3
D 6
.\" Redistribution and use in source and binary forms are permitted
.\" provided that the above copyright notice and this paragraph are
.\" duplicated in all such forms and that any documentation,
.\" advertising materials, and other materials related to such
.\" distribution and use acknowledge that the software was developed
.\" by the University of California, Berkeley.  The name of the
.\" University may not be used to endorse or promote products derived
.\" from this software without specific prior written permission.
.\" THIS SOFTWARE IS PROVIDED ``AS IS'' AND WITHOUT ANY EXPRESS OR
.\" IMPLIED WARRANTIES, INCLUDING, WITHOUT LIMITATION, THE IMPLIED
.\" WARRANTIES OF MERCHANTIBILITY AND FITNESS FOR A PARTICULAR PURPOSE.
E 6
I 6
D 8
%sccs.include.redist.man%
E 8
I 8
D 13
.\" %sccs.include.redist.man%
E 13
I 13
.\" %sccs.include.redist.roff%
E 13
E 8
E 6
.\"
E 3
D 5
.\"	%W% (Berkeley) %G%
E 5
I 5
D 6
.\"	@(#)rsh.1	6.2 (Berkeley) 9/20/88
E 6
I 6
D 8
.\"	%W% (Berkeley) %G%
E 8
I 8
D 13
.\"     %W% (Berkeley) %G%
E 13
I 13
.\"	%W% (Berkeley) %G%
E 13
E 8
E 6
E 5
.\"
I 12
D 13
.Vx
.Vx
E 13
E 12
D 2
.TH RSH 1C "17 March 1982"
E 2
I 2
D 3
.TH RSH 1C "%Q%"
E 3
I 3
D 5
.TH RSH 1 "%Q%"
E 5
I 5
D 6
.TH RSH 1 "Kerberos Version 4.0" "MIT Project Athena"
E 6
I 6
D 8
.\" $Source: /mit/kerberos/src/man/RCS/rsh.1,v $
.\" $Author: jtkohl $
.\" $Header: rsh.1,v 4.1 89/01/23 11:39:11 jtkohl Exp $
.\"
.TH RSH 1 "%Q%"
E 8
I 8
D 9
.TH RSH 1 "%Q"
E 8
E 6
E 5
E 3
E 2
.UC 5
.SH NAME
rsh \- remote shell
.SH SYNOPSIS
D 6
.B rsh
host
[
.B \-l
username
] [
.B \-n
D 5
] command
E 5
I 5
] [
.B \-x
] [
.B \-d
] [
.B \-k
realm ] command
E 5
.br
host
[
.B \-l
username
] [
.B \-n
D 5
] command
E 5
I 5
] [
.B \-x
] [
.B \-d
] [
.B \-k
realm ] command
E 6
I 6
.ft B
D 7
rsh [ \-dnx ] [ \-k realm ] [ \-l username ] host [ command ]
E 7
I 7
rsh [ \-Kdnx ] [ \-k realm ] [ \-l username ] host [ command ]
E 7
.ft R
E 6
E 5
.SH DESCRIPTION
.I Rsh
E 9
I 9
.Dd %Q%
.Dt RSH 1
.Os BSD 4.2
.Sh NAME
.Nm rsh
.Nd remote shell
.Sh SYNOPSIS
D 13
.Ar rsh
E 13
I 13
.Nm rsh
E 13
D 10
D 14
.Op Fl Kdnx
E 14
I 14
.Op Fl Kdn
E 14
E 10
I 10
.Op Fl Kdn
E 10
.Op Fl k Ar realm
.Op Fl l Ar username
.Ar host
I 16
.Nm rsh
.Op Fl Kdnx
.Op Fl k Ar realm
.Ar username@host
E 16
.Op command
.Sh DESCRIPTION
.Nm Rsh
E 9
D 6
connects to the specified
.I host,
and executes the specified \fIcommand\fR.
E 6
I 6
executes
D 9
.I command
E 9
I 9
.Ar command
E 9
on
D 9
.IR host .
.PP
E 6
.I Rsh
E 9
I 9
.Ar host  .
.Pp
.Nm Rsh
E 9
copies its standard input to the remote command, the standard
output of the remote command to its standard output, and the
standard error of the remote command to its standard error.
Interrupt, quit and terminate signals are propagated to the remote
D 6
command; \fIrsh\fP normally terminates when the remote command does.
.PP
The remote username used is the same as your local username,
unless you specify a different remote name with the
.B \-l
option.
D 5
This remote name must be equivalent (in the sense of
D 4
.IR rlogin (1C))
E 4
I 4
.IR rlogin (1))
E 4
to the originating account; no provision
is made for specifying a password with a command.
E 5
I 5
Kerberos authentication is used, and authorization is determined as in
rlogin(1).
E 5
.PP
I 5
The
.B \-k
\fIrealm\fP option causes 
E 6
I 6
command;
E 6
D 9
.I rsh
E 9
I 9
.Nm rsh
E 9
I 6
normally terminates when the remote command does.
The options are as follows:
I 7
D 9
.TP
\-K
The \-K option turns off all Kerberos authentication.
E 7
.TP
\-d
The \-d option turns on socket debugging (using
.IR setsockopt (2))
E 9
I 9
D 13
.Tp Fl K
E 13
I 13
.Bl -tag -width flag
.It Fl K
E 13
The
.Fl K
option turns off all Kerberos authentication.
D 13
.Tp Fl d
E 13
I 13
.It Fl d
E 13
The
.Fl d
option turns on socket debugging (using
.Xr setsockopt  2  )
E 9
D 13
on the TCP sockets used for communication with the remote host.
D 9
.TP
\-k
The \-k option causes
.I rsh
E 9
I 9
.Tp Fl k
E 13
I 13
on the
.Tn TCP
sockets used for communication with the remote host.
.It Fl k
E 13
The
.Fl k
option causes
.Nm rsh
E 9
E 6
to obtain tickets for the remote host in
D 9
.I realm
E 9
I 9
.Ar realm
E 9
instead of the remote host's realm as determined by
D 9
.IR krb_realmofhost (3).
D 6
.PP
The
.B \-x
option turns on DES encryption for all data exchange.
E 6
I 6
.TP
\-l
E 9
I 9
.Xr krb_realmofhost  3  .
D 13
.Tp Fl l
E 13
I 13
.It Fl l
E 13
E 9
By default, the remote username is the same as the local username.
D 9
The \-l option allows the remote name to be specified.
E 9
I 9
The
.Fl l
D 16
option allows the remote name to be specified.
E 16
I 16
option or the
.Pa username@host
format allow the remote name to be specified.
E 16
E 9
Kerberos authentication is used, and authorization is determined
as in
D 9
.IR rlogin (1).
.TP
\-n
The \-n option redirects input from the special device ``/dev/null''
E 9
I 9
.Xr rlogin  1  .
D 13
.Tp Fl n
E 13
I 13
.It Fl n
E 13
The
.Fl n
option redirects input from the special device
.Pa /dev/null
E 9
D 13
(see the BUGS section of this manual page).
D 9
.TP
\-x
The \-x option turns on DES encryption for all data exchange.
E 9
I 9
D 10
.Tp Fl x
E 13
I 13
(see the
.Sx BUGS
section of this manual page).
D 14
.It Fl x
E 13
The
.Fl x
D 13
option turns on DES encryption for all data exchange.
E 13
I 13
option turns on
.Tn DES
encryption for all data exchange.
E 13
E 9
E 6
This may introduce a significant delay in response time.
E 14
E 10
D 9
.PP
E 9
I 9
D 13
.Tp
E 13
I 13
.El
E 13
.Pp
E 9
D 6
The
.B \-d
option turns on socket debugging (via \fIsetsockopt(2)\fR) on the TCP
sockets used for communication with the remote host.
.PP
The
.B \-n
option redirects input from the special device
.I /dev/null
(see the BUGS section below).
.PP
E 5
If you omit
.I command,
then instead of executing a single command, you will be logged in
on the remote host using
E 6
I 6
If no
D 9
.I command
E 9
I 9
.Ar command
E 9
is specified, you will be logged in on the remote host using
E 6
D 4
.IR rlogin (1C).
E 4
I 4
D 9
.IR rlogin (1).
E 4
.PP
E 9
I 9
.Xr rlogin  1  .
.Pp
E 9
D 6
Shell metacharacters which are not quoted are interpreted
on local machine, while quoted metacharacters are interpreted on
the remote machine.
Thus the command
.PP
\ \ \ rsh otherhost cat remotefile >> localfile
.PP
E 6
I 6
Shell metacharacters which are not quoted are interpreted on local machine,
while quoted metacharacters are interpreted on the remote machine.
For example, the command
D 9
.sp
.RS
rsh otherhost cat remotefile >> localfile
.RE
.sp
E 9
I 9
.Pp
.Dl rsh otherhost cat remotefile >> localfile
.Pp
E 9
E 6
appends the remote file
D 9
.I remotefile
E 9
I 9
.Ar remotefile
E 9
D 5
to the localfile
E 5
I 5
to the local file
E 5
D 9
.I localfile,
E 9
I 9
.Ar localfile ,
E 9
while
D 6
.PP
\ \ \ rsh otherhost cat remotefile ">>" otherremotefile
.PP
E 6
I 6
D 9
.sp
.RS
rsh otherhost cat remotefile ">>" other_remotefile
.RE
.sp
E 9
I 9
.Pp
.Dl rsh otherhost cat remotefile \&">>\&" other_remotefile
.Pp
E 9
E 6
appends
D 9
.I remotefile
E 9
I 9
.Ar remotefile
E 9
to
D 6
.I otherremotefile.
E 6
I 6
D 9
.I other_remotefile.
E 6
.PP
D 5
Host names are given in the file /etc/hosts.  Each host
has one standard name (the first name given in the file), which
is rather long and unambiguous, and optionally one or more nicknames.
E 5
D 6
The host names for local machines are also commands in the directory
/usr/hosts; if you put this directory in your search path
then the
.B rsh
D 5
can be omitted.
E 5
I 5
on the command line can be omitted.
E 6
I 6
Many sites specify a large number of host names as commands in the
directory /usr/hosts.
If this directory is included in your search path, you can use the
shorthand ``host command'' for the longer form ``rsh host command''.
E 6
E 5
.SH FILES
D 6
.ta 2i
/etc/hosts
.br
E 6
/usr/hosts/*
.DT
.SH SEE ALSO
D 3
rlogin(1C)
E 3
I 3
D 5
rlogin(1)
E 5
I 5
rlogin(1), kerberos(3), krb_sendauth(3), krb_realmofhost(3)
E 5
E 3
.SH BUGS
E 9
I 9
.Ar other_remotefile .
.\" .Pp
.\" Many sites specify a large number of host names as commands in the
.\" directory /usr/hosts.
.\" If this directory is included in your search path, you can use the
.\" shorthand ``host command'' for the longer form ``rsh host command''.
.Sh FILES
D 13
.Dw /etc/hosts
.Di L
.Dp Pa /etc/hosts
.Dp
E 13
I 13
.Bl -tag -width /etc/hosts -compact
.It Pa /etc/hosts
.El
E 13
.Sh SEE ALSO
.Xr rlogin 1 ,
.Xr kerberos 3 ,
.Xr krb_sendauth 3 ,
.Xr krb_realmofhost 3
.Sh HISTORY
D 13
.Nm Rsh
appeared in 4.2 BSD
E 13
I 13
The
.Nm rsh
command appeared in
.Bx 4.2 .
E 13
.Sh BUGS
E 9
If you are using
D 9
.IR csh (1)
E 9
I 9
.Xr csh  1
E 9
and put a
D 3
.IR rsh (1C)
E 3
I 3
D 9
.IR rsh (1)
E 9
I 9
.Nm rsh
E 9
E 3
D 6
in the background without redirecting its input
away from the terminal, it will block even if no reads
are posted by the remote command.  If no input is desired
you should redirect the input of
E 6
I 6
in the background without redirecting its input away from the terminal,
it will block even if no reads are posted by the remote command.
If no input is desired you should redirect the input of
E 6
D 9
.I rsh
D 6
to /dev/null using the
.B \-n
option.
E 6
I 6
to /dev/null using the \-n option.
E 6
.PP
E 9
I 9
.Nm rsh
to
.Pa /dev/null
using the
.Fl n
option.
.Pp
E 9
You cannot run an interactive command
(like
D 9
.IR rogue (6)
E 9
I 9
.Xr rogue  6
E 9
or
D 6
.IR vi (1));
E 6
I 6
D 9
.IR vi (1))
E 9
I 9
.Xr vi  1  )
E 9
using
D 9
.IR rsh ;
E 9
I 9
.Nm rsh  ;
E 9
E 6
use
D 3
.IR rlogin (1C).
E 3
I 3
D 6
.IR rlogin (1).
E 6
I 6
D 9
.IR rlogin (1)
E 9
I 9
.Xr rlogin  1
E 9
instead.
E 6
E 3
D 9
.PP
E 9
I 9
.Pp
E 9
D 6
Stop signals stop the local \fIrsh\fP process only; this is arguably
wrong, but currently hard to fix for reasons too complicated to
explain here.
E 6
I 6
Stop signals stop the local
D 9
.I rsh
E 9
I 9
.Nm rsh
E 9
process only; this is arguably wrong, but currently hard to fix for reasons
too complicated to explain here.
E 6
E 1
