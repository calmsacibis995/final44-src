h28387
s 00001/00001/00283
d D 8.2 95/05/04 15:00:48 mckusick 12 11
c fix -r option
e
s 00002/00002/00282
d D 8.1 93/06/10 15:36:31 bostic 11 10
c 4.4BSD snapshot (revision 8.1); add 1993 to copyright
e
s 00003/00000/00281
d D 6.8 91/06/27 17:24:14 bostic 10 9
c add POSIX/IEEE contribution notice
e
s 00275/00155/00006
d D 6.7 91/04/26 15:16:54 cael 9 8
c mdoc version three/bsd copyright
e
s 00005/00004/00156
d D 6.6 91/04/18 18:03:07 bostic 8 7
c new copyright; att/bsd/shared
e
s 00006/00002/00154
d D 6.5 90/06/24 19:16:35 cael 7 6
c converted man page
e
s 00001/00002/00155
d D 6.4 87/09/30 09:33:37 bostic 6 5
c remove ^H's; bug report 4.3BSD/man/4
e
s 00002/00001/00155
d D 6.3 87/04/25 14:17:28 bostic 5 4
c bug report 4.2BSd/man/34
e
s 00001/00001/00155
d D 6.2 86/07/07 11:12:35 bloom 4 3
c fix underlining
e
s 00001/00001/00155
d D 6.1 85/04/29 17:57:03 mckusick 3 2
c 4.3BSD beta release manual page
e
s 00028/00051/00128
d D 5.1 85/04/29 17:56:48 mckusick 2 1
c manual page distributed with 4.2BSD
e
s 00179/00000/00000
d D 4.1 85/04/29 17:56:37 mckusick 1 0
c manual page distributed with 4.1BSD
e
u
U
t
T
I 1
D 7
.\"	%W% (Berkeley) %G%
E 7
I 7
D 8
.\" Copyright (c) 1990 Regents of the University of California.
.\" All rights reserved.  The Berkeley software License Agreement
.\" specifies the terms and conditions for redistribution.
E 8
I 8
D 9
.\" Copyright (c) 1990 The Regents of the University of California.
E 9
I 9
D 11
.\" Copyright (c) 1991 Regents of the University of California.
E 9
.\" All rights reserved.
E 11
I 11
.\" Copyright (c) 1991, 1993
.\"	The Regents of the University of California.  All rights reserved.
E 11
E 8
E 7
.\"
I 10
.\" This code is derived from software contributed to Berkeley by
.\" the Institute of Electrical and Electronics Engineers, Inc.
.\"
E 10
D 2
.TH SORT 1 
E 2
I 2
D 3
.TH SORT 1 "10 February 1983"
E 3
I 3
D 7
.TH SORT 1 "%Q%"
E 7
I 7
D 8
.\"     %W% (Berkeley) %G%
E 8
I 8
D 9
.\" %sccs.include.proprietary.roff%
E 9
I 9
.\" %sccs.include.redist.roff%
E 9
.\"
D 9
.\"	%W% (Berkeley) %G%
E 9
I 9
.\"     %W% (Berkeley) %G%
E 9
E 8
.\"
D 9
.TH SORT 1 "%Q%
E 7
E 3
E 2
.AT 3
.SH NAME
sort \- sort or merge files
.SH SYNOPSIS
.B sort
[
D 6
.if t \fB\-mubdf\&inrt\fIx\fR
D 4
.if n -mubdfinrt_________x
E 4
I 4
.if n -_m_u_b_d_f_i_n_r_tx
E 6
I 6
.I -mubdfinrtx
E 6
E 4
]
[ \fB+\fIpos1 \fR [ \fB\-\fIpos2 \fR]
] ...
[ 
.B \-o 
name ] [
.B \-T
directory ] [ name ] ...
.SH DESCRIPTION
.I Sort
D 2
sorts
lines of all the named files together
and writes the result on
the standard output.
The name `\-' means
the standard input.
E 2
I 2
sorts lines of all the named files together and writes the result on
the standard output.  The name `\-' means the standard input.
E 2
If no input files are named, the standard input is sorted.
D 2
.PP
E 2
I 2
.LP
E 2
The default sort key is an entire line.
D 2
Default ordering is
lexicographic by bytes in machine
collating sequence.
E 2
I 2
Default ordering is lexicographic by bytes in machine collating sequence.
E 2
The ordering is affected globally by the following options,
one or more of which may appear.
.TP 5
.B  b
Ignore leading blanks (spaces and tabs) in field comparisons.
.TP 5
.B  d
`Dictionary' order: only letters, digits and blanks
are significant in comparisons.
.TP 5
.B  f
D 2
Fold upper case
letters onto lower case.
E 2
I 2
Fold upper case letters onto lower case.
E 2
.TP 5
.B  i
D 2
Ignore characters outside the ASCII range 040-0176
in nonnumeric comparisons.
E 2
I 2
Ignore characters outside the ASCII range 040-0176 in nonnumeric comparisons.
E 2
.TP 5
.B  n
D 2
An initial numeric string,
consisting of optional blanks, optional minus sign,
E 2
I 2
An initial numeric string, consisting of optional blanks, optional minus sign,
E 2
and zero or more digits with optional decimal point,
D 2
is sorted by arithmetic value.
Option
E 2
I 2
D 5
is sorted by arithmetic value.  Option
E 5
I 5
is sorted by arithmetic value.  (Note that \fB-0\fP is considered equal
to \fB0\fP.) Option
E 5
E 2
.B n
implies option
.B b.
.TP 5
.B  r
E 9
I 9
.Dd %Q%
.Dt SORT 1
.Os
.Sh NAME
.Nm sort
.Nd sort or merge text files
.Sh SYNOPSIS
.Nm sort
.Op Fl mubdfinrtx
.Oo
.Cm \(pl Ns Ar pos1
.Op Fl Ns Ar pos2
.Oc
.Ar ...
.Op Fl o Ar output
.Op Fl T Ar directory
.Op Ar file
.Ar ...
.Sh DESCRIPTION
The
.Nm sort
utility
sorts text files by lines.
Comparisons are based on one or more sort keys (or fields) extracted
from each line of input, and are performed
lexicographically. By default, if keys are not given,
.Nm sort
regards each input line as a single field.
.Pp
The following options are available:
.Bl -tag -width indent
.It Fl c
Check that the single input file is sorted lexicographically.
If the file is not sorted,
.Nm sort
sorts it and writes the sorted output to the standard output or the
filename specified by the
.Fl o
option.
.It Fl m
Merge only; the input files are assumed to be pre-sorted.
.It Fl o Ar output
The argument given is the name of an
.Ar output
file to
be used instead of the standard output.
This file
can be the same as one of the input files.
.It Fl T Ar directory
The argument
.Ar directory
is used for creating temporary files.
.It Fl u
Unique: suppress all but one in each set of lines
having equal keys.
If used with the
.Fl c
option,
check that there are no lines with duplicate keys.
.El
.Pp
The following options override the default ordering rules.
When ordering options appear independent of key field
specifications, the requested field ordering rules are
applied globally to all sort keys.
.\" When attached to a
.\" specific key
.\" (see
.\" .Fl k ) ,
.\" the specified ordering options override
.\" all global ordering options for that key.
.Bl -tag -width indent
.It Fl d
Only blank space and alphanumeric characters
.\" according
.\" to the current setting of LC_CTYPE
are used
in making comparisons.
.It Fl f
Considers all lowercase characters that have uppercase
equivalents to be the same for purposes of
comparison.
.It Fl i
Ignore all non-printable characters.
.It Fl n
An initial numeric string, consisting of optional
blank space, optional minus sign, and zero or more
digits (including decimal point)
.\" with
.\" optional radix character and thousands
.\" separator
.\" (as defined in the current locale),
is sorted by arithmetic value.
The
.Fl n
option implies
the
.Fl b
option. (See below.)
Note that the
.Fl b
option
is only effective when key fields have been specified
and that
.Fl \&0
is considered equal to zero.
D 12
.optional It Fl r
E 12
I 12
.It Fl r
E 12
E 9
Reverse the sense of comparisons.
D 9
.TP 5
.BI t x
`Tab character' separating fields is
.IR x .
D 2
.PP
E 2
I 2
.LP
E 2
The notation
.BI + "pos1 " "\-\fIpos2"
restricts a sort key to a field beginning at
.I pos1
and ending just before
.IR pos2 .
.I Pos1
E 9
I 9
.El
.Pp
The treatment of field separators can be altered using the
options:
.Bl -tag -width indent
.It Fl b
Leading blank spaces are ignored when determining the starting
ending positions of a restricted sort key.
If the
.Fl b
option is specified before the first
.Cm \(pl Ns Ar pos1
argument, it shall be applied to all
.Cm \(pl Ns Ar pos1
arguments.
Otherwise, the
.Fl b
option can be
attached independently to each
.Cm \(pl Ns Ar pos1
or
.Fl Ar pos2
argument (see below).
.It Fl t Ar char
.Ar Char
is used as the field separator character;
.Ar char
is not considered to be part of a field (although it
can be included in a sort key).
Each occurrence of
.Ar char
is significant (for example,
.Dq Ar charchar
delimits an empty field).
If
.Fl t
is not specified,
blank space characters are used as default field
separators.
.It Cm \(pl Ns Ar pos1
Designates the start position of a key field.
.It Fl Ns Ar pos1
Designates the end position of a key field.
.El
.Pp
The following operands are available:
.Bl -tag -width indent
.Ar file
The pathname of a file to be sorted, merged, or checked.
If no file
operands are specified, or if
a file operand is
.Fl ,
the standard input is used.
.Pp
A field is
defined as a minimal sequence of characters followed by a
field separator or a newline character.
By default, the first
blank space of a sequence of blank spaces acts as the field separator.
All blank spaces in a sequence of blank spaces are considered
to be part of the next field; for example, all blank spaces at
the beginning of a line are considered to be part of the
first field.
.Pp
Fields are specified
by the
.Cm \(pl Ns Ar pos1
E 9
and
D 9
.I pos2
each have the form
.IB m . n\fR,
optionally followed by one or more of the flags
.B bdf\&inr,
where
.I m
tells a number of fields to skip from the beginning of the line and
.I n
tells a number of characters to skip further.
If any flags are present they override all the global
D 2
ordering options for this key.
If the
E 2
I 2
ordering options for this key.  If the
E 2
.B b
option is in effect
.I n
is counted from the first nonblank in the field;
.B b
is attached independently to 
.IR pos2 .
D 2
A missing
\&\fB.\fIn\fR
means .0;
a missing
E 2
I 2
A missing \&\fB.\fIn\fR means .0; a missing
E 2
.BI \- pos2
D 2
means the end of the line.
Under the
E 2
I 2
means the end of the line.  Under the
E 2
.BI \-t x
option, fields are strings separated by
.IR x ;
D 2
otherwise fields are
nonempty nonblank strings separated by blanks.
.PP
E 2
I 2
otherwise fields are nonempty nonblank strings separated by blanks.
.LP
E 2
When there are multiple sort keys, later keys
D 2
are compared only after all earlier keys
compare equal.
Lines that otherwise compare equal are ordered
with all bytes significant.
.PP
E 2
I 2
are compared only after all earlier keys compare equal.
Lines that otherwise compare equal are ordered with all bytes significant.
.LP
E 2
These option arguments are also understood:
.TP 5
.B c
Check that the input file is sorted according to the ordering rules;
give no output unless the file is out of sort.
.TP 5
.B  m
Merge only, the input files are already sorted.
.TP 5
.B  o
The next argument is the name of an output file
to use instead of the standard output.
This file may be the same as one of the inputs.
.TP 5
.B T
The next argument is the name of a directory in which temporary files
should be made.
.TP 5
.B  u
D 2
Suppress all but one in each
set of equal lines.
Ignored bytes
and bytes outside keys
do not participate in
this comparison.
.PP
.B Examples.
Print in alphabetical order all the unique spellings
in a list of words.
E 2
I 2
Suppress all but one in each set of equal lines.
Ignored bytes and bytes outside keys do not participate in this comparison.
.SH EXAMPLES
.LP
Print in alphabetical order all the unique spellings in a list of words.
E 2
Capitalized words differ from uncapitalized.
D 2
.PP
E 2
I 2
.LP
E 2
.ti +8
sort \-u +0f +0 list
D 2
.PP
E 2
I 2
.LP
E 2
Print the password file
.RI ( passwd (5))
sorted by user id number (the 3rd colon-separated field).
D 2
.PP
E 2
I 2
.LP
E 2
.ti +8
sort \-t: +2n /etc/passwd
D 2
.PP
E 2
I 2
.LP
E 2
Print the first instance of each month in an already sorted file
of (month day) entries.
The options
.B \-um
with just one input file make the choice of a
unique representative from a set of equal lines predictable.
D 2
.PP
E 2
I 2
.LP
E 2
.ti +8
sort \-um +0 \-1 dates
.SH FILES
/usr/tmp/stm*, /tmp/*	first and second tries for
temporary files
.SH "SEE ALSO"
uniq(1),
comm(1),
rev(1),
join(1)
.SH DIAGNOSTICS
Comments and exits with nonzero status for various trouble
conditions and for disorder discovered under option
.BR \-c .
.SH BUGS
Very long lines are silently truncated.
E 9
I 9
.Fl Ar pos2
arguments.  A missing
.Cm \(pl Ns Ar pos1
argument defaults to the beginning of a line.
A missing
.Fl Ar pos2
argument defaults to the end of a line.
.Pp
The arguments
.Cm \(pl Ns Ar pos1
and
.Fl Ar pos2
have the form
.Em m.n
followed by one or more of the options
.Fl b , d , f , i ,
.Fl n , r .
A
.Cm \(pl Ns Ar pos1
position specified by
.Em m.n
is interpreted to
mean the
.Em n Ns th
character in the
.Em m Ns \(pl1th
field.
A missing
.Em \&.n
means
.Ql \&.0 ,
indicating the first character of the
.Em m Ns \(pl1th
field.
If the
.Fl b
option is in effect,
.Em n
is counted from the first
non-blank character in the
.Em m Ns \(pl1th
field;
.Em m Ns \&.0b
refers to the first
non-blank character in the
.Em m Ns \(pl1th
field.
.Pp
A
.Fl Ar pos2
position specified by
.Em m.n
is interpreted to mean
the
.Em n Ns th
character (including separators) after the last
character of the
.Em m Ns th
field.
A missing
.Em \&.n
means
.Ql \&.0 ,
indicating
the last character of the
.Em m Ns th
field.
If the
.Fl b
option
is in effect,
.Em n
is counted from the last leading blank character in
the
.Em m Ns \(pl1th
field;
.Em m Ns \&.1b
refers to the first non-blank character in the
.Em m Ns \(pl1th
field.
.Sh FILES
.Bl -tag -width Pa -compact
.It Pa /var/tmp/stm*, /tmp/*
Default temporary directories (in order of search).
.El
.Sh SEE ALSO
.Xr comm 1 ,
.Xr uniq 1 ,
.Xr join 1
.Sh DIAGNOSTICS
.Sh BUGS
Lines which are longer than 4096 are discarded and processing continues.
.Sh HISTORY
A
.Nm
command appeared in
.At v6 .
E 9
E 1
