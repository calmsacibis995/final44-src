h13134
s 00002/00002/00096
d D 8.1 93/06/06 22:28:41 bostic 17 16
c 4.4BSD snapshot (revision 8.1); add 1993 to copyright
e
s 00020/00009/00078
d D 6.14 93/03/03 20:34:24 bostic 16 15
c add uappend, uchange, sappend, schange flags as -f option to install
e
s 00002/00001/00085
d D 6.13 92/06/29 19:02:04 bostic 15 14
c turn off the NODUMP flag
e
s 00009/00004/00077
d D 6.12 92/06/28 14:51:53 bostic 14 13
c preserve file flags across install; general ANSI C and style cleanup
e
s 00014/00014/00067
d D 6.11 91/05/31 17:32:43 cael 13 12
c mdoc version three
e
s 00002/00000/00079
d D 6.10 91/03/14 00:16:14 cael 12 10
c add .Vx so tmac.andoc will call tmac.mdoc-old
e
s 00001/00000/00079
d R 6.10 91/03/13 20:32:38 cael 11 10
c add .Vx so tmac.andoc will call tmac.mdoc-old
e
s 00007/00004/00072
d D 6.9 90/07/24 22:46:26 cael 10 9
c .Xr botch fix
e
s 00056/00055/00020
d D 6.8 90/06/24 19:05:52 cael 9 8
c converted man page
e
s 00003/00000/00072
d D 6.7 89/12/31 17:00:25 bostic 8 7
c add symbolic modes using setmode(3)
e
s 00033/00019/00039
d D 6.6 89/12/09 14:00:42 bostic 7 6
c reformat to make more standard; document that install uses strip(1)
c now, rather than stripping the binary itself.
e
s 00010/00005/00048
d D 6.5 88/07/09 11:44:59 bostic 6 5
c install approved copyright notice
e
s 00013/00005/00040
d D 6.4 87/11/30 11:06:06 bostic 5 4
c mention /dev/null, put on Berkeley copyright
e
s 00017/00040/00028
d D 6.3 87/08/03 19:33:41 bostic 4 3
c may now install multiple files, no default owner/group
e
s 00001/00001/00067
d D 6.2 87/07/17 14:12:55 bostic 3 2
c install in C, stripped during cpy
e
s 00001/00001/00067
d D 6.1 85/04/29 21:10:53 mckusick 2 1
c 4.3BSD beta release manual page
e
s 00068/00000/00000
d D 5.1 85/04/29 21:10:40 mckusick 1 0
c manual page first distributed with 4.2BSD
e
u
U
t
T
I 1
D 5
.\" Copyright (c) 1983 Regents of the University of California.
.\" All rights reserved.  The Berkeley software License Agreement
.\" specifies the terms and conditions for redistribution.
E 5
I 5
D 9
.\" Copyright (c) 1987 Regents of the University of California.
E 9
I 9
D 17
.\" Copyright (c) 1987, 1990 The Regents of the University of California.
E 9
.\" All rights reserved.
E 17
I 17
.\" Copyright (c) 1987, 1990, 1993
.\"	The Regents of the University of California.  All rights reserved.
E 17
E 5
.\"
I 5
D 9
.\" Redistribution and use in source and binary forms are permitted
D 6
.\" provided that this notice is preserved and that due credit is given
.\" to the University of California at Berkeley. The name of the University
.\" may not be used to endorse or promote products derived from this
.\" software without specific written prior permission. This software
.\" is provided ``as is'' without express or implied warranty.
E 6
I 6
.\" provided that the above copyright notice and this paragraph are
.\" duplicated in all such forms and that any documentation,
.\" advertising materials, and other materials related to such
.\" distribution and use acknowledge that the software was developed
.\" by the University of California, Berkeley.  The name of the
.\" University may not be used to endorse or promote products derived
.\" from this software without specific prior written permission.
.\" THIS SOFTWARE IS PROVIDED ``AS IS'' AND WITHOUT ANY EXPRESS OR
.\" IMPLIED WARRANTIES, INCLUDING, WITHOUT LIMITATION, THE IMPLIED
D 7
.\" WARRANTIES OF MERCHANTIBILITY AND FITNESS FOR A PARTICULAR PURPOSE.
E 7
I 7
.\" WARRANTIES OF MERCHANTABILITY AND FITNESS FOR A PARTICULAR PURPOSE.
E 9
I 9
D 13
.\" %sccs.include.redist.man%
E 13
I 13
.\" %sccs.include.redist.roff%
E 13
E 9
E 7
E 6
.\"
E 5
D 9
.\"	%W% (Berkeley) %G%
E 9
I 9
.\"     %W% (Berkeley) %G%
E 9
.\"
I 12
D 13
.Vx
.Vx
E 13
E 12
D 2
.TH INSTALL 1 "22 April 1983"
E 2
I 2
D 9
.TH INSTALL 1 "%Q%"
E 2
.UC 5
.SH NAME
install \- install binaries
.SH SYNOPSIS
.B install
[
D 7
.B \-c
E 7
I 7
.B \-cs
E 7
] [
.B \-m
mode ] [
.B \-o
owner ] [
.B \-g
D 7
group ] [
.B \-s
D 4
] binary destination
E 4
I 4
] file1 file2; or file1 ... fileN directory
E 7
I 7
group ] file1 file2; or file1 ... fileN directory
E 7
E 4
.SH DESCRIPTION
E 9
I 9
.Dd %Q%
.Dt INSTALL 1
.Os BSD 4.2
.Sh NAME
.Nm install
.Nd install binaries
.Sh SYNOPSIS
.Nm install
.Op Fl cs
I 16
.Op Fl f Ar flags
.Op Fl g Ar group
E 16
D 13
.Op.Fl m Ar mode
E 13
I 13
.Op Fl m Ar mode
E 13
.Op Fl o Ar owner
D 16
.Op Fl g Ar group
E 16
D 10
.Ar file1 file2 ;
or
.if n .br
E 10
I 10
.Ar file1 file2
.Nm install
.Op Fl cs
I 16
.Op Fl f Ar flags
.Op Fl g Ar group
E 16
D 13
.Op.Fl m Ar mode
E 13
I 13
.Op Fl m Ar mode
E 13
.Op Fl o Ar owner
D 16
.Op Fl g Ar group
E 16
E 10
.Ar file1
\&...
.Ar fileN directory
.Sh DESCRIPTION
E 9
D 4
.I Binary
is moved (or copied if 
.B \-c
is specified) to
.IR destination .
If
.I destination
already exists,
it is removed before
.I binary
is moved.
If the destination is a directory then
.I binary
is moved into the
.I destination
directory with its original file-name.
E 4
I 4
D 7
The file(s) are moved (or copied if the \fB-c\fP option is specified)
to the target file or directory.  If the destination is a directory, then
the \fIfile\fP is moved into \fIdirectory\fP with its original file-name.
If the target file already exists, it is overwritten.
E 7
I 7
The file(s) are moved (or copied if the
D 9
.I -c
E 9
I 9
.Fl c
E 9
option is specified) to the target file or directory.
If the destination is a directory, then the
D 9
.I file
E 9
I 9
.Ar file
E 9
is moved into
D 9
.I directory
E 9
I 9
.Ar directory
E 9
with its original filename.
If the target file already exists, it is overwritten if permissions
allow.
E 7
E 4
D 9
.PP
D 4
The mode for
.I Destination
is set to 755; the
.B \-m
.I mode
option may be used to specify a different mode.
E 4
I 4
D 7
The mode is set to 755; the \fB-m\fP option may be used to specify
an alternate mode.
E 7
I 7
The mode is set to 755; the
.I -m
E 9
I 9
.Pp
D 13
.Tw Ds
.Tp Fl m
E 9
option may be used to specify an alternate mode.
E 13
I 13
.Bl -tag -width Ds
I 16
.It Fl c
Copy the file.
This flag turns off the default behavior of
.Nm install
where it deletes the original file after creating the target.
.It Fl f
Specify the target's file flags.
(See
.Xr chflags 1
for a list of possible flags and their meanings.)
.It Fl g
Specify a group.
E 16
.It Fl m
Specify an alternate mode.
E 13
I 9
D 14
The default mode is set to 755.
E 14
I 14
D 16
The default mode is set to 755 (rwxr-xr-x).
E 16
I 16
The default mode is set to rwxr-xr-x (0755).
E 16
E 14
E 9
I 8
The specified mode may be either an octal or symbolic value; see
D 9
.IR chmod (1)
E 9
I 9
.Xr chmod  1
E 9
for a description of possible mode values.
E 8
E 7
E 4
D 9
.PP
D 4
.I Destination
is changed to owner root; the
.B \-o
.I owner
option may be used to specify a different owner.
E 4
I 4
D 5
The \fB-o\fP and \fB-g\fP options may be used to specify an alternate
owner and/or group, respectively.
E 5
I 5
D 7
The \fB-o\fP and \fB-g\fP options may be used to specify an owner
and/or group, respectively.
E 7
I 7
The
.I -o
and
.I -g
options may be used to specify an owner and/or group, respectively.
E 7
E 5
E 4
.PP
D 4
.I Destination
is changed to group staff; the
.B \-g
.I group
option may be used to specify a different group.
E 4
I 4
D 7
The \fB-s\fP option causes the file to be stripped.  It is an error
to attempt to strip a file not in the \fIa.out\fP format, but not to
attempt to strip a file that has already been stripped.
E 7
I 7
The
.I -s
option causes the file to be stripped.
.I Install
E 9
I 9
D 13
.Tp Fl o
E 13
I 13
.It Fl o
E 13
Specify an owner.
D 13
.Tp Fl g
E 13
I 13
D 16
.It Fl g
E 13
Specify a group.
E 16
D 13
.Tp Fl s
E 13
I 13
.It Fl s
E 13
.Nm Install
E 9
exec's the command
D 9
.IR strip (1)
E 9
I 9
.Xr strip  1
E 9
to strip binaries so that install can be portable over a large
number of systems and binary types.
E 7
E 4
D 9
.PP
D 4
If the
.B \-s
D 3
option is specified the binary is stripped after being installed.
E 3
I 3
option is specified the binary is stripped.
E 3
.PP
.I Install
refuses to move a file onto itself.
E 4
I 4
D 7
\fIInstall\fP refuses to move a file onto itself.
E 7
I 7
.I Install
E 9
I 9
D 13
.Tp
E 13
I 13
.El
E 13
.Pp
D 14
.Nm Install
E 9
refuses to move a file onto itself.
E 14
I 14
D 16
The
E 16
I 16
By default,
E 16
.Nm install
D 16
utility attempts to prevent moving a file onto itself.
E 16
I 16
preserves all file flags, with the exception of the ``nodump'' flag.
E 16
E 14
E 7
I 5
D 9
.PP
Installing ``/dev/null'' creates an empty file.
E 5
.SH "RETURN VALUE"
E 9
I 9
.Pp
I 14
The
.Nm install
D 15
utility always attempts to preserve the file flags.
E 15
I 15
D 16
utility always attempts to preserve the file flags with the exception
of the NODUMP flag which is always turned off.
E 16
I 16
utility attempts to prevent moving a file onto itself.
E 16
E 15
.Pp
E 14
Installing
D 10
.Pa dev/null
E 10
I 10
.Pa /dev/null
E 10
creates an empty file.
.Pp
E 9
D 7
Upon successful completion a value of 0 is returned.  Otherwise, a
value of 1 is returned.
E 7
I 7
Upon successful completion a value of 0 is returned.
Otherwise, a value of 1 is returned.
E 7
E 4
D 9
.SH "SEE ALSO"
D 4
chgrp(1), chmod(1), cp(1), mv(1), strip(1), chown(8)
E 4
I 4
chgrp(1), chmod(1), cp(1), mv(1), strip(1), a.out(5), chown(8)
E 9
I 9
.Sh SEE ALSO
I 14
.Xr chflags 1 ,
E 14
.Xr chgrp 1 ,
.Xr chmod 1 ,
.Xr cp 1 ,
.Xr mv 1 ,
.Xr strip 1 ,
D 14
.Xr a.out 5 ,
E 14
.Xr chown 8
.Sh HISTORY
D 13
.Nm Install
appeared in 4.2 BSD.
E 13
I 13
The
.Nm install
utility appeared in
.Bx 4.2 .
E 13
E 9
E 4
E 1
