h28592
s 00002/00002/00041
d D 8.1 93/06/09 19:24:41 bostic 9 8
c 4.4BSD snapshot (revision 8.1); add 1993 to copyright
e
s 00002/00003/00041
d D 5.5 93/06/09 19:24:38 bostic 8 6
c fixed the under development line
e
s 00002/00002/00042
d R 8.1 93/06/06 13:58:24 bostic 7 6
c 4.4BSD snapshot (revision 8.1); add 1993 to copyright
e
s 00001/00001/00043
d D 5.4 92/09/03 10:10:22 bostic 6 5
c move to /var/db
e
s 00011/00007/00033
d D 5.3 92/04/24 19:07:34 bostic 5 4
c bring up to date, document optional argument
e
s 00035/00032/00005
d D 5.2 91/03/16 18:12:37 cael 4 3
c macro and text revision (-mdoc version 3)
e
s 00020/00011/00017
d D 5.1 91/02/12 22:58:25 bostic 3 2
c replace ndbm with Margo Seltzer's hashing package
c document VERSION stuff
e
s 00001/00011/00027
d D 1.2 90/06/24 22:20:41 trent 2 1
c new copyright notice
e
s 00035/00000/00000
d D 1.1 90/03/07 14:45:49 marc 1 0
c date and time created 90/03/07 14:45:49 by marc
e
u
U
t
T
I 1
D 4
.\" Copyright (c) 1989 The Regents of the University of California.
E 4
I 4
D 9
.\" Copyright (c) 1989, 1991 The Regents of the University of California.
E 4
.\" All rights reserved.
E 9
I 9
.\" Copyright (c) 1989, 1991, 1993
.\"	The Regents of the University of California.  All rights reserved.
E 9
.\"
D 2
.\" Redistribution and use in source and binary forms are permitted
.\" provided that the above copyright notice and this paragraph are
.\" duplicated in all such forms and that any documentation,
.\" advertising materials, and other materials related to such
.\" distribution and use acknowledge that the software was developed
.\" by the University of California, Berkeley.  The name of the
.\" University may not be used to endorse or promote products derived
.\" from this software without specific prior written permission.
.\" THIS SOFTWARE IS PROVIDED ``AS IS'' AND WITHOUT ANY EXPRESS OR
.\" IMPLIED WARRANTIES, INCLUDING, WITHOUT LIMITATION, THE IMPLIED
.\" WARRANTIES OF MERCHANTABILITY AND FITNESS FOR A PARTICULAR PURPOSE.
E 2
I 2
.\" %sccs.include.redist.man%
E 2
.\"
D 4
.\"	%W% (Berkeley) %G%
E 4
I 4
.\"     %W% (Berkeley) %G%
E 4
.\"
D 4
.TH kvm_mkdb 8 "%Q%"
.UC 7
.SH NAME
kvm_mkdb \- create kernel database
.SH SYNOPSIS
D 3
.B kvm_mkdb
E 3
I 3
.B kvm_mkdb [ file ]
E 3
.SH DESCRIPTION
D 3
.I kvm_mkdb
creates a database in /var/run containing information about /vmunix and
possibly other fairly static information about the current system.
Various library routines consult this database.
The only information currently stored is the kernel namelist, which is
used by the
E 3
I 3
.I Kvm_mkdb
creates a
.IR db(3)
database in ``/var/run/kvm_vmunix.db'' which contains the
namelist of
.I file
(or, by default,  /vmunix).
Each symbol is stored with its name as the key and its associated
nlist structure as the data.
.PP
The 
E 3
.IR kvm_nlist (3)
D 3
function.
E 3
I 3
library routines use this database.
.PP
The text string found at the location referenced by the symbol
``_version'' is stored as the data associated with the special
key ``VERSION''.
E 3
.SH FILES
D 3
/vmunix
E 3
I 3
/vmunix				Default file read for namelist
E 3
.br
D 3
/var/run/kvm_vmunix.{dir,pag}
E 3
I 3
/var/run/kvm_vmunix.db	Database file
E 3
.SH SEE ALSO
D 3
kvm_nlist(3)
E 3
I 3
db(3), kvm_nlist(3), nlist(3), dev_mkdb(8)
E 4
I 4
.Dd %Q%
.Dt KVM_MKDB 8
.Os
.Sh NAME
.Nm kvm_mkdb
.Nd create kernel database
.Sh SYNOPSIS
.Nm kvm_mkdb
I 5
.Op file
E 5
.Sh DESCRIPTION
.Nm Kvm_mkdb
creates a database in
D 5
.Pa /var/run
containing information about
E 5
I 5
.Pa /var/db
containing information about the specified file.
If no file is specified,
E 5
.Pa /vmunix
D 5
and
perhaps other fairly static information about the current system.
E 5
I 5
is used by default.
The file is named ``kvm_filename.db'', where ``filename'' is the
name of the file read.
E 5
Various library routines consult this database.
The only information currently stored is the kernel namelist, which is
used by the
.Xr kvm_nlist 3
D 5
function.
E 5
I 5
function, however, in the future the database may contain other static
information about the current system.
E 5
.Sh FILES
D 5
.Bl -tag -width /var/run/kvm_vmunix.{dir,pag} -compact
E 5
I 5
.Bl -tag -width /var/db/kvm_vmunix.db -compact
E 5
.It Pa /vmunix
D 5
.It Pa /var/run/kvm_vmunix.{dir,pag}
E 5
I 5
D 6
.It Pa /var/run/kvm_vmunix.db
E 6
I 6
.It Pa /var/db/kvm_vmunix.db
E 6
E 5
.El
.Sh SEE ALSO
.Xr kvm_nlist 3
.Sh HISTORY
The
D 8
.Nm
command
.Ud
E 8
I 8
.Nm kvm_mkdb
utility first appeared in 4.4BSD.
E 8
E 4
E 3
E 1
