h60251
s 00001/00000/00044
d D 8.12 95/05/29 09:27:19 eric 49 48
c sccs check the root directory
e
s 00005/00002/00039
d D 8.11 95/04/27 11:50:53 eric 48 47
c create .gz as well as .Z format
e
s 00011/00002/00030
d D 8.10 95/04/21 09:10:14 eric 47 46
c cleanup of DOMAIN and OSTYPE handling to avoid botches in the field
e
s 00002/00001/00030
d D 8.9 95/04/10 12:39:34 eric 46 45
c make tar file seem to have version number on all files
e
s 00001/00001/00030
d D 8.8 95/04/08 15:33:32 eric 45 44
c woops!
e
s 00006/00011/00025
d D 8.7 95/04/08 15:27:53 eric 44 43
c make everything into one tar file
e
s 00011/00000/00025
d D 8.6 95/03/31 15:08:33 eric 43 42
c do an sccs check before creating the tar files -- just in case
e
s 00001/00000/00024
d D 8.5 95/02/21 08:51:02 eric 42 41
c make sure makesendmail is executable on the tape
e
s 00001/00001/00023
d D 8.4 94/04/22 09:36:44 bostic 41 40
c add cf/cf
e
s 00007/00005/00017
d D 8.3 94/02/27 09:01:36 eric 40 39
c allow comments in Files.* files; chmod 444 *.ps before release per Keith
e
s 00001/00006/00021
d D 8.2 93/09/25 08:37:03 eric 39 38
c go ahead and install sendmail (but not config files)
e
s 00000/00000/00027
d D 8.1 93/06/07 10:36:29 bostic 38 37
c 4.4BSD snapshot (revision 8.1)
e
s 00001/00001/00026
d D 6.9 93/06/02 12:30:10 eric 37 36
c use ps as default printer
e
s 00001/00001/00026
d D 6.8 93/05/28 14:17:44 bostic 36 35
c add makemap by default
e
s 00004/00004/00023
d D 6.7 93/05/23 07:16:50 eric 35 34
c tar => pax
e
s 00001/00001/00026
d D 6.6 93/02/21 14:59:24 eric 34 33
c use lz as the default printer so we get the right tables
e
s 00007/00000/00020
d D 6.5 93/01/28 17:10:27 eric 33 32
c add ftp entry
e
s 00003/00000/00017
d D 6.4 93/01/21 15:31:17 eric 32 31
c make certain everything makes before creating tar files
e
s 00006/00002/00011
d D 6.3 93/01/20 16:50:14 eric 31 30
c break up the distribution
e
s 00001/00001/00012
d D 6.2 92/12/21 17:53:41 eric 30 29
c follow slinks when making the tar tape
e
s 00000/00000/00013
d D 6.1 92/12/21 16:14:13 eric 29 28
c Release 6
e
s 00003/00000/00010
d D 4.17 92/12/18 13:18:28 eric 28 27
c add entry to make R6 alpha tape
e
s 00007/00026/00003
d D 4.16 90/05/11 16:09:15 bostic 27 26
m first
m pass
m for
m new
m make
c 
e
s 00004/00009/00025
d D 4.15 89/01/19 16:21:55 bostic 26 25
m 
c cleanup
e
s 00012/00011/00022
d D 4.14 88/09/20 17:39:35 bostic 25 24
m 
c add cleandir, cleanup
e
s 00024/00071/00009
d D 4.13 88/05/01 19:59:02 bostic 24 23
m 
c Makefile for tahoe release
e
s 00007/00005/00073
d D 4.12 87/06/21 14:58:53 bostic 23 22
m 
c new template
e
s 00001/00002/00077
d D 4.11 87/04/02 11:43:05 bostic 22 21
m 
c setgid kmem now
e
s 00001/00003/00078
d D 4.10 86/11/03 10:30:49 mckusick 21 20
m 
c cf no longer exists
e
s 00008/00003/00073
d D 4.9 86/05/30 10:24:39 bloom 20 19
m 
c install cf file seperately, fix links on install
e
s 00001/00001/00075
d D 4.8 85/11/11 14:42:11 miriam 19 18
m 
c Cosmetic change.
e
s 00001/00001/00075
d D 4.7 85/11/11 14:35:15 miriam 18 17
m 
c Change makefile to reflect using system syslog, ie don't make 
c aux/syslog.
e
s 00005/00005/00071
d D 4.6 85/10/09 15:44:45 miriam 17 16
m 
c Install sendmail with explicit ownership of root.
e
s 00001/00001/00075
d D 4.5 85/09/19 00:24:00 mckusick 16 15
m 
c deal with fully specified host names
e
s 00001/00000/00075
d D 4.4 85/08/19 15:49:12 miriam 15 14
m 
c Put in chgrp to kmem for load average.
e
s 00014/00014/00061
d D 4.3 85/02/15 09:34:08 eric 14 13
m 
c cleanup for aux/syslog changes
e
s 00001/00001/00074
d D 4.2 83/09/12 13:36:52 karels 13 12
m 
c no "-c" on install (so make all will)
e
s 00000/00000/00075
d D 4.1 83/07/25 19:03:35 eric 12 11
m 
c 4.2 release version
e
s 00012/00012/00063
d D 3.11 83/07/09 22:55:48 sam 11 10
m 
c pass MFLAGS please!!!
e
s 00002/00002/00073
d D 3.10 83/06/18 16:02:29 sam 10 9
m 
c quit making documents, I'm getting tired of removing them 
c from the spool queue
e
s 00001/00001/00074
d D 3.9 83/05/20 12:20:34 eric 9 8
m 
c add "h" flag to tar so that rmail.c will be included
e
s 00017/00018/00058
d D 3.8 83/02/09 10:31:14 eric 8 7
m 
c clean up install entry to use install script
e
s 00001/00000/00075
d D 3.7 83/02/09 10:06:53 eric 7 6
m 
c clean up clean entry for 4.1c release
e
s 00001/00000/00074
d D 3.6 83/02/09 09:32:07 eric 6 5
m 
c make clean in doc
e
s 00004/00000/00070
d D 3.5 83/01/16 17:34:10 eric 5 4
m 
c add "make tar" to create a tar image of the distribution
e
s 00006/00005/00064
d D 3.4 83/01/10 09:30:47 eric 4 3
m 
c choose the configuration file by calling "hostname"
e
s 00013/00009/00056
d D 3.3 83/01/01 15:56:30 eric 3 2
m 
c install /usr/adm/newsyslog when syslog is installed
e
s 00001/00001/00064
d D 3.2 82/12/27 10:57:57 eric 2 1
m 109
c make it all work....
e
s 00065/00000/00000
d D 3.1 82/12/26 20:52:37 eric 1 0
m 109
c date and time created 82/12/26 20:52:37 by eric
e
u
U
f b 
f i 
t
T
I 1
D 27
#
D 24
#	Makefile for sendmail base directory
E 24
I 24
D 25
# Copyright (c) 1988 Regents of the University of California.
E 25
I 25
# Copyright (c) 1988 The Regents of the University of California.
E 25
# All rights reserved.
E 24
#
D 24
#		%W%	%Y%	%G%
E 24
I 24
# Redistribution and use in source and binary forms are permitted
D 25
# provided that this notice is preserved and that due credit is given
# to the University of California at Berkeley. The name of the University
# may not be used to endorse or promote products derived from this
# software without specific prior written permission. This software
# is provided ``as is'' without express or implied warranty.
E 25
I 25
# provided that the above copyright notice and this paragraph are
# duplicated in all such forms and that any documentation,
# advertising materials, and other materials related to such
# distribution and use acknowledge that the software was developed
# by the University of California, Berkeley.  The name of the
# University may not be used to endorse or promote products derived
# from this software without specific prior written permission.
# THIS SOFTWARE IS PROVIDED ``AS IS'' AND WITHOUT ANY EXPRESS OR
# IMPLIED WARRANTIES, INCLUDING, WITHOUT LIMITATION, THE IMPLIED
# WARRANTIES OF MERCHANTIBILITY AND FITNESS FOR A PARTICULAR PURPOSE.
E 25
E 24
#
I 24
#	%W% (Berkeley) %G%
#
D 26
SUBDIR=	lib src aux
E 26
I 26
SUBDIR=	src aux
E 27
I 27
#       %W% (Berkeley) %G%
E 27
E 26
E 24

I 48
VER=	XX
E 48
D 18
ALL=	src/sendmail aux/syslog
E 18
I 18
D 24
ALL=	src/sendmail
E 18
DIRS=	$(DESTDIR)/usr/spool/mqueue
SRCDIR=	$(DESTDIR)/usr/src/usr.lib/sendmail
D 21
ALLDIRS=include adm src aux md cf lib doc adb test
E 21
I 21
ALLDIRS=include adm src aux md lib doc adb test
E 21
D 4
MACH=	calder
E 4
I 4
BACKUP=	calder
E 4
SENDMAIL=$(DESTDIR)/usr/lib/sendmail
I 3
SYSLOG=	/usr/spool/mqueue/syslog
I 4
D 16
HOST=	`hostname | sed s/ucb//`
E 16
I 16
HOST=	`hostname | sed -e 's/ucb//' -e 's/\..*//'`
E 24
I 24
D 27
all: ${SUBDIR}
E 27
I 27
D 36
SUBDIR= mailstats praliases
E 36
I 36
D 39
SUBDIR= mailstats makemap praliases
E 39
I 39
D 41
SUBDIR= src mailstats makemap praliases
E 41
I 41
SUBDIR= src mailstats makemap praliases cf/cf
E 41
I 40
D 44
FTPDIR=	barad-dur:/disks/barad-dur/ftp/sendmail/.
E 44
I 44
FTPDIR=	mastodon:/disks/barad-dur/ftp/sendmail/.
E 44
E 40
E 39
E 36
I 31
D 48
VER=	XX
E 48
I 48
DISTFILES=sendmail.${VER}.tar.Z sendmail.${VER}.tar.gz \
	RELEASE_NOTES FAQ KNOWNBUGS
E 48
I 44
FILES=	Files.base Files.cf Files.misc Files.xdoc
E 44
E 31
E 27
E 24
E 16
E 4
E 3
D 39

I 20
D 24
# When hardlinks are used, the references to LN below will need changes
# for DESTDIR != /
E 20
LN=	ln -s
CP=	cp
E 24
I 24
D 27
${SUBDIR}: FRC
	cd $@; make ${MFLAGS}
E 27
I 27
# don't trivially install sendmail
.if !make(install)
SUBDIR+=src
.endif
E 39
E 27
E 24

I 28
D 31
tar: Files
D 30
	tar cf sendmail.tar `cat Files`
E 30
I 30
	tar chf sendmail.tar `cat Files`
E 31
I 31
D 47
tar: Files.base Files.cf Files.misc Files.xdoc
E 47
I 47
tar: sccs-check compile-world run-pax

sccs-check:
I 49
	sccs check
E 49
E 47
I 43
	(cd src; sccs check)
	(cd doc/op; sccs check)
	(cd doc/intro; sccs check)
	(cd doc/usenix; sccs check)
	(cd cf; sccs check)
	(cd cf/m4; sccs check)
	(cd cf/mailer; sccs check)
	(cd cf/feature; sccs check)
	(cd cf/cf; sccs check)
	(cd cf/ostype; sccs check)
	(cd cf/domain; sccs check)
I 47

compile-world:
E 47
E 43
I 32
	(cd src; ${MAKE})
D 34
	(cd doc; ${MAKE})
E 34
I 34
D 37
	(cd doc; PRINTER=lz ${MAKE})
E 37
I 37
	(cd doc; PRINTER=ps ${MAKE})
I 40
	(cd doc; chmod 444 op/op.ps intro/intro.ps usenix/usenix.ps)
E 40
E 37
E 34
	(cd cf/cf; ${MAKE})
I 47

run-pax: Files.base Files.cf Files.misc Files.xdoc
E 47
I 42
	chmod +x src/makesendmail
E 42
E 32
D 35
	tar chf sendmail.${VER}.base.tar `cat Files.base`
E 35
I 35
D 40
	pax -w -x tar -L -f sendmail.${VER}.base.tar `cat Files.base`
E 40
I 40
D 44
	pax -w -x tar -L -f sendmail.${VER}.base.tar `grep -v ^# Files.base`
E 40
E 35
I 33
	compress sendmail.${VER}.base.tar
E 33
D 35
	tar chf sendmail.${VER}.cf.tar `cat Files.cf`
E 35
I 35
D 40
	pax -w -x tar -L -f sendmail.${VER}.cf.tar `cat Files.cf`
E 40
I 40
	pax -w -x tar -L -f sendmail.${VER}.cf.tar `grep -v ^# Files.cf`
E 40
E 35
I 33
	compress sendmail.${VER}.cf.tar
E 33
D 35
	tar chf sendmail.${VER}.misc.tar `cat Files.misc`
E 35
I 35
D 40
	pax -w -x tar -L -f sendmail.${VER}.misc.tar `cat Files.misc`
E 40
I 40
	pax -w -x tar -L -f sendmail.${VER}.misc.tar `grep -v ^# Files.misc`
E 40
E 35
I 33
	compress sendmail.${VER}.misc.tar
E 33
D 35
	tar chf sendmail.${VER}.xdoc.tar `cat Files.xdoc`
E 35
I 35
D 40
	pax -w -x tar -L -f sendmail.${VER}.xdoc.tar `cat Files.xdoc`
E 40
I 40
	pax -w -x tar -L -f sendmail.${VER}.xdoc.tar `grep -v ^# Files.xdoc`
E 40
E 35
I 33
	compress sendmail.${VER}.xdoc.tar
E 44
I 44
D 45
	pax -w -x tar -L -f sendmail.${VER}.tar `grep -v ^# ${FILES}`
E 45
I 45
D 46
	pax -w -x tar -L -f sendmail.${VER}.tar `cat ${FILES} | grep -v ^#`
E 46
I 46
D 47
	pax -w -x tar -L -s ,^,sendmail-${VER}/, -f sendmail.${VER}.tar \
E 47
I 47
	pax -w -x tar -L \
		-s ",cf/domain/unspecified-domain,sendmail-${VER}/cf/domain/berkeley-only,p" \
		-s ",^,sendmail-${VER}/," \
		-f sendmail.${VER}.tar \
E 47
		`cat ${FILES} | grep -v ^#`
I 48
	gzip -c sendmail.${VER}.tar > sendmail.${VER}.tar.gz
E 48
E 46
E 45
	compress sendmail.${VER}.tar
E 44

D 44
ftp: sendmail.${VER}.base.tar.Z sendmail.${VER}.cf.tar.Z sendmail.${VER}.misc.tar.Z sendmail.${VER}.xdoc.tar.Z
D 40
	rcp sendmail.${VER}.*.tar.Z RELEASE_NOTES barad-dur:/disks/barad-dur/ftp/sendmail/.
E 40
I 40
	rcp sendmail.${VER}.*.tar.Z RELEASE_NOTES FAQ KNOWNBUGS ${FTPDIR}
E 44
I 44
ftp: sendmail.${VER}.tar.Z
D 48
	rcp sendmail.${VER}.tar.Z RELEASE_NOTES FAQ KNOWNBUGS ${FTPDIR}
E 48
I 48
	rcp ${DISTFILES} ${FTPDIR}
E 48
E 44
E 40
E 33
E 31
E 30

E 28
D 24
all:
D 11
	cd lib; make
	cd src; m4 Makefile.m4 > Makefile; make
D 2
	cd aux; make
E 2
I 2
	cd aux; m4 Makefile.m4 > Makefile; make
I 8
	cd cf;  make
D 10
	cd doc; make
E 10
I 10
#	cd doc; make
E 11
I 11
	cd lib; make ${MFLAGS}
	cd src; m4 Makefile.m4 > Makefile; make ${MFLAGS}
D 14
	cd aux; m4 Makefile.m4 > Makefile; make ${MFLAGS}
E 14
I 14
	-cd aux; m4 Makefile.m4 > Makefile; make ${MFLAGS}
E 14
D 21
	cd cf;  make ${MFLAGS}
E 21
#	cd doc; make ${MFLAGS}
E 24
I 24
D 25
clean: FRC
E 25
I 25
D 26
clean cleandir depend: FRC
E 25
	for i in ${SUBDIR}; do (cd $$i; make ${MFLAGS} clean); done
E 26
I 26
D 27
clean cleandir depend install: FRC
	for i in ${SUBDIR}; do (cd $$i; make ${MFLAGS} $@); done
E 26
E 24
E 11
E 10
E 8
E 2

D 23
install: $(ALL) $(DIRS)
E 23
I 23
D 24
install:
E 23
D 8
	$(CP)	aux/syslog	$(DESTDIR)/etc/syslog
	$(CP)	aux/syslog.conf	$(DESTDIR)/etc/syslog.conf
	$(CP)	/dev/null	$(DESTDIR)/etc/syslog.pid
	chown	daemon		$(DESTDIR)/etc/syslog.pid
	chmod	644		$(DESTDIR)/etc/syslog.pid
D 3
	$(CP)	/dev/null	$(DESTDIR)/usr/spool/mqueue/syslog
	chown	daemon		$(DESTDIR)/usr/spool/mqueue/syslog
	chmod	644		$(DESTDIR)/usr/spool/mqueue/syslog
	$(CP)	src/sendmail	$(DESTDIR)/usr/lib/sendmail
	$(CP)	lib/sendmail.hf	$(DESTDIR)/usr/lib/sendmail.hf
	$(CP)	/dev/null	$(DESTDIR)/usr/lib/sendmail.st
	chmod	666		$(DESTDIR)/usr/lib/sendmail.st
	$(CP)	/dev/null	$(DESTDIR)/usr/lib/sendmail.fc
	$(CP)	cf/default.cf	$(DESTDIR)/usr/lib/sendmail.cf
E 3
I 3
	$(CP)	/dev/null	$(DESTDIR)$(SYSLOG)
	chown	daemon		$(DESTDIR)$(SYSLOG)
	chmod	644		$(DESTDIR)$(SYSLOG)
	for i in 0 1 2 3 4 5 6 7; do cp /dev/null $(DESTDIR)$(SYSLOG).$$i; done
	$(CP)	lib/newsyslog.sh $(DESTDIR)/usr/adm/newsyslog
E 8
I 8
D 14
	install -o 1		aux/syslog	$(DESTDIR)/etc/syslog
	install -c -o 1 -m 644	aux/syslog.conf	$(DESTDIR)/etc/syslog.conf
	install -c -o 1 -m 644	/dev/null	$(DESTDIR)/etc/syslog.pid
	install -c -o 1 -m 644	/dev/null	$(DESTDIR)$(SYSLOG)
	for i in 0 1 2 3 4 5 6 7; do install -c -o 1 -m 644 /dev/null $(DESTDIR)$(SYSLOG).$$i; done
	install -c -o 1		lib/newsyslog.sh $(DESTDIR)/usr/adm/newsyslog
E 8
D 10
	echo	'5 4 * * * sh /usr/adm/newsyslog' >> $(DESTDIR)/usr/lib/crontab
E 10
I 10
#	echo	'5 4 * * * sh /usr/adm/newsyslog' >> $(DESTDIR)/usr/lib/crontab
E 14
E 10
D 8
	$(CP)	src/sendmail	$(SENDMAIL)
	$(CP)	lib/sendmail.hf	$(SENDMAIL).hf
	$(CP)	/dev/null	$(SENDMAIL).st
	chmod	666		$(SENDMAIL).st
	$(CP)	/dev/null	$(SENDMAIL).fc
D 4
	$(CP)	cf/default.cf	$(SENDMAIL).cf
E 4
I 4
	$(CP)	cf/$(HOST).cf	$(SENDMAIL).cf
E 4
E 3
	$(LN)	$(SENDMAIL)	$(DESTDIR)/usr/ucb/newaliases
	$(LN)	$(SENDMAIL)	$(DESTDIR)/usr/ucb/mailq
E 8
I 8
D 13
	install -c -s -m 4755	src/sendmail	$(SENDMAIL)
E 13
I 13
D 17
	install -s -m 4755	src/sendmail	$(SENDMAIL)
E 17
I 17
D 22
	install -s -o root -m 4755	src/sendmail	$(SENDMAIL)
E 17
I 15
	chgrp kmem $(SENDMAIL)
E 22
I 22
	install -s -o root -g kmem -m 6755	src/sendmail	$(SENDMAIL)
E 22
E 15
E 13
D 17
	install -c -m 644	lib/sendmail.hf	$(SENDMAIL).hf
	install -c -m 666	/dev/null	$(SENDMAIL).st
	install -c -m 644	/dev/null	$(SENDMAIL).fc
	install -c -m 644	cf/$(HOST).cf	$(SENDMAIL).cf
E 17
I 17
D 23
	install -c -o root -m 644	lib/sendmail.hf	$(SENDMAIL).hf
	install -c -o root -m 666	/dev/null	$(SENDMAIL).st
	install -c -o root -m 644	/dev/null	$(SENDMAIL).fc
E 23
I 23
	install -c -o bin -g bin -m 644	lib/sendmail.hf	$(SENDMAIL).hf
	install -c -o bin -g bin -m 666	/dev/null	$(SENDMAIL).st
	install -c -o bin -g bin -m 644	/dev/null	$(SENDMAIL).fc
E 23
D 19
	install -c -o root -m 644	cf/$(HOST).cf	$(SENDMAIL).cf
E 19
E 17
	rm -f					$(DESTDIR)/usr/ucb/newaliases
D 20
	$(LN)			$(SENDMAIL)	$(DESTDIR)/usr/ucb/newaliases
E 20
I 20
	$(LN)			/usr/lib/sendmail  $(DESTDIR)/usr/ucb/newaliases
E 20
	rm -f					$(DESTDIR)/usr/ucb/mailq
D 20
	$(LN)			$(SENDMAIL)	$(DESTDIR)/usr/ucb/mailq
I 19
	install -c -o root -m 644	cf/$(HOST).cf	$(SENDMAIL).cf
E 20
I 20
	$(LN)			/usr/lib/sendmail  $(DESTDIR)/usr/ucb/mailq
#	install -c -o root -m 644	cf/$(HOST).cf	$(SENDMAIL).cf
E 20
E 19
I 14
#	install -o 1		aux/syslog	$(DESTDIR)/etc/syslog
#	install -c -o 1 -m 644	aux/syslog.conf	$(DESTDIR)/etc/syslog.conf
#	install -c -o 1 -m 644	/dev/null	$(DESTDIR)/etc/syslog.pid
#	install -c -o 1 -m 644	/dev/null	$(DESTDIR)$(SYSLOG)
#	for i in 0 1 2 3 4 5 6 7; do install -c -o 1 -m 644 /dev/null $(DESTDIR)$(SYSLOG).$$i; done
#	install -c -o 1		lib/newsyslog.sh $(DESTDIR)/usr/adm/newsyslog
#	echo	'5 4 * * * sh /usr/adm/newsyslog' >> $(DESTDIR)/usr/lib/crontab
E 24
I 24
D 25
depend: FRC
	for i in ${SUBDIR}; do (cd $$i; make ${MFLAGS} depend); done
E 24
I 20

E 25
D 24
installcf:
D 23
	install -c -o root -m 644	cf/$(HOST).cf	$(SENDMAIL).cf
E 23
I 23
	install -c -o bin -g bin -m 644	cf/$(HOST).cf	$(SENDMAIL).cf
E 24
I 24
D 26
install: FRC
	-mkdir ${DESTDIR}/usr/spool/mqueue
	chown root.wheel ${DESTDIR}/usr/spool/mqueue
	chmod 775 ${DESTDIR}/usr/spool/mqueue
	for i in ${SUBDIR}; do (cd $$i; make ${MFLAGS} install); done
E 24
E 23
E 20
E 14
E 8

E 26
I 26
FRC:
E 27
I 27
.include <bsd.subdir.mk>
E 27
E 26
D 24
src/sendmail:
D 11
	cd src; make sendmail
E 11
I 11
	cd src; make ${MFLAGS} sendmail
E 11

aux/syslog:
D 11
	cd aux; make syslog
E 11
I 11
D 14
	cd aux; make ${MFLAGS} syslog
E 14
I 14
	-cd aux; make ${MFLAGS} syslog
E 14
E 11

$(DESTDIR)/usr/spool/mqueue:
	mkdir			$(DESTDIR)/usr/spool/mqueue
	chmod	777		$(DESTDIR)/usr/spool/mqueue

clean:
D 11
	cd src; make clean
I 7
	cd cf;  make clean
E 7
	cd aux; make clean
	cd lib; make clean
I 6
	cd doc; make clean
E 11
I 11
D 14
	cd src; make ${MFLAGS} clean
	cd cf;  make ${MFLAGS} clean
	cd aux; make ${MFLAGS} clean
	cd lib; make ${MFLAGS} clean
	cd doc; make ${MFLAGS} clean
E 14
I 14
	-cd src; make ${MFLAGS} clean
D 21
	-cd cf;  make ${MFLAGS} clean
E 21
	-cd aux; make ${MFLAGS} clean
	-cd lib; make ${MFLAGS} clean
	-cd doc; make ${MFLAGS} clean
I 23

depend:
E 23
E 14
E 11
E 6

dirs:
	mkdir $(SRCROOT)
	cd $(SRCROOT); mkdir $(ALLDIRS)

rcp:
D 4
	rsh $(MACH) mkdir sendmail
	rsh $(MACH) 'cd sendmail; mkdir $(ALLDIRS)'
	for i in `cat FILES`; do rcp $$i $(MACH):sendmail/$$i; done
E 4
I 4
	rsh $(BACKUP) mkdir sendmail
	rsh $(BACKUP) 'cd sendmail; mkdir $(ALLDIRS)'
	for i in `cat FILES`; do rcp $$i $(BACKUP):sendmail/$$i; done
E 4

srcinstall:
	for i in `cat FILES`; do rm -f $(SRCDIR)/$$i; cp $$i $(SRCDIR)/$$i; done
I 5

tar:
	rm -f sendmail.tar
D 9
	tar rcf sendmail.tar `cat FILES`
E 9
I 9
	tar rcfh sendmail.tar `cat FILES`
E 24
I 24
D 25
FRC:
E 25
E 24
E 9
E 5
E 1
