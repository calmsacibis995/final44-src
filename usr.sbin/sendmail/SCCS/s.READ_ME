h47663
s 00002/00002/00263
d D 8.17 95/06/16 12:03:24 eric 36 35
c update MB/MR/MG RFC number
e
s 00002/00003/00263
d D 8.16 95/06/13 15:19:39 eric 35 34
c praliases can read NEWDB files
e
s 00001/00001/00265
d D 8.15 95/06/10 10:11:27 eric 34 33
c typo
e
s 00007/00003/00259
d D 8.14 95/05/24 06:49:34 eric 33 32
c emphasize FTP site and that this is a Beta release
e
s 00018/00010/00244
d D 8.13 94/12/07 06:24:41 eric 32 31
c add information about IDENT servers; clean up lie about DNS
e
s 00013/00001/00241
d D 8.12 94/11/13 15:53:49 eric 31 30
c add mail.local and smrsh to release
e
s 00004/00001/00238
d D 8.11 94/05/19 08:33:45 eric 30 29
c clarify that rmail is not part of sendmail
e
s 00029/00000/00210
d D 8.10 94/04/13 07:34:55 eric 29 28
c emphasize that full domain name must be first in /etc/hsots
e
s 00014/00006/00196
d D 8.9 94/01/26 17:39:28 eric 28 27
c junk on MG, MB, MR records; more cleanup on make description
e
s 00030/00000/00172
d D 8.8 94/01/04 07:52:08 eric 27 26
c .sm macro; more Makefile info
e
s 00012/00000/00160
d D 8.7 93/12/13 07:39:21 eric 26 25
c add MH comment
e
s 00026/00000/00134
d D 8.6 93/12/01 11:35:11 eric 25 24
c add related documentation references
e
s 00003/00003/00131
d D 8.5 93/09/28 06:28:06 eric 24 23
c update location of tmac sources on uunet
e
s 00003/00000/00131
d D 8.4 93/09/03 09:20:11 eric 23 22
c more info on man pages
e
s 00039/00003/00092
d D 8.3 93/08/20 14:07:04 eric 22 21
c add detail on new man page format
e
s 00001/00000/00094
d D 8.2 93/07/19 11:29:24 eric 21 20
c add description of test directory
e
s 00000/00000/00094
d D 8.1 93/06/07 10:44:34 bostic 20 19
c 4.4BSD snapshot (revision 8.1)
e
s 00009/00019/00085
d D 6.11 93/06/07 10:44:26 bostic 19 18
c update for 4.4BSD
e
s 00000/00013/00104
d D 6.10 93/05/29 20:03:37 eric 18 17
c delete mail.local reference
e
s 00004/00003/00113
d D 6.9 93/05/28 15:07:54 eric 17 16
c alpha => beta
e
s 00002/00000/00114
d D 6.8 93/05/05 07:11:03 eric 16 15
c add references to MIME documents
e
s 00005/00002/00109
d D 6.7 93/04/16 09:37:12 eric 15 14
c update expected release date and mention contrib directory
e
s 00006/00000/00105
d D 6.6 93/02/27 08:24:21 eric 14 13
c add no public FTP message
e
s 00001/00001/00104
d D 6.5 93/02/14 16:17:23 eric 13 12
c db library now stored on vangogh
e
s 00056/00021/00049
d D 6.4 93/02/14 14:45:33 eric 12 11
c rearrange and point people at relevant RFCs
e
s 00007/00001/00063
d D 6.3 93/01/21 15:31:03 eric 11 10
c explain some more things.....
e
s 00011/00002/00053
d D 6.2 93/01/20 13:43:01 eric 10 9
c random clarity updates
e
s 00000/00000/00055
d D 6.1 92/12/21 16:14:13 eric 9 8
c Release 6
e
s 00050/00007/00005
d D 4.6 92/12/18 13:17:41 eric 8 7
c update description for R6 alpha tape
e
s 00006/00003/00006
d D 4.5 92/07/12 11:15:21 eric 7 6
m 
c reality therapy
e
s 00002/00003/00007
d D 4.4 91/04/20 16:08:27 bostic 6 5
m 
c bring up to date
e
s 00005/00019/00005
d D 4.3 90/04/29 16:32:13 bostic 5 4
m 
c update after moving things around and pmake
e
s 00023/00063/00001
d D 4.2 89/01/19 16:21:10 bostic 4 3
m 
c clean out the deadwood
e
s 00000/00000/00064
d D 4.1 83/07/25 19:02:20 eric 3 2
m 
c 4.2 release version
e
s 00013/00001/00051
d D 3.2 83/05/20 12:30:15 eric 2 1
m 
c update for 4.2 beta release
e
s 00052/00000/00000
d D 3.1 83/01/10 09:46:22 eric 1 0
m 
c date and time created 83/01/10 09:46:22 by eric
e
u
U
f b 
f i 
t
T
I 4
D 5
/*
 * Copyright (c) 1988 The Regents of the University of California.
 * All rights reserved.
 *
 * Redistribution and use in source and binary forms are permitted
 * provided that the above copyright notice and this paragraph are
 * duplicated in all such forms and that any documentation,
 * advertising materials, and other materials related to such
 * distribution and use acknowledge that the software was developed
 * by the University of California, Berkeley.  The name of the
 * University may not be used to endorse or promote products derived
 * from this software without specific prior written permission.
 * THIS SOFTWARE IS PROVIDED ``AS IS'' AND WITHOUT ANY EXPRESS OR
 * IMPLIED WARRANTIES, INCLUDING, WITHOUT LIMITATION, THE IMPLIED
 * WARRANTIES OF MERCHANTABILITY AND FITNESS FOR A PARTICULAR PURPOSE.
 *
E 5
I 5
/*-
E 5
 *	%W% (Berkeley) %G%
 */
E 4
I 1

D 2
		        SENDMAIL DISTRIBUTION
E 2
I 2
D 4
			S E N D M A I L
E 2

Presumably by the time you get to this READ_ME file, you will have
already read the tape in, or will have received this distribution as
part of 4.2bsd.  If you do not yet have the distribution online, read
the tape in now -- you will need about one megabyte to hold the tape.

The first thing you should look at is the documentation.  The two
critical documents are "doc/intro.me" and "doc/op.me".  Read both
of these before proceeding with your installation.  If you have read
these before, you should still read through the second one again
anyhow, since the installation procedures change occasionally.

A brief tour:
	FILES	  A list of the files on the tape.
	Makefile  A Makefile that will do a vanilla install for you.
	adb	  A set of adb(1) scripts for printing out certain
		  sendmail data structures.
	adm	  Administrativia.
	aux	  Files that represent programs that are not really
		  "part" of sendmail, or old versions of some files
		  in src for use by people on other system types.
	cf	  The configuration files for Berkeley, plus a few
		  prototype configurations for basic installation
		  types.
	doc	  The documentation.
	include	  The include files used by more than just the sendmail
		  program itself.
	lib	  Library routines used by sendmail, but not really
		  "part" of sendmail itself; these might be candidates
		  for libc.a.
	md	  Some m4 files used to isolate machine dependencies.
	src	  The source for the sendmail program itself.
	test	  Some files used for testing -- mostly these are
		  shell files intended as the targets for aliasing.
I 2

The following are the known major problems and their Problem Report
number:

012, 043	Names of files and programs cannot have upper case letters
		in them -- these get mapped to lower case due to the
		case mapping feature.
178		Because of the different syntaxes used in envelopes versus
		headers, we will occasionally allow syntactically incorrect
		headers go out.
226		Quote interpretation may be incorrect -- this is not well
		defined in the protocols.
E 2

Due to my present circumstances, I am unable to provide a formal
level of support for this system.  However, I will make whatever
attempt I can to answer a reasonable number of questions.  Since
the company I am working for is not working in this area, and has
indulged me tremendously in letting me work on this at all, I regret
that I am unable to accept phone calls.  I can be contacted as:

		OLD			NEW
    Arpanet:	eric@Berkeley		eric@Berkeley.ARPA
    UUCP:	ucbvax!eric		eric@ucbvax.UUCP

Eric Allman
Britton-Lee, Inc.

%W%	%Y%	%G%
E 4
I 4
D 5
Makefile	A Makefile that will do a vanilla install for you.
aux		Auxiliary programs for sendmail like rmail and binmail.
E 5
I 5
D 7
aux		Auxiliary programs, probably all out-of-date.
E 5
D 6
cf		Configuration files.
I 5
delivermail	Source for delivermail(1) (the old /bin/mail).
E 6
I 6
mail.local	Source for mail.local(8) (the old /bin/mail).
E 7
E 6
E 5
D 8
doc		Documentation.
E 8
I 8
D 17
THIS IS AN ALPHA VERSION OF SENDMAIL.  DON'T EVEN THINK ABOUT USING IT
IN A HEAVY PRODUCTION ENVIRONMENT.  We've been running it (in various
E 17
I 17
D 19
THIS IS A BETA VERSION OF SENDMAIL.  We've been running it (in various
E 17
forms) at Berkeley for several months, but our environment is far from
general.  In particular, it hasn't been heavily tested for non-SMTP
environments.  The good news is that most of the changes have been
Internet-related, and that has been tested.
E 19
I 19
			SENDMAIL RELEASE 8
E 19

D 19
REPORT ANY BUGS to sendmail@CS.Berkeley.EDU.
E 19
I 19
This directory has the latest sendmail software from Berkeley.  See
D 33
doc/op/op.me for a summary of changes since 5.67.
E 33
I 33
doc/changes/changes.me for a summary of changes since 5.67.
E 33
E 19

D 19
THIS IS COPYRIGHTED CODE.  BY COMPILING AND RUNNING THIS CODE YOU AGREE
to upgrade to the production release when it comes out.  You understand
D 15
that we hope this will be by March, but if there are serious problems
E 15
I 15
that we hope this will be by June, but if there are serious problems
E 15
it may be longer than that.
E 19
I 19
Report any bugs to sendmail@CS.Berkeley.EDU.
E 19

I 14
D 19
PLEASE DO NOT MAKE THIS AVAILABLE ON PUBLIC FTP.  Since it is still an
early release, I'd prefer that people get copies directly from Berkeley
to make certain that they have the most recent version.  This isn't
an attempt to limit access, just to make certain that everyone is able
D 17
to keep up.
E 17
I 17
to keep up.  If you got this version from anywhere other than direct
from Berkeley, check the machine FTP.CS.Berkeley.EDU, directory
/ucb/sendmail for the latest version.
E 19
I 19
D 33
The latest version of sendmail is kept on FTP.CS.Berkeley.EDU, directory
/ucb/sendmail; check there for the latest revision.
E 33
I 33
**************************************************************************
**  The latest version of sendmail is kept on FTP.CS.Berkeley.EDU,	**
**  directory /ucb/src/sendmail; check there for the latest revision.	**
**  In particular, THIS IS A BETA PRERELEASE.  Check the FTP site for	**
**  updates, and read comp.mail.sendmail.				**
**************************************************************************
E 33
E 19
E 17

I 22

+--------------+
| MANUAL PAGES |
+--------------+

The sendmail manual pages use contemporary Berkeley troff macros.  If
your system does not process these manual pages, you can pick up the
D 24
new macros in a BSD Net/2 FTP site (e.g. 
ftp.uu.net:/systems/unix/bsd-unix/share/me/strip.sed and
ftp.uu.net:/systems/unix/bsd-unix/share/tmac/* )
E 24
I 24
new macros in a BSD Net/2 FTP site (e.g.  on FTP.UU.NET, the files
/systems/unix/bsd-sources/share/tmac/me/strip.sed and
/systems/unix/bsd-sources/share/tmac/*).
E 24

The strip.sed file is only used in installation.

After installation, edit tmac.doc and tmac.andoc to reflect the
installation path of the tmac files.  Those files contain pointers to
/usr/share/tmac/, and those pointers are not changed by the `make
install` process.

Rename the existing tmac.an to be tmac.an.old, and rename tmac.andoc
to be tmac.an.

tmac.an will choose between tmac.an.old, your old macros, or tmac.doc,
which are the new macros, so that both the new man pages and the
existing man pages will be translated properly.

I 23
I'm also told that the groff distribution from MIT has a tmac.doc
macro set that is compatible with these macros.

E 23

I 25
+-----------------------+
| RELATED DOCUMENTATION |
+-----------------------+

There are other files you should read.  Rooted in this directory are:

  CHANGES-R5-R8
	Describes changes between Release 5 and Release 8 of sendmail.
	There are some things that may behave somewhat differently.
	For example, the rules governing when :include: files will
	be read have been tightened up for security reasons.
  FAQ
	Answers to Frequently Asked Questions.
  KNOWNBUGS
	Known bugs in the current release.  I try to keep this up
	to date -- get the latest version from FTP.CS.Berkeley.EDU
	in /ucb/sendmail/KNOWNBUGS.
  RELEASE_NOTES
	A detailed description of the changes in each version.  This
	is quite long, but informative.
  src/READ_ME
	Details on compiling and installing sendmail.
  cf/README
	Details on configuring sendmail.
I 27
  doc/op/op.me
	The sendmail Installation & Operations Guide.  Be warned: if
	you are running this off on SunOS or some other system with an
	old version of -me, you need to add the following macro to the
	macros:
E 27

I 27
		.de sm
		\s-1\\$1\\s0\\$2
		..
E 27

I 27
	This sets a word in a smaller pointsize.


E 27
E 25
+--------------+
| RELATED RFCS |
+--------------+

E 22
E 14
D 12
The structure of this directory is:
E 12
I 12
D 18
You don't have to install mail.local to run the new version of sendmail.
Many versions of /bin/mail take a "-d" flag or do local delivery already.
In particular, mail.local is largely specific to 4.4 BSD, and will not
be easy to compile elsewhere.  It was written by Keith Bostic, not myself,
and was not intended for the "general case".
E 12

E 18
I 12
There are several related RFCs that you may wish to read -- they are
available via anonymous FTP to several sites, including nic.ddn.mil
(directory rfc), ftp.nisc.sri.com (rfc), nis.nsf.net (RFC),
nisc.jvnc.net (rfc), venera.isi.edu (in-notes), and wuarchive.wustl.edu
(info/rfc).  They can also be retrieved via electronic mail by sending
email to one of:

	mail-server@nisc.sri.com
		Put "send rfcNNN" in message body
	nis-info@nis.nsf.net
		Put "send RFCnnn.TXT-1" in message body
	sendrfc@jvnc.net
		Put "RFCnnn" as Subject: line

Important RFCs for electronic mail are:

	RFC821	SMTP protocol
	RFC822	Mail header format
	RFC974	MX routing
	RFC976	UUCP mail format
	RFC1123	Host requirements (modifies 821, 822, and 974)
I 15
	RFC1413	Identification server
I 16
D 31
	RFC1341	MIME: Multipurpose Internet Mail Extensions
E 31
I 31
	RFC1425	SMTP Service Extensions (ESMTP spec)
	RFC1426	SMTP Service Extension for 8bit-MIMEtransport
	RFC1427	SMTP Service Extension for Message Size Declaration
	RFC1521	MIME: Multipurpose Internet Mail Extensions
E 31
	RFC1344	Implications of MIME for Internet Mail Gateways
I 31
	RFC1428	Transation of Internet Mail from Just-Send-8 to
		8-bit SMTP/MIME
E 31
E 16
E 15

Other standards that may be of interest (but which are less directly
relevant to sendmail) are:

D 15
	RFC931	Authentication server
E 15
	RFC987	Mapping between RFC822 and X.400
	RFC1049	Content-Type header field (extension to RFC822)

D 28
Unfortunately, for a variety of reasons the Makefiles are for the new
Berkeley "make" and will not work on the old, traditional make.  I urge
you to get this make from Net2 (available on many public FTP archives).
Failing that, some directories have a "Makefile.dist" that will work on
older versions of make (but don't have the niceties included).
E 28
I 28
Warning to AIX users: this version of sendmail does not implement
D 36
MB, MR, or MG DNS resource records, as defined as experiments in
RFC883.
E 36
I 36
MB, MR, or MG DNS resource records, as defined (as experiments) in
RFC1035.
E 36
E 28

D 22
Similar comments apply to the man pages -- they use the new Berkeley
-mandoc macros instead of the -man macros.  You can get these from
Net2 as well.
E 22

I 22
+-------------------+
| DATABASE ROUTINES |
+-------------------+

E 22
IF YOU WANT TO RUN THE NEW BERKELEY DB SOFTWARE:  ****  DO NOT  ****
use the version that was on the Net2 tape -- it has a number of
nefarious bugs that were bad enough when I got them; you shouldn't have
to go through the same thing.  Instead, get a new version via public
D 13
FTP from okeeffe.CS.Berkeley.EDU, file pub/db.tar.Z.  This software
E 13
I 13
D 19
FTP from vangogh.CS.Berkeley.EDU, file pub/db.tar.Z.  This software
E 19
I 19
FTP from ftp.CS.Berkeley.EDU, file ucb/4bsd/db.tar.Z.  This software
E 19
E 13
is highly recommended; it gets rid of several stupid limits, it's much
faster, and the interface is nicer to animals and plants.  You will
also probably find that you have to add -I/where/you/put/db/include
to the sendmail makefile to get db.h to work properly.
I 22

I 28
Be sure you remove ndbm.h and ndbm.o from the db distribution.  These
will cause problems with sendmail because sendmail already understands
about NEWDB and NDBM coexisting.
E 28

I 28

I 29
+--------------------+
D 32
| Host Name Services |
E 32
I 32
| HOST NAME SERVICES |
E 32
+--------------------+

D 32
If you compile with NAMED_BIND (the default) sendmail will use
DNS (the Domain Name System) for most host name lookups.  If
you do not have DNS running at your site you may have to turn
this off to cause sendmail to use NIS and/or the /etc/hosts file.
In particular, on SunOS you have to choose to use DNS (which
you should do if you are attached to the Internet, otherwise
you lose MX records, which are required) or NIS -- there is no
way to try both.

E 32
If you are using NIS and /etc/hosts, it is critical that you
list the long (fully qualified) name first in the /etc/hosts file
used to build the NIS database.  For example, the line should read

	128.32.149.68   mastodon.CS.Berkeley.EDU mastodon

**** NOT ****

	128.32.149.68   mastodon mastodon.CS.Berkeley.EDU

If you use the wrong order, sendmail will conclude that your
canonical name is the short version and use that in messages.
The name "mastodon" doesn't mean much outside of Berkeley,
and so this creates incorrect and unreplyable messages.


E 29
E 28
I 26
+-------------+
| USE WITH MH |
+-------------+

This version of sendmail notices and reports certain kinds of SMTP
protocol violations that were ignored by older versions.  If you
are running MH you may wish to install the patch in contrib/mh.patch
that will prevent these warning reports.  This patch also works
with the old version of sendmail, so it's safe to go ahead and
install it.
I 32


+----------------+
| USE WITH IDENT |
+----------------+

Sendmail 8 supports the IDENT protocol, as defined by RFC 1413.
No ident server is included with this distribution.  I have found
copies available on:

  ftp.lysator.liu.se		/pub/ident/servers
  romulus.ucs.uoknor.edu	/networking/ident/servers
  ftp.cyf-kr.edu.pl		/agh/uciagh/network/ident

If you want to run an IDENT server, I suggest getting a copy from
one of those sites.  Versions are available for several different
systems, including Apollo, BSD, NeXT, AIX, TOPS20, and VMS.
E 32
I 27


+-----------+
| MAKEFILES |
+-----------+

The Makefiles in this release use the new Berkeley "make" that is
available in BSD Net/2 and 4.4BSD.  If you are using this version
of make, you may notice one or two places where the Makefile includes
"../../Makefile.inc".  This file is not included with the sendmail
distribution because it's not part of sendmail.  However, it is,
in toto:

	#	@(#)Makefile.inc	8.1 (Berkeley) 6/6/93

	BINDIR?=	/usr/sbin

The other directories should all have Makefile.dist files that work
D 28
on the old make.  For more details, see src/READ_ME.
E 28
I 28
on the old make, albeit without all the niceties included.

You can also get a new Berkeley make from the Net2 release (available
on many public FTP archives).  This version should also interpret old
Makefiles, so you could drop it in as your default make.

For more details, see src/READ_ME.
E 28
E 27


E 26
+---------------------+
| DIRECTORY STRUCTURE |
+---------------------+
E 22

The structure of this directory tree is:

E 12
cf		Source for Berkeley configuration files.  These are
		different than what you've seen before.  They are a
		fairly dramatic rewrite, requiring the new sendmail
		(since they use new features).
I 15
contrib		Some contributed tools to help with sendmail.  THESE
		ARE NOT SUPPORTED by Berkeley -- contact the original
D 19
		authors if you have problems.
E 19
I 19
		authors if you have problems.  (This directory is not
		on the 4.4BSD tape.)
E 19
E 15
doc		Documentation.  If you are getting source, read
		op.me -- it's long, but worth it.
I 31
mail.local	The source for the local delivery agent used for 4.4BSD.
		THIS IS NOT PART OF SENDMAIL! and may not compile
		everywhere, since it depends on some 4.4-isms.  Warning:
		it does mailbox locking differently than other systems.
E 31
D 18
mail.local	Source for mail.local(8), a local delivery program.
		Older versions of sendmail called /bin/mail with a
		special -d flag to mean "really deliver this mail";
		this is a completely new (and much smaller) program
		that does absolutely nothing but deliver local mail.
I 10
		THIS IS SPECIFIC TO 4.4BSD, and is not under my
		control.
E 18
E 10
mailstats	Statistics printing program.  It has the pathname of
		sendmail.st compiled in, so if you've changed that,
		beware.  This isn't all that useful.
makemap		A program that creates the keyed maps used by the $( ... $)
		construct in sendmail.  It is primitive but effective.
		It takes a very simple input format, so you will probably
		expect to preprocess must human-convenient formats
		using sed scripts before this program will like them.
		But it should be functionally complete.
D 35
praliases	A program to print the DBM version of the aliases file.
		It hasn't been converted to understand the new Berkeley
		DB format (which we are using).
E 35
I 35
praliases	A program to print the DBM or NEWDB version of the
		aliases file.
E 35
rmail		Source for rmail(8).  This is used as a delivery
		agent for for UUCP, and could presumably be used by
D 10
		other non-socket oriented mailers.
E 10
I 10
		other non-socket oriented mailers.  Older versions of
D 30
		rmail are probably deficient.
E 30
I 30
		rmail are probably deficient.  RMAIL IS NOT PART OF
		SENDMAIL!!!  The 4.4BSD source is included for you to
		look at or try to port to your system.  I know it doesn't
		compile on {SunOS, HP-UX, OSF/1, other} (pick one).
I 31
smrsh		The "sendmail restricted shell", which can be used as
D 34
		a replacement for /bin/mail in the prog mailer to provide
E 34
I 34
		a replacement for /bin/sh in the prog mailer to provide
E 34
		increased security control.  NOT PART OF SENDMAIL!
E 31
E 30
E 10
E 8
D 5
src		The source for the sendmail program itself.
E 5
I 5
D 6
rmail		Source for rmail(1).
E 6
I 6
D 7
rmail		Source for rmail(8).
E 7
E 6
src		Source for the sendmail program itself.
I 21
test		Some test scripts (currently only for compilation aids).
E 21
I 7
D 8
cf		Source for Berkeley configuration files.
mail.local	Source for mail.local(8) (the old /bin/mail).
rmail		Source for rmail(8).
praliases	A program (probably obsolete) to print the DBM version
		of the aliases file.
mailstats	Statistics printing program.
E 8
I 8
D 12

I 10
Unfortunately, for a variety of reasons the Makefiles are for the new
Berkeley "make" and will not work on the old, traditional make.  I urge
you to get this make from Net2 (available on many public FTP archives).
Failing that, some directories have a "Makefile.dist" that will work on
older versions of make (but don't have the niceties included).

I 11
Similar comments apply to the man pages -- they use the new Berkeley
-mandoc macros instead of the -man macros.  You can get these from
Net2 as well.

E 11
E 10
IF YOU WANT TO RUN THE NEW BERKELEY DB SOFTWARE:  ****  DO NOT  ****
D 10
use the version that was on the Net/2 tape -- it has a number of
E 10
I 10
use the version that was on the Net2 tape -- it has a number of
E 10
nefarious bugs that were bad enough when I got them; you shouldn't have
to go through the same thing.  Instead, get a new version via public
FTP from okeeffe.CS.Berkeley.EDU, file pub/db.tar.Z.  This software
is highly recommended; it gets rid of several stupid limits, it's much
D 11
faster, and the interface is nicer to animals and plants.
E 11
I 11
faster, and the interface is nicer to animals and plants.  You will
also probably find that you have to add -I/where/you/put/db/include
to the sendmail makefile to get db.h to work properly.
E 12
E 11
E 8
E 7
E 5
E 4
E 1
